{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/core/entities/spec/Timing.js","webpack:///./src/views/webpage/GalleryView.vue?3601","webpack:///./src/core/entities/spec/animation/NativeAnimation.js","webpack:///./src/components/webpage/common/PageFooter.vue?214b","webpack:///./src/core/entities/spec/BaseTemplate.js","webpack:///./src/views/webpage/HomepageView.vue?bd4c","webpack:///./src/core/entities/spec/transform/FilterTransform.js","webpack:///./src/App.vue?10c4","webpack:///src/App.vue","webpack:///./src/App.vue?1613","webpack:///./src/App.vue?6469","webpack:///./src/views/webpage/HomepageView.vue?0c1b","webpack:///./src/components/webpage/common/PageHeader.vue?b00a","webpack:///src/components/webpage/common/PageHeader.vue","webpack:///./src/components/webpage/common/PageHeader.vue?4dbb","webpack:///./src/components/webpage/common/PageHeader.vue?8b02","webpack:///./src/components/webpage/common/PageFooter.vue?b232","webpack:///src/components/webpage/common/PageFooter.vue","webpack:///./src/components/webpage/common/PageFooter.vue?5632","webpack:///./src/components/webpage/common/PageFooter.vue?017c","webpack:///src/views/webpage/HomepageView.vue","webpack:///./src/views/webpage/HomepageView.vue?5848","webpack:///./src/views/webpage/HomepageView.vue?c1da","webpack:///./src/views/webpage/GalleryView.vue?782c","webpack:///./src/components/editor/ProjSelPanel/SvgPreviewer.vue?540c","webpack:///src/components/editor/ProjSelPanel/SvgPreviewer.vue","webpack:///./src/components/editor/ProjSelPanel/SvgPreviewer.vue?6ad1","webpack:///./src/components/editor/ProjSelPanel/SvgPreviewer.vue","webpack:///src/views/webpage/GalleryView.vue","webpack:///./src/views/webpage/GalleryView.vue?78b5","webpack:///./src/views/webpage/GalleryView.vue?2280","webpack:///./src/views/webpage/ExampleView.vue?ccd4","webpack:///src/views/webpage/ExampleView.vue","webpack:///./src/views/webpage/ExampleView.vue?6d03","webpack:///./src/views/webpage/ExampleView.vue?171f","webpack:///./src/views/LiveView.vue?54f1","webpack:///./src/components/live/SelectColumnPanel.vue?69c8","webpack:///src/components/live/SelectColumnPanel.vue","webpack:///./src/components/live/SelectColumnPanel.vue?fac5","webpack:///./src/components/live/SelectColumnPanel.vue?cf68","webpack:///src/views/LiveView.vue","webpack:///./src/views/LiveView.vue?561f","webpack:///./src/views/LiveView.vue?73f6","webpack:///./src/views/UploadView.vue?7b54","webpack:///src/views/UploadView.vue","webpack:///./src/views/UploadView.vue?313e","webpack:///./src/views/UploadView.vue?7de0","webpack:///./src/router/index.js","webpack:///./src/utils/common/copy.js","webpack:///./src/utils/entities-core/Effect.js","webpack:///./src/utils/entities-core/EffectGsap.js","webpack:///./src/utils/preset/effects/scale.js","webpack:///./src/utils/preset/effects/move.js","webpack:///./src/utils/preset/effects/fade.js","webpack:///./src/utils/const/Direction.js","webpack:///./src/utils/preset/effects/grow.js","webpack:///./src/utils/preset/effects/wipe.js","webpack:///./src/utils/preset/effects/wheel.js","webpack:///./src/utils/const/TemplateType.js","webpack:///./src/utils/entities-core/AnimationTemplate.js","webpack:///./src/utils/preset/templates/bar-chart/barChartEnter3.js","webpack:///./src/utils/preset/templates/bar-chart/decorationTemplate.js","webpack:///./src/utils/preset/templates/bar-chart/barChartEnter.js","webpack:///./src/utils/preset/templates/bar-chart/barHighlight.js","webpack:///./src/utils/preset/templates/bar-chart/barChartEnter2.js","webpack:///./src/utils/preset/templates/bar-chart/testTemplate.js","webpack:///./src/utils/preset/templates/bar-chart/barBounce.js","webpack:///./src/utils/preset/templates/line-chart/lineChartEnter.js","webpack:///./src/utils/preset/templates/line-chart/lineChartEnter2.js","webpack:///./src/utils/preset/index.js","webpack:///./src/utils/entities-core/EffectFactory.js","webpack:///./src/utils/const/Position.js","webpack:///./src/utils/parser/parser.js","webpack:///./src/utils/entities-core/AniUnit.js","webpack:///./src/utils/entities-core/AbstractAniInstance.js","webpack:///./src/utils/entities-core/Animation.js","webpack:///./src/utils/entities/TemplateUsage.js","webpack:///./src/utils/parser/TemplateUsageParser.js","webpack:///./src/utils/entities-core/AniTemplateFactory.js","webpack:///./src/utils/entities-core/AbstractAniTemplate.js","webpack:///./src/utils/common/ObjectUtils.js","webpack:///./src/utils/entities/Slot.js","webpack:///./src/utils/common/ArrayUtils.js","webpack:///./src/utils/entities-core/ani-template/CanisAniTemplate.js","webpack:///./src/utils/preset/ani-template/chart-level/BarChartEnterTemplate.js","webpack:///./src/utils/preset/ani-template/chart-level/FadeTemplate.js","webpack:///./src/utils/preset/ani-template/chart-level/WipeTemplate.js","webpack:///./src/utils/preset/ani-template/chart-level/ScaleTemplate.js","webpack:///./src/utils/preset/ani-template/chart-level/ZoomTemplate.js","webpack:///./src/utils/preset/ani-template/chart-level/FloatTemplate.js","webpack:///./src/utils/preset/ani-template/index.js","webpack:///./src/utils/generator/Parser.js","webpack:///./src/utils/entities-core/AniAtom.js","webpack:///./src/utils/generator/cons-graph/Relation.js","webpack:///./src/utils/generator/cons-graph/ConsNode.js","webpack:///./src/utils/generator/cons-graph/ConsEdge.js","webpack:///./src/utils/generator/cons-graph/ConsGraph.js","webpack:///./src/utils/generator/GraphCreator.js","webpack:///./src/utils/generator/Generator.js","webpack:///./src/service/ttsService.js","webpack:///./src/store/modules/generator.js","webpack:///./src/core/entities/spec/ChartShotAnimation.js","webpack:///./src/core/parser/TransformParser.js","webpack:///./src/core/parser/TargetParser.js","webpack:///./src/core/entities/spec/animation/SyncAnimation.js","webpack:///./src/core/entities/spec/animation/ConcatAnimation.js","webpack:///./src/core/entities/spec/animation/GroupAnimation.js","webpack:///./src/core/entities/spec/animation/TemplateUsage.js","webpack:///./src/core/parser/AnimationParser.js","webpack:///./src/core/utils/JsonUtils.js","webpack:///./src/core/entities/spec/animation/EmptyAnimation.js","webpack:///./src/core/entities/spec/template/JsonTemplate.js","webpack:///./src/core/parser/ParamDefinitionParser.js","webpack:///./src/core/parser/TemplateParser.js","webpack:///./src/core/parser/ChartShotAnimationParser.js","webpack:///./src/core/parser/Parser.js","webpack:///./src/core/entities/context/Context.js","webpack:///./src/core/entities/context/RenderContext.js","webpack:///./src/core/generator/BaseTargetModel.js","webpack:///./src/core/generator/target-model/SimpleTargetModel.js","webpack:///./src/core/generator/Generator.js","webpack:///./src/core/library/TemplateLibrary.js","webpack:///./src/core/const/PreviewerType.js","webpack:///./src/core/const/AnimationType.js","webpack:///./src/core/previewer/PreviewWrapper.js","webpack:///./src/core/previewer/PreviewerManager.js","webpack:///./src/core/build-in/templates/general/FadeInTemplate.js","webpack:///./src/core/const/Direction.js","webpack:///./src/core/build-in/templates/general/GrowTemplate.js","webpack:///./src/core/build-in/templates/general/MoveToTemplate.js","webpack:///./src/core/build-in/templates/general/MoveFromTemplate.js","webpack:///./src/core/build-in/templates/general/FloatTemplate.js","webpack:///./src/core/build-in/templates/general/BasicZoomTemplate.js","webpack:///./src/core/build-in/templates/general/ZoomTemplate.js","webpack:///./src/core/build-in/templates/general/WipeTemplate.js","webpack:///./src/core/const/Data.js","webpack:///./src/core/build-in/templates/general/ChangeColorTemplate.js","webpack:///./src/core/build-in/templates/path/ShowPathTemplate.js","webpack:///./src/core/build-in/templates/general/HighlightTemplate.js","webpack:///./src/core/build-in/templates/camera/CameraZoomTemplate.js","webpack:///./src/core/build-in/templates/general/ZoomExitTemplate.json5","webpack:///./src/core/build-in/templates/general/BasicZoomExitTemplate.json5","webpack:///./src/core/build-in/templates/general/FadeOutTemplate.js","webpack:///./src/core/build-in/templates/general/ShineTemplate.js","webpack:///./src/core/build-in/templates/text/TitleTemplate.js","webpack:///./src/core/build-in/templates/chart/ChartWithoutMarkFloatInTemplate.js","webpack:///./src/core/build-in/templates/chart/ChartWithoutMarkFadeInTemplate.json5","webpack:///./src/core/build-in/templates/bar-chart/BarChartEnterTemplate.js","webpack:///./src/core/build-in/templates/bar-chart/BarChartWithLegendEnterTemplate.js","webpack:///./src/core/build-in/templates/circle-chart/CircleChartWithLegendEnterTemplate.js","webpack:///./src/core/build-in/templates/line-chart/LineChartEnterTemplate.js","webpack:///./src/core/build-in/templates/line-chart/LineChartbyLegendTemplate.js","webpack:///./src/core/build-in/templates/line-chart/LineChartbyOrderTemplate.js","webpack:///./src/core/build-in/templates/pie-chart/PieChartEnterTemplate.js","webpack:///./src/core/build-in/templates/bar-chart/BarEnterTemplate.js","webpack:///./src/core/build-in/templates/bar-chart/BarWithLegendEnterTemplate.js","webpack:///./src/core/build-in/templates/bar-chart/BarSymbolLabelEnterTemplate.js","webpack:///./src/core/build-in/templates/circle-chart/CircleEnterTemplate.js","webpack:///./src/core/build-in/templates/circle-chart/CircleWithLegendEnterTemplate.js","webpack:///./src/core/build-in/templates/circle-chart/CircleChartEnterTemplate.js","webpack:///./src/core/utils/SvgUtils.js","webpack:///./src/core/build-in/templates/bar-chart/GrowBarTemplate.js","webpack:///./src/core/build-in/templates/line-chart/LineEnterTemplate.js","webpack:///./src/core/build-in/templates/line-chart/LinebyLegendTemplate.js","webpack:///./src/core/build-in/templates/line-chart/LinebyOrderTemplate.js","webpack:///./src/core/build-in/templates/line-chart/LineHighlightTemplate.js","webpack:///./src/core/build-in/templates/pie-chart/PieWithLegendEnterTemplate.js","webpack:///./src/core/build-in/templates/annotation/ShowAnnoZoomTemplate.js","webpack:///./src/core/build-in/templates/annotation/ShowArrowLabelAnnoTemplate.js","webpack:///./src/core/build-in/templates/general/CircleTemplate.js","webpack:///./src/core/build-in/templates/general/ArrowTemplate.js","webpack:///./src/core/build-in/templates/general/TextTemplate.js","webpack:///./src/core/build-in/templates/general/ContourTemplate.js","webpack:///./src/core/build-in/templates/general/FadeInThenFadeOutTemplate.json5","webpack:///./src/core/build-in/templates/text/DynamicNumberTemplate.js","webpack:///./src/core/build-in/templates/general/ZoomInThenZoomOutTemplate.js","webpack:///./src/core/build-in/templates/general/CustomEffectTemplate.js","webpack:///./src/core/build-in/templates/general/FadeTemplate.js","webpack:///./src/core/build-in/templates/general/ZoomEnterTemplate.json5","webpack:///./src/core/build-in/templates/general/BasicZoomEnterTemplate.json5","webpack:///./src/core/build-in/templates/bar-chart/BarSymbolLabelBounceTemplate.js","webpack:///./src/core/build-in/templates/bar-chart/BarChartWithAxisLabelEnterTemplate.js","webpack:///./src/core/build-in/templates/general/MoveTemplate.js","webpack:///./src/core/build-in/templates/general/WheelTemplate.js","webpack:///./src/core/build-in/templates/path/DrawPathTemplate.js","webpack:///./src/core/build-in/templates/pie-chart/HighlightSectorTemplate.js","webpack:///./src/core/build-in/templates/pie-chart/ArcWheelWithLegendTemplate.js","webpack:///./src/core/build-in/templates/text/ShowDynamicNumberTemplate.js","webpack:///./src/core/build-in/templates/annotation/ShowAnnoAutoEffectTemplate.js","webpack:///./src/core/build-in/templates/camera/CameraMoveTemplate.js","webpack:///./src/core/build-in/templates/pie-chart/SimpleSectorWheelTemplate.js","webpack:///./src/core/build-in/templates/general/FlyInTemplate.js","webpack:///./src/core/build-in/templates/general/HideTemplate.js","webpack:///./src/core/build-in/templates/general/EmptyTemplate.js","webpack:///./src/core/build-in/templates/text/ShowNumber.json5","webpack:///./src/core/build-in/index.js","webpack:///./src/core/previewer/build-in-wrapper/general/FadeWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/BasicZoomEnterWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/BasicZoomExitWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/BasicZoomWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/ChangeColorWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/CustomEffectWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/FadeInWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/FadeOutWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/FloatWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/FlyinWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/GrowWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/MoveWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/MoveFromWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/MoveToWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/WipeWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/ZoomEnterWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/ZoomExitWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/HideWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/ZoomWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/ShineWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/annotation/ZoomInThenZoomOutWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/annotation/ShowArrowLabelAnnoWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/camera/CameraZoomWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/camera/CameraMoveWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/bar-chart/BarChartEnterWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/bar-chart/BarSymbolLabelEnterWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/bar-chart/BarSymbolLabelBounceWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/bar-chart/BarEnterWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/bar-chart/BarChartWithLegendEnterWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/bar-chart/BarWithLegendEnterWrapper.js","webpack:///./src/core/build-in/templates/chart/ChartWithoutMarkFadeIn2Template.js","webpack:///./src/core/previewer/build-in-wrapper/chart/ChartWithoutMarkFadeInWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/chart/ChartWithoutMarkFloatInWrapper.js","webpack:///./src/core/build-in/templates/general/FadeInThenFadeOutTemplate.js","webpack:///./src/core/previewer/build-in-wrapper/general/FadeInThenFadeOutWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/CircleWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/ArrowWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/TextWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/path/ShowPathWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/general/HighlightWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/circle-chart/CircleChartEnterWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/circle-chart/CircleEnterWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/circle-chart/CircleChartWithLegendEnterWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/circle-chart/CircleWithLegendEnterWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/arc-chart/PieChartEnterWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/arc-chart/PieWithLegendEnterWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/arc-chart/SectorHighlightWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/Text/TitleWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/Text/ShowDynamicNumberWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/line-chart/LineChartbyLegendEnterWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/line-chart/LinebyLegendEnterWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/line-chart/LineChartbyOrderEnterWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/line-chart/LinebyOrderEnterWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/line-chart/LineChartEnterWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/line-chart/LineEnterWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/line-chart/LineHighlightWrapper.js","webpack:///./src/core/previewer/build-in-wrapper/index.js","webpack:///./src/core/previewer/BasePreviewer.js","webpack:///./src/core/previewer/template-previewer/BlankPreviewer.js","webpack:///./src/core/previewer/template-previewer/GeneralPreviewer.js","webpack:///./src/core/previewer/template-previewer/MovePreviewer.js","webpack:///./src/core/previewer/template-previewer/AnnotationArrowPreviewer.js","webpack:///./src/core/previewer/template-previewer/CameraPreviewer.js","webpack:///./src/core/utils/ChartLayout.js","webpack:///./src/core/previewer/template-previewer/BarChartPreviewer.js","webpack:///./src/core/previewer/template-previewer/BarChartWithLegendPreviewer.js","webpack:///./src/core/previewer/template-previewer/ChartFrameworkPreviewer.js","webpack:///./src/core/previewer/template-previewer/CirclePreviewer.js","webpack:///./src/core/previewer/template-previewer/CircleWithLegendPreviewer.js","webpack:///./src/core/previewer/template-previewer/ArcPreviewer.js","webpack:///./src/core/previewer/template-previewer/ArcWithLegendPreviewer.js","webpack:///./src/core/previewer/template-previewer/TextPreviewer.js","webpack:///./src/core/previewer/template-previewer/TitlePreviewer.js","webpack:///./src/core/previewer/template-previewer/LinePreviewer.js","webpack:///./src/core/previewer/template-previewer/LineWithLegendPreviewer.js","webpack:///./src/core/previewer/template-previewer/PathPreviewer.js","webpack:///./src/core/previewer/template-previewer/HighlightPreviewer.js","webpack:///./src/core/previewer/template-previewer/index.js","webpack:///./src/core/compiler/Compiler.js","webpack:///./src/core/const/ComponentType.js","webpack:///./src/core/filters/BaseFilter.js","webpack:///./src/core/filters/MarkFilter/MarkBarWithAxisLabelFilter.js","webpack:///./src/core/filters/MarkFilter/MarkBarWithLegendFilter.js","webpack:///./src/core/filters/MarkFilter/MarkLineFilter.js","webpack:///./src/core/filters/MarkFilter/MarkLinesByLegendFilter.js","webpack:///./src/core/filters/MarkFilter/MarkLinesByOrderFilter.js","webpack:///./src/core/filters/MarkFilter/MarkScatterChartFilter.js","webpack:///./src/core/filters/MarkFilter/MarkScatterFilter.js","webpack:///./src/core/filters/MarkFilter/MarkScatterWithLegendFilter.js","webpack:///./src/core/filters/MarkFilter/MarkBarFilter.js","webpack:///./src/core/filters/MarkFilter/MarkBarBounceFilter.js","webpack:///./src/core/filters/MarkFilter/MarkPieFilter.js","webpack:///./src/core/filters/MarkFilter/MarkPieWithLegendFilter.js","webpack:///./src/core/filters/MarkFilter/MarkSectorHighlightFilter.js","webpack:///./src/core/filters/MarkFilter/MarkLineHighlightFilter.js","webpack:///./src/core/filters/GeneralFilter/GeneralFadeInFilter.js","webpack:///./src/core/filters/GeneralFilter/GeneralHideFilter.js","webpack:///./src/core/filters/GeneralFilter/GeneralGrowFilter.js","webpack:///./src/core/filters/GeneralFilter/GeneralFloatFilter.js","webpack:///./src/core/filters/GeneralFilter/GeneralZoomEnterFilter.js","webpack:///./src/core/filters/GeneralFilter/GeneralChangeColorFilter.js","webpack:///./src/core/filters/GeneralFilter/GeneralShineFilter.js","webpack:///./src/core/filters/GeneralFilter/GeneralShowPathFilter.js","webpack:///./src/core/filters/GeneralFilter/GeneralHighlightFilter.js","webpack:///./src/core/filters/GeneralFilter/GeneralCameraZoomFilter.js","webpack:///./src/core/filters/GeneralFilter/GeneralCameraMoveFilter.js","webpack:///./src/core/filters/GeneralFilter/GeneralMoveToFilter.js","webpack:///./src/core/filters/GeneralFilter/GeneralMoveFromFilter.js","webpack:///./src/core/filters/GeneralFilter/GeneralZoomExitFilter.js","webpack:///./src/core/filters/GeneralFilter/GeneralFadeOutFilter.js","webpack:///./src/core/filters/GeneralFilter/GeneralFlyinFilter.js","webpack:///./src/core/filters/AnnotationFilter/AnnotationZoomInThenZoomOutFilter.js","webpack:///./src/core/filters/AnnotationFilter/AnnotationShowArrowLabelAnnotationFilter.js","webpack:///./src/core/filters/AnnotationFilter/AnnotationCircleFilter.js","webpack:///./src/core/filters/AnnotationFilter/AnnotationArrowFilter.js","webpack:///./src/core/filters/AnnotationFilter/AnnotationTextFilter.js","webpack:///./src/core/filters/AnnotationFilter/AnnotationContourFilter.js","webpack:///./src/core/filters/AnnotationFilter/AnnotationFadeInFadeOutFilter.js","webpack:///./src/core/filters/AnnotationFilter/AnnotationDynamicNumFilter.js","webpack:///./src/core/filters/ChartFilter/ChartTitleFilter.js","webpack:///./src/core/filters/ChartFilter/ChartAxisFloatInFilter.js","webpack:///./src/core/filters/ChartFilter/ChartAxisFadeInFilter.js","webpack:///./src/core/filters/ChartFilter/ChartBarChartFilter.js","webpack:///./src/core/filters/ChartFilter/ChartBarChartWithLegendFilter.js","webpack:///./src/core/filters/ChartFilter/ChartScatterChartWithLegendFilter.js","webpack:///./src/core/filters/ChartFilter/ChartLineChartFilter.js","webpack:///./src/core/filters/ChartFilter/ChartLineChartByLegendFilter.js","webpack:///./src/core/filters/ChartFilter/ChartLineChartByOrderFilter.js","webpack:///./src/core/filters/index.js","webpack:///./src/core/index.js","webpack:///./src/service/nlpService.js","webpack:///./src/utils/common/LayoutUtils.js","webpack:///./src/utils/common/SeletionToolType.js","webpack:///./src/utils/audio/AudioUtils.js","webpack:///./src/utils/target/TargetUtils.js","webpack:///./src/assets/vegaChartDirection.json5","webpack:///./src/utils/target/VegaTargetUtils.js","webpack:///./src/store/modules/editor.js","webpack:///./src/service/projService.js","webpack:///./src/assets/projects.json5","webpack:///./src/assets/gallery.json5","webpack:///./src/store/modules/resource.js","webpack:///./src/core/target/TargetUtils.js","webpack:///./src/store/modules/target.js","webpack:///./src/utils/common/Scene.js","webpack:///./src/utils/insight/InsightUtils.js","webpack:///./src/utils/svg/SVGUtils.js","webpack:///./src/utils/svg/VegaSVGUtils.js","webpack:///./src/store/modules/project.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/core/entities/spec/template/NativeTemplate.js","webpack:///./src/core/build-in/templates/pie-chart/SectorWheelTemplate.js","webpack:///./src/App.vue?9198","webpack:///./src/core/entities/spec/Target.js","webpack:///./src/views/webpage/ExampleView.vue?2d12","webpack:///./src/core/utils/uuid.js","webpack:///./src/utils/common/uuid.js","webpack:///./src/core/entities/spec/transform/SortTransform.js","webpack:///./src/core/entities/spec/parameter/ParamDefinition.js","webpack:///./src/core/const/Element.js","webpack:///./src/components/webpage/common/PageHeader.vue?1834","webpack:///./src/core/entities/spec/parameter/ParamType.js","webpack:///./src/views/LiveView.vue?1c82","webpack:///./src/core/entities/spec/BaseTransform.js","webpack:///./src/views/UploadView.vue?69cf","webpack:///./src/core/entities/spec/BaseAnimation.js","webpack:///./src/components/live/SelectColumnPanel.vue?bee2"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Timing","constructor","_defineProperty","timing","start","offset","duration","yoyo","undefined","json","num","parseFloat","isNaN","assign","getDefaultYoyo","repeat","delay","keys","getComputedTiming","computedTiming","getDefaultTiming","this","forEach","startPlusOffset","_this$start","_this$offset","NativeAnimation","BaseAnimation","settings","super","type","setTarget","target","updateTarget","setTiming","updateTiming","getDefaultSettings","updateSettings","set","computePossibleElements","context","glyphs","getGlyphs","Set","computeDuration","_this$timing","animation","repeatDelay","clear","kill","BaseTemplate","templateName","computeUUID","parameters","clone","_","cloneDeep","instantiate","toCheck","defaultSettings","isValid","console","warn","createAnimation","paramName","defaultValue","parseSettingsJSON","paramType","ParamType","NUMBER","STRING","getParamValue","getParamValues","paramNames","Array","isArray","ret","every","required","FilterTransform","BaseTransform","expr","execute","selection","replaceAll","nodes","keepArray","map","__node__","__index__","eval","filter","render","_vm","_h","$createElement","_c","_self","attrs","staticRenderFns","component","staticClass","staticStyle","_v","on","clickHome","nativeOn","$event","arguments","clickGallery","components","methods","log","$route","path","$router","clickLaunch","mounted","computed","PageFooter","PageHeader","_l","project","id","padding","handleProjectClick","_s","label","chartType","concat","presetCharts","style","height","width","ref","props","svg","scene","created","loadSVG","svgStr","staticSvgMap","innerHTML","$nextTick","innerSvg","querySelector","setAttribute","viewBoxStr","getAttribute","match","getBoundingClientRect","numbers","split","w","parseInt","h","newWidth","Math","floor","startX","ceil","newHeight","round","startY","$refs","watch","staticSvgMapSign","mapState","state","SvgPreviewer","$store","dispatch","then","commit","query","projectList","indexOf","projectGroupMap","groupMap","Map","group","_this$projectGroupMap","_this$projectGroupMap2","list1","list2","customCharts","_this$projectGroupMap3","clickBack","galleryInfo","link","videoName","transcript","projectIndex","index","_this$$route$query$ex","e","galleryList","_this$galleryList$fin","find","info","_m","tableData","handleCurrentChange","date","address","currentRow","SelectColumnPanel","handlePreview","handleRemove","beforeRemove","handleExceed","fileList","clickLive","routes","HomepageView","GalleryView","ExampleView","UploadView","LiveView","redirect","VueRouter","deepCopy","obj","copy","Effect","effectId","genFunc","defaults","effLabels","generateEffectGsap","effectGsap","getMergedConfig","valid","error","config","k","generateTween","getTween","toJsonObj","custom","excludeItems","includes","EffectGsap","from","to","message","tw","gsap","fromTo","ease","gen","scale","transformOrigin","defaultDuration","defaultOffset","x","y","yoyoDelay","move","opacity","fade","Direction","UP","DOWN","LEFT","RIGHT","direction","attrName","origin","grow","_context$target$getAt","offsetFactorX","offsetFactorY","defs","container","select","empty","append","maskId","bbox","getBBox","strokeWidth","originX","originY","finalX","finalY","maskRect","attr","node","wipe","wheel","TemplateType","UNKNOWN","BAR_CHART","LINE_CHART","DECORATION","AnimationTemplate","animationGen","tempLabels","unshift","animationJSON","jsonStr","JSON","stringify","Animation","parse","effects","EffectFactory","registerPresetEffects","effect","registerEffect","effectMap","has","alert","getEffect","effectFactory","Position","AFTER","WITH","defaultGrouping","groupBy","position","createEffectFrom","rawObj","attribute","toOrFrom","svgOrigin","exception","fixEffects","fixGroupingSettings","grouping","nestedGroup","AniUnit","aniUnitId","selector","labels","AbstractAniInstance","templateId","args","addAniUnit","aniUnit","aniUnits","aniUnitMap","aniUnitRaw","TemplateUsage","rawObject","use","configs","jsonify","TemplateUsageParser","AniTemplateFactory","register","aniTemplate","constructorMap","createAniTemplate","AbstractAniTemplate","getMergedConfigs","createInstance","checkValid","traversalObject","func","traversalObjectRecursively","item","terminate","ObjectUtils","Slot","slot","removeItem","array","getLastItem","len","subArray","end","step","intersect","array1","array2","res","ArrayUtils","CanisAniTemplate","canisTemplate","metaData","slotInfoList","getSlotInfoList","slotInfo","instance","parent","isSlot","BarChartEnterTemplate","FadeTemplate","WipeTemplate","ScaleTemplate","ZoomTemplate","FloatTemplate","aniTemplateFactory","Parser","src","templateUsageText","parseTemplateUsage","parseAnimationText","parseRefinementText","parseConstraintsText","parseAlignConstraintsText","templateUsageList","tu","templateUsage","au","aniJsonObj","animationText","refinements","refinementsText","constraints","constraintsText","alignConstraints","alignConstraintsText","AniAtom","aniAtomId","appendTo","tl","absPosition","add","tween","getAllottedTime","startTime","endTime","Relation","ANY","CHILD","PARENT","LAST_SIBLING","NEXT_SIBLING","CONSTRAINT","CONSTRAINT_REV","reverseRelation","relation","NodeType","ROOT","UNIT_NODE","INTERNAL_NODE","EL_NODE","ATOM_NODE","ADDED_NODE","ConsNode","outEdges","elGroup","aniAtoms","constraint","stagger","getOutEdges","values","getParentNode","edge","dst","getChildNodes","getLastSiblingNode","getNextSiblingNode","computeAbsPosition","alignCons","timestamp","lastSibling","getAbsPosition","getDuration","computedPosition","children","computedDuration","timestamps","child","getEndAbsPosition","minTime","maxTime","extent","appendAniAtomTo","aniAtom","times","ConsEdge","getId","ConsGraph","nodeMap","edges","edgeMap","addNode","newNode","autoIncrId","addEdgeBothSidesById","vId","wId","v","addEdgeBothSides","e1","e2","addParentChildEdge","removeSubTree","subRoot","ani","removeEdgeBothSides","last","next","mountSubTree","max","min","edgeRev","delete","getParentChildByEdge","createParentChildRelation","c1","c2","getNodeById","nodeId","addAlignMark","word","GraphCreator","atomId2nodeId","consGraph","root","unitNodes","unitNode","createAniUnitNode","sel","getElements","childNodes","createChildNodes","selectAll","domObjs","sort","reverse","n1","n2","index1","order","__data__","index2","range","ratioRange","d3","newGroups","createNewGroups","newGrp","createInternalNode","createElNode","mapFunc","groupByClass","el","elClasses","reqClasses","req","groupByIndex","clz","groupByReg","internalNode","element","elNode","atomNodes","globalAniAtomId","atomNode","getResult","Generator","processRefinement","createConsGraph","processRefinementPart2","processConstraints","applyWordConstraint","generateTimeline","creator","getRelatedAniAtoms","elements","aniLabels","groups","peekAtomNodes","getConsNodeByAniAtomId","peekMergedNodes","canMerge","aniUnitObj","aniList","atomPosition","attrSetter","styleSetter","cons","aniList1","selector1","aniList2","selector2","refNode","movedNode","nodes1","nodes2","findNodeInPostOrder","nodeSet","findRecursively","aCons","relatedAnis","timeline","clearTimeline","onUpdate","onUpdateFunc","pause","traversal","progress","getEnterFinishedProgress","curNode","stack","keyNode","pop","allConstraintsClear","consNode","consRevEdges","status","trvStatusMap","code","enterAniAtoms","allEnterTime","queryTTSAudioGoogle","url","params","callback","errorCallBack","axios","post","rep","catch","queryTTSAudioBaidu","queryStaticAudio","fileName","svgFileName","tlUpdateSign","refinementEnable","constraintEnable","alignConsEnable","audioEl","audioSrc","audioReady","useAudio","setAudioReadyFunc","renderingSign","getters","actions","input","ssml","text","resp","audioContent","blob","Blob","$saveAs","ctxName","$message","lan","ie","spd","errorResp","$notify","title","initContext","mutations","compile","audioDuration","prs","addTemplate","getAnimationJsonObj","emptyAnimation","changeContext","changeTemplateText","changeAnimationText","changeRefinementsText","changeConstraintsText","changeAlignConstraintsText","changeRefinementEnable","changeConstraintEnable","changeAlignConsEnable","enableAllSettings","changeUseAudio","changeRenderingSign","registerAudioEl","setAudioSrc","removeEventListener","addEventListener","changeAudioReady","isReady","namespaced","ChartShotAnimation","TransformParser","fromJSON","SortTransform","resultArray","TargetParser","Target","getDefaultTarget","NormalTarget","transform","fromObjectOrArray","SyncAnimation","sync","sequence","_ani$timing$start","_ani$timing$offset","subDuration","deriveBy","subSet","deriveByWithoutTransform","_this$timing2","subTl","ConcatAnimation","_ani$timing$offset2","GroupAnimation","useTemplate","_ani$computeDuration","instantiateUsingTemplate","template","getTemplate","AnimationParser","JSON5","reviver","createSequenceAnimation","createTemplateUsage","_json$timing","subObj","_json$timing2","_json$settings","JsonUtils","EmptyAnimation","JsonTemplate","current","trim","substr","ParamDefinitionParser","ParamDefinition","TemplateParser","ChartShotAnimationParser","templates","init","Context","renderContext","parentSelection","parentTarget","fakeRender","derive","getSelection","_this$parentTarget$se","_this$parentTarget","size","getSelectionWithoutTransform","cloneNode","getExclusiveGlyphs","targetModel","rootSel","getBBoxPosition","glyph","_root_sel$select$node","_glyph$_original$CTM","_glyph$_original","root_sel","svg_sel","root_point","createSVGPoint","glyph_ctm","_original","CTM","getCTM","glyph_point","matrixTransform","glyph_bbox","nodeName","getGlyphsWithoutTransform","templateLib","getRootSel","getDefsSel","getRootSvg","tagName","RenderContext","defsSel","globalSelection","createRootContext","clean","MASK_CLASS","remove","ANNOTATION_CLASS","BaseTargetModel","SimpleTargetModel","trans","animationSpec","generate","rootContext","TemplateLibrary","buildInTemplateMap","templateMap","registerBuildInTemplate","registerBuildInTemplates","registerTemplate","registerTemplates","_this$templateMap$get","getAllBuildInTemplates","getAllCustomTemplate","reset","PreviewerType","CUSTOM","TITLE","BLANK","GENERAL","HIGHLIGHT","MOVE","PATH","TEXT","CAMERA","ANNOTATION_ARROW","BAR_CHART_WITH_LEGEND","CIRCLE_CHART","CIRCLE_CHART_WITH_LEGEND","PIE_CHART","PIE_WITH_LEGEND","LINE_CHART_WITH_LEGEND","CHART_FRAMEWORK","AnimationType","ENTER","EXIT","ANNOTATION","OTHER","PreviewWrapper","previewerType","animationType","templateLabels","templateSettings","staticProgress","previewSettings","getTemplateName","getTemplateType","getTemplateParameters","createPreviewAnimation","PreviewerManager","previewWrapperMap","previewerMap","registerPreviewWrapper","wrapper","registerPreviewer","previewer","createDefaultPreviewer","getDefaultWrapper","_this$previewWrapperM","FadeInTemplate","NativeTemplate","fadeType","TOP","BOTTOM","CENTER","AUTO","GrowTemplate","GrowAnimation","createTwForOneGlyph","transFactorX","transFactorY","fromVars","MoveToTemplate","OBJECT","toVars","MoveFromTemplate","FloatAnimation","enterOrExit","distance","factor","vars","BasicZoomTemplate","BasicZoomAnimation","zoom","WipeAnimation","mask","addMaskRectToGlyph","createTwForMask","_glyph$getAttribute","classed","wipeRectSel","each","_this$getAttribute","tempWidth","newMaskRect","_yoyo$delay","_yoyo$repeat","ORIGINAL_DATA_STORE_PREFIX","ORIGINAL_FILL_ALIAS","ChangeColorTemplate","ChangeColorAnimation","fill","yoyoVars","originalColorAttrName","curFill","strokeList","stroke","glyphClass","ShowPathTemplate","BOOLEAN","ShowPathAnimation","displayTime","reverseDirection","getTotalLength","strokeDashoffset","HighlightTemplate","HighlightAnimation","selectGlyphs","selectType","classList","CameraZoomTemplate","CameraMoveAnimation","scaleFactor","zoomEase","fadeEase","FadeOutTemplate","ShineTemplate","shine","TitleTemplate","titleFadeIn","ChartWithoutMarkFloatInTemplate","xAxisSymbolFadeIn","xAxisGrow","yAxisGrow","labelFadeIn","tickFadeIn","chartFadeIn","barGrow","barLabelFadeIn","BarChartWithLegendEnterTemplate","legendFadeIn","CircleChartWithLegendEnterTemplate","circleFadeIn","circleLabelFadeIn","LineChartEnterTemplate","lineWipe","LineChartbyLegendTemplate","LineChartbyOrderTemplate","PieChartEnterTemplate","sectorWheel","drawPath","labelFloat","BarEnterTemplate","growBar","BarWithLegendEnterTemplate","BarSymbolLabelEnterTemplate","symbolZoomEnter","axisLabelFadeIn","CircleEnterTemplate","CircleWithLegendEnterTemplate","CircleChartEnterTemplate","getPosition","rootPoint","ctm","elPoint","getSvgBox","pos","GrowBarTemplate","GrowBarAnimation","inferDirection","bars","xAxisElements","inferDirectionByBarsAndAxis","inferDirectionByBars","barArray","barBoxes","b","SvgUtils","x0List","x1List","y0List","y1List","varianceList","lst","getVariance","minVal","xElArray","xElBoxes","sumX","box","reduce","a","sumY","avgX","avgY","lst1","getMSE","lst2","sum","avg","val","pow","LineEnterTemplate","LinebyLegendTemplate","LinebyOrderTemplate","LineHighlightTemplate","PieWithLegendEnterTemplate","legendFlyIn","ShowAnnoZoomTemplate","zoomEnter","zoomExit","ShowArrowLabelAnnoTemplate","arrowFloatEnter","fadeOut","CircleTemplate","CircleAnimation","circle","parentNode","ArrowTemplate","ArrowAnimation","color","el_sel","arrow","TextTemplate","TextAnimation","fontSize","textContent","ContourTemplate","ContourAnimation","customTransform","contour","DynamicNumberTemplate","DynamicNumberAnimation","formatter","toFixed","newFormatter","computedStart","computedEnd","replace","tempNumObj","tempNum","ZoomInThenZoomOutTemplate","zoomIn","zoomOut","CustomEffectTemplate","STRING_OR_ARRAY","CustomEffectAnimation","attrArray","fromArray","toArray","merge","FadeAnimation","BarSymbolLabelBounceTemplate","barBonce","barLabelBource","BarChartWithAxisLabelEnterTemplate","MoveTemplate","MoveAnimation","WheelTemplate","WheelAnimation","grouped","clip","addClipPathToEntirety","createTwForClipEntirety","addClipPathToGlyph","createTwForClip","clipId","CLIP_PATH_CLASS","wheelPathSel","newClipPath","_glyph$getAttribute2","startAngle","sweepAngle","arc","finalSweepAngle","_this$getAttribute2","cx","cy","rx","ry","updatePath","getArcPath","_glyphs$getAttribute","_this$getAttribute3","isClosed","largeArc","a1","PI","a2","x1","sin","y1","cos","x2","y2","DrawPathTemplate","DrawPathAnimation","HighlightSectorTemplate","annoLabelDynamicNumber","sectorHighlight","ArcWheelWithLegendTemplate","arcWheel","centerSelector","endAngle","ShowDynamicNumberTemplate","fadeIn","dynamicNumber","ShowAnnoAutoEffectTemplate","ShowAnnoAutoEffectAnimation","CameraMoveTemplate","translateX","translateY","SimpleSectorWheelTemplate","SingleSectorWheelAnimation","centerObjs","Infinity","startDegree","endDegree","FlyInTemplate","rootBBox","HideTemplate","HideAnimation","EmptyTemplate","buildInTemplates","ZoomEnterTemplate","ZoomExitTemplate","BasicZoomEnterTemplate","BasicZoomExitTemplate","FadeInThenFadeOutTemplate","ChartWithoutMarkFadeInTemplate","SectorWheelTemplate","ShowNumber","fadeWrapper","basicZoomEnterWrapper","basicZoomExitWrapper","basicZoomWrapper","changeColorWrapper","customEffectWrapper","fadeInWrapper","fadeOutWrapper","floatWrapper","flyinWrapper","growWrapper","moveWrapper","moveFromWrapper","moveToWrapper","wipeWrapper","zoomEnterWrapper","zoomExitWrapper","hideWrapper","zoomWrapper","shineWrapper","showAnnoZoomWrapper","showArrowLabelAnnoWrapper","cameraZoomWrapper","cameraMoveWrapper","barChartEnterWrapper","barSymbolLabelEnterWrapper","barSymbolLabelBounceWrapper","barEnterWrapper","barChartWithLegendEnterWrapper","barWithLegendEnterWrapper","ChartWithoutMarkFadeIn2Template","chartWithoutMarkFadeInWrapper","chartWithoutMarkFloatInWrapper","fadeInThenFadeOutWrapper","circleWrapper","arrowWrapper","textWrapper","showPathWrapper","highlightWrapper","CircleChartEnterWrapper","CircleEnterWrapper","CircleChartWithLegendEnterWrapper","CircleWithLegendEnterWrapper","PieChartEnterWrapper","PieWithLegendEnterWrapper","SectorHighlightWrapper","TitleWrapper","ShowDynamicNumberWrapper","LineChartbyLegendEnterWrapper","LinebyLegendEnterWrapper","LineChartbyOrderEnterWrapper","LinebyOrderEnterWrapper","LineChartEnterWrapper","LineEnterWrapper","LineHighlightWrapper","buildInWrappers","BasePreviewer","previewWrapper","previewerContext","getCanvasSize","draw","setTimeout","restart","BlankPreviewer","GeneralPreviewer","barWidth","barGap","barHeightList","graphWidth","left","bottom","numTexts","chartGrp","barGrp","enter","MovePreviewer","radius","AnnotationArrowPreviewer","annoGrp","bar1TopX","bar2TopY","CameraPreviewer","ChartLayout","topRatio","bottomRatio","leftRatio","rightRatio","initLayout","top","right","chartHeight","chartWidth","BarChartPreviewer","yLabels","layout","barWidthRatio","barHeightRatio","xScale","domain","yScale","axisGrp","xAxisGrp","bandwidth","yAxisGrp","markGrp","titleGrp","BarChartWithLegendPreviewer","data0","markGrp1","markGrp2","legendGrp","ChartFrameworkPreviewer","CirclePreviewer","scatterdata","xLabels","CircleWithLegendPreviewer","scatterdata1","scatterdata2","tamarkGrp","tbmarkGrp","ArcPreviewer","dataset","outerRadius","innerRadius","piedata","colorlist","padAngle","arcs","arcslabel","centroid","ArcWithLegendPreviewer","TextPreviewer","annotationGrp","TitlePreviewer","LinePreviewer","labelGrp","scatterGrp","lineGrp","LineWithLegendPreviewer","data1","data2","scatter1Grp","scatter2Grp","line1Grp","line2Grp","PathPreviewer","HighlightPreviewer","buildInPreviewers","UserException","Compiler","parser","previewerManager","elementOrSelector","variable","createReplacedAnimationJSON","generator","resultTimeline","autoRemoveChildren","originalRoot","retJSON","ComponentType","MARK","CHART","BaseFilter","hardElement","softElement","componentType","effectList","getName","getHardElement","getSoftElement","getComponentType","getAnimationType","getEffectList","relatedTargets","fullTargetList","ele","clist","some","hasLabel","cl","isWanted","elementList","elem","elArr","shouldAppear","selectedTargets","isMeetOr","barWithAxisLabelFilter","barWithLegendFilter","lineFilter","linesByLegendFilter","linesByOrderFilter","scatterChartFilter","scatterFilter","scatterWithLegendFilter","barFilter","barBounceFilter","pieFilter","pieWithLegendFilter","sectorHighlightFilter","lineHighlightFilter","fadeInFilter","hideFilter","growFilter","floatFilter","zoomEnterFilter","changeColorFilter","shineFilter","showPathFilter","highLightFilter","cameraZoomFilter","cameraMoveFilter","moveToFilter","moveFromFilter","zoomExitFilter","fadeOutFilter","flyinFilter","showAnnotationZoomFilter","showArrowLabelAnnotationFilter","circleFilter","arrowFilter","textFilter","contourFilter","fadeInFadeOutFilter","dynamicNumFilter","titleFilter","axisFloatInFilter","axisFadeInFilter","barChartFilter","barChartWithLegendFilter","scatterChartWithLegendFilter","lineChartFilter","lineChartByLegendFilter","lineChartByOrderFilter","buildInFilters","immediateRender","compiler","getPreviewerManager","resetTemplateLib","templateJSON","getTemplateClass","getTemplateInfoList","isBuildIn","aniChart","baseURL","queryNLPParseResult","payload","queryNLPGenerateResult","isPointInElement","getHoveredElements","getMostPossibleElement","hoveredElements","minDist","closestEl","dist","LayoutUtils","SelectionToolType","NORMAL","RECT","LASSO","CLICK","COMP","generateTranscript","cb","sdk","require","subscriptionKey","serviceRegion","speechConfig","SpeechConfig","fromSubscription","synthesizer","SpeechSynthesizer","words","startIndices","preTime","wordBoundary","curTime","audioOffset","selected","speakerTag","textOffset","speakTextAsync","reason","ResultReason","SynthesizingAudioCompleted","errorDetails","close","audioContext","AudioContext","decodeAudioData","audioData","err","trace","generateTranscript2","tagText","wordsNumList","insightList","tagText2plainText","insightTag","sentence","dataURItoBlob","dataURI","mimeString","byteString","atob","arrayBuffer","ArrayBuffer","intArray","Uint8Array","charCodeAt","async","blobToAudioBuffer","Promise","resolve","AudioBuffer","numberOfChannels","sampleRate","audioCtx","computeAudioDuration","audioBuffer","copy3Sec","channels","rate","totFrameCount","copyFrameCount","newAudioBuffer","createBuffer","tempArray","Float32Array","channel","copyFromChannel","copyToChannel","extend1Sec","concatAudio","audioBuffers","extendTimes","ab","time","bufferOffset","buffer","srcFrameCount","audioBufferToBlob","abuffer","sample","numOfChan","view","DataView","setUint32","setUint16","getChannelData","setInt16","newBolb","AudioUtils","updateSVGModel","chartId","DOMParser","parseFromString","domElList","querySelectorAll","groupList","domEl","childEl","subgroupList","flag","elId","contains","tableTitle","newSvgStr","domElToString","getCommonColorName","colorCode","parseColorCode","startsWith","rgbValues","hex","substring","g","rgbToColorName","rgb","colorNames","Red","Orange","Yellow","Green","Blue","Purple","Gray","Black","White","minDistance","closestColor","rgbValue","entries","calculateDistance","color1","color2","rDiff","gDiff","bDiff","sqrt","colorName","tmp","document","createElement","appendChild","tagSet","xTitle","yTitle","clazz","colorAttr","xAttr","transformAttr","translateMatch","clazzList","tag","toLowerCase","str","tagList","arcKey","barKey","mapKey","scatterKey","lineKey","xtitle","ytitle","TargetUtils","xAxis","yAxis","animationDuration","interval","csv2JSON","lines","currentline","insightChartTyoes","ariaHidden","parentElList","ariaRoleDescription","all_data","ariaLabel","XY","getElementsByClassName","barEls","lineEls","arcEls","textEls","annoEls","labelArr","symbolArr","labelEl","idx","legend_text","symbolEl","counters","_counters$get","vegaChartDirectionJSON","target_type","class2target","join","formatAnimationJSON","cur","hasNarration","ani_type","generateAnimationJSON","insightDict","curInsightTag","isStart","aniType","aniMap","legendLine","legendBar","wordsNum","subTag","para","89","102","68","77","getChartData","VegaTargetUtils","indicesToString","startIdx","endIdx","indices","indicesDictToTargetPos","indices_dict","wordTargetIconPos","targets","icon","faLink","TargetPosToindicesDict","iconPos","getUseToAniMap","wrappers","useToAniMap","windowWidth","windowHeight","headerHeight","footerHeight","enableDrag","sceneEl","svgEl","aniSceneEl","aniSvgEl","selectionSvgEl","resourceJSON","previewAniJSON","resourceJSONRenderSign","templateJSONRenderSign","animationJSONRenderSign","isSpecTextValid","specTextErrorMsg","timelinePanelEl","textPanelEl","targetPanelEl","textPanelEmpty","controllerInitSign","svgRenderSign","aniSvgRenderSign","mainContainerEl","toolboxEl","submitToolboxEl","staticToolboxEl","timelineRows","timelineScale","oldTimelineScale","timelineWidth","tlContainerWidth","tlContainerWidthBuffer","timelineRenderSign","durationMap","targetPanelWidth","leftPanelWidth","transcriptSrc","groupedTargetsMap","showPotential","nlpLinking","nlpLoading","selectionTool","selectionConfirm","stopConfirm","selectionLeave","stopLeave","hideToolbox","animationStyle","Enter","faSignInAlt","Emphasis","faStar","Exit","faSignOutAlt","Annotate","Other","faBars","templateStyle","Chart","faChartLine","Mark","faMapMarkerAlt","Annotation","faTag","animationName","itemForSettings","aniSettings","textPanelText","audioCompiling","refresh","scrollLeft","aniStatus","compileSuccess","currentMode","enableFilter","settingPanelVisible","clearTextHighlightSign","itemUpdateTuple","highlightItem","clickIconSignal","exportSvgEl","exportSceneEl","exportSign","isExportingFiles","svgPanelInSelecting","aniPlaying","dataGroup","target_model","Notification","AnimationJSON","changeAniStatus","changeWindowSize","body","clientWidth","clientHeight","changeLeftPanelWidth","changeHeaderHeight","changeFooterHeight","changeScene","changeSceneById","scenes","changetextPanelText","changeRefresh","mountSceneElement","mountAniSceneElement","mountSvgElement","mountSelectionSvgElement","mountAniSvgElement","mountAudioElement","mountMainContainer","mountTb","tbEl","mountToolbox","mountStaticToolbox","changeTempAnimationSelection","aniName","changeItemForSettings","updateItemType","changeItemSettings","setting","changeMode","changeFilterSwitch","initToolboxPos","moveToolbox","faEle","faPos","initLinking","_state$scene","linking","initWorkspace","loadExample","_this$scene","_state$scene3","_rawTrans$results","_state$scene4","_state$scene5","indice_dict","_state$scene2","_json$charts","_json$templates","_json$animation","spec","charts","nullAnimation","rawTrans","results","alternatives","alt","audioStr","audioBlob","newAudioBlob","URL","createObjectURL","updateAudio","_this","audioPromise","generateAudio","resetEditor","updateChartSize","selectionSvg","aniSvg","chart","wFactor","hFactor","updateEditorUsingResourcesJSON","updateEditorUsingTemplateJSON","updateEditorUsingAnimationJSON","errorMsg","changeSpecTextValidState","mountTimelinePanel","mountTextPanel","mountTargetPanel","notification","totDuration","invert","computeTimelineRows","_ref","_json$sequence$sync","_json$sequence","_json$sequence2","items","getStartTime","_item$timing$start","_item$timing","_item$timing$offset","_item$timing2","getEndTime","o1","o2","rowMap","conflictLists","rowIdx","row","hasConflict","conflictItemIdx","computeWordIdxTargets","changeSvgRenderSign","changeAniSvgRenderSign","changeExportSign","setIsExportingFiles","changeTargetPanelWidth","addWordTarget","duplicateLink","editWordTarget","iconObj","deleteWordTarget","changeTlContainerWidth","containerWidth","changeTimelineWidth","updateTimelineScale","updateTimelineScaleByAudio","updateTimelineSvg","tickFactor","tickNum","axis","ticks","axisContainer","updateItemTiming","_item$timing$start2","simplifyJSON","field","appendTimelineItem","newItem","appendItemByTextView","minWordIdx","maxWordIdx","toFitDuration","_state$animationJSON","updateItemByTextView","previewAnimation","playPreview","play","exitPreviewAnimation","deleteItemByIcon","originItem","updateItemTimingByIcon","flat","deleteItem","changeSettingPanelVisible","visible","changeClearTextHighlightSign","changeHighlightItem","changeClickIconSignal","updateVisTimeline","_item$timing$start3","_item$timing3","_item$timing$offset2","_item$timing4","updateAniJSONUsingTimelineRows","_state$animationJSON2","_a$timing$start","_a$timing","_b$timing$start","_b$timing","storeVItemTitle","vItemTitle","updateItemRow","oldRow","newRow","_item$timing$start4","_item$timing5","_item$timing$offset3","_item$timing6","updateItemSettings","newItemInfo","changeItemUpdateTuple","changeAnimationJSONRenderSign","changeNLPLoading","loading","changeNLPLinking","dropTargetToTimeline","itemTimelineElList","itemTimelineEl","itemIdx","changeSelectionTool","hideToolBox","showToolBox","registerSelectionConfirm","clearSelectionConfirm","registerSelectionLeave","clearSelectionLeave","updateElementClasses","stashScene","targetItemKeys","setAudioBuffer","changeTime","changeShowPotential","fixScrollPos","event","offsetLeft","commonDomain","newRange","queryProjectSpec","queryStaticSVG","queryTranscript","queryTargetModel","queryLinking","queryInsights","PROJECT_LIST","GALLERY_LIST","projectId","projectSpec","svgStrMap","audioStrMap","transcriptMap","targetModelMap","extraProjectSpecMap","linkingMap","insightsMap","projectFileName","queryAllSceneData","promiseList","sceneSpec","source","all","srcId","insights","fakeProjectSpec","addProject","no","projectIdSet","newProjectId","changeProjectId","initResources","changeProjectSpec","addSVGStr","addStaticSVGStr","changeStaticSvgMapSign","addInsights","addAudioStr","addTranscript","addTargetModel","addLinking","getDefaultTargetTree","addLeafChildren","childClassesList","classes","TargetTreeNode","background","mark","legend","setFullClassesRecursively","toJSON","parentStr","fullClasses","isLeaf","mainClassSet","dataGroupUpdateKeyword","fullTargetLoadSign","tableSelectionChangeSign","dataGroupChangeSign","dataGroupClearSign","svgSelectionChangeSign","visibilityChangeSign","new_counter","dragDropSVG","clientX","clientY","targetTree","activeFilters","isDragging","initTargetModel","cls","mainClass","visibility","tgt_data","related_targets","keyword","String","updateDataGroup","oldkeyword","changeFullTargetLoadSign","changeSelectedTargets","changeSelectedTargetsById","targetIds","idSet","changeSelectedTargetsByIcon","changeActiveFilters","changeTableSelectionSign","changeDataGroupSign","changeDataGroupKeyword","resetDataGroupKeyword","changeSvgSelectionChangeSign","changeVisibilityChangeSign","changeDragDropSVG","changeCursorPosition","setTargetType","targetIdList","targetNode","editor","setTargetClass","targetClass","changeVisibility","showIdList","hideIdList","showIdSet","hideIdSet","Scene","formatInsightsFromGPT","JSONFromGPTSrc","JSONFromGPT","formatInsights","description","currentPos","titleDesc","insightType","subType","insightWords","insightData","axisDesc","xAxisDesc","legendDesc","yAxisDesc","sortedInsights","insight","subInsight","insightPos","isInsightExistInDescription","findIndex","isSub","getsSVGSpec","maxDataLen","attributes","getNamedItem","cur_data","filteredData","curLegend","InsightUtils","addCircleLineAnno","pattern","point","anno_point","annoCircleRadius","point_group","annoCenter","anno_dy","anno_group","font","family","anchor","line","linecap","addArrowAnno","elementID","findElement","textUp","originArrowWidth","getIDNum","textLength","toString","addTrendArrowAnno","hasShow","pointID","lineID","column","pointStartNum","lastPoint","addClass","originWidth","lineCopy","removeClass","idSplit","childID","childData","annotateSVGUsingInsights","svgJs","SVG","toSVGStr","SVGUtils","LineDict","addDistributionCircleAnno","refBar","refPoint","refSec","addTextAnno","getIDIdx","svgstr","dict","subtype","posIncrease","posDecrease","posFluctuate","increaseAnno","firstChild","decreaseAnno","fluctuateAnno","createElementNS","distributionAnno","rect","VegaSVGUtils","isInitialized","selectedScene","canvasHeight","canvasWidth","canvasRenderSign","running","createAudioSrc","audioBlobList","audioBufferList","sceneIndex","initProjectView","resource","initialSvgStr","changeSelectedScene","addScene","newScene","createTimeline","onCompleteFunc","eventCallback","createAnimationJSON","sceneSVGList","sceneContainerId","subSync","changeCanvasRenderSign","setSceneAudioDuration","playAnimation","resume","pauseAnimation","restartAnimation","currentTime","Vue","Vuex","Store","strict","eventBus","productionTip","ElementUI","locale","VueCodeMirror","saveAs","App","router","store","$mount","SectorWheelAnimation","valueMapper","extraDegree","tot","sums","startDegrees","endDegrees","hexDigits","random","uuid","compareFunc","__expr__","__order__","indexMap","isAcceptable","ARRAY","NUMBER_OR_ARRAY"],"mappings":"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","file":"js/app.f6583306.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([9,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export class Timing {\n  /** @type {number | string} */\n  start\n  /** @type {number} */\n  offset\n  /** @type {number} */\n  duration\n  // /** @type {number} */\n  // stagger\n  /** @type {{repeat: number, delay: number} | boolean} */\n  yoyo\n\n  constructor() {\n  }\n\n  /**\n   * @returns {Timing}\n   */\n  static getDefaultTiming() {\n    const timing = new Timing();\n    timing.start = 0;\n    timing.offset = 0;\n    timing.duration = 1;\n    // timing.stagger = 0;\n    timing.yoyo = undefined;\n    return timing;\n  }\n\n  static simplifyJSON(json) {\n    if (typeof json !== 'object') {\n      return json;\n    }\n    const result = {};\n    if ('start' in json && json.start !== 0 && json.start !== '0') {\n      const num = parseFloat(json.start);\n      if (!isNaN(num)) {\n        result.start = num;\n      }\n    }\n    if ('offset' in json && json.offset !== 0 && json.offset !== '0') {\n      const num = parseFloat(json.offset);\n      if (!isNaN(num)) {\n        result.offset = num;\n      }\n    }\n    if ('duration' in json && json.duration !== 0 && json.duration !== '0') {\n      const num = parseFloat(json.duration);\n      if (!isNaN(num)) {\n        result.duration = num;\n      }\n    }\n    if ('yoyo' in json) {\n      const yoyo = Object.assign({}, Timing.getDefaultYoyo(), json.yoyo);\n      if (yoyo.repeat !== 1 || yoyo.delay !== 0) {\n        result.yoyo = json.yoyo;\n      }\n    }\n    return Object.keys(result).length === 0 ? undefined : result;\n  }\n\n  /**\n   * @returns {{delay: number, repeat: number}}\n   */\n  static getDefaultYoyo() {\n    return {repeat: 1, delay: 0};\n  }\n\n  getComputedTiming() {\n    const computedTiming = Timing.getDefaultTiming();\n\n    Object.keys(this).forEach(key => {\n      if (key === 'yoyo') {\n        return;\n      }\n      if (this[key] != null) {\n        computedTiming[key] = this[key];\n      }\n    });\n\n    if (this.yoyo === true) {\n      computedTiming.yoyo = Timing.getDefaultYoyo();\n    } else if (this.yoyo && typeof this.yoyo === 'object') {\n      computedTiming.yoyo = Timing.getDefaultYoyo();\n      Object.keys(this.yoyo).forEach(key => {\n        if (this.yoyo[key] != null) {\n          computedTiming.yoyo[key] = this.yoyo[key];\n        }\n      });\n    }\n\n    return computedTiming;\n  }\n\n  startPlusOffset() {\n    return (this.start ?? 0) + (this.offset ?? 0);\n  }\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GalleryView.vue?vue&type=style&index=0&id=55118168&prod&scoped=true&lang=css\"","import {BaseAnimation} from \"@/core/entities/spec/BaseAnimation\";\n\nexport class NativeAnimation extends BaseAnimation {\n  /**\n   * @param {Object<string, any>} settings\n   */\n  constructor(settings={}) {\n    super(settings);\n    this.type = 'native';\n  }\n\n  /**\n   * @param {Target | string} target\n   * @returns {NativeAnimation} this\n   */\n  setTarget(target) {\n    super.setTarget(target);\n    return this;\n  }\n\n  /**\n   * @param {Object} target\n   * @returns {NativeAnimation} this\n   */\n  updateTarget(target) {\n    super.updateTarget(target);\n    return this;\n  }\n\n  /**\n   * @param {Timing} timing\n   * @returns {NativeAnimation} this\n   */\n  setTiming(timing) {\n    super.setTarget(timing);\n    return this;\n  }\n\n  /**\n   * @param {Timing | Object} timing\n   * @returns {NativeAnimation} this\n   */\n  updateTiming(timing) {\n    super.updateTiming(timing);\n    return this;\n  }\n\n  /**\n   * @returns {Object<string, any>}\n   */\n  getDefaultSettings() {\n    return {};\n  }\n\n  /**\n   * @param {Object<string, any>} settings\n   * @returns {NativeAnimation} this\n   */\n  updateSettings(settings) {\n    Object.assign(this.settings, settings);\n    return this;\n  }\n\n  /**\n   * @param {String} key\n   * @param {*} value\n   * @returns {NativeAnimation} this\n   */\n  set(key, value) {\n    this.settings[key] = value;\n    return this;\n  }\n\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {Set<HTMLElement>}\n   */\n  computePossibleElements(context) {\n    const glyphs = context.getGlyphs(this.target);\n    return new Set(glyphs);\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  computeDuration(context) {\n    const {yoyo} = this.timing.getComputedTiming();\n    if (this.timing?.duration) {\n      return this.timing.duration;\n    }\n\n    const animation = this.create(context);\n    if (!animation) {\n      return 0;\n    }\n    if (yoyo) {\n      animation.yoyo(true);\n      animation.repeat(yoyo.repeat);\n      animation.repeatDelay(yoyo.delay);\n    }\n    const duration = animation.duration();\n\n    if (animation.clear) {\n      // is timeline not tween\n      animation.clear(true);\n    }\n    animation.kill();\n\n    return duration;\n  }\n}\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageFooter.vue?vue&type=style&index=0&id=598dec7d&prod&scoped=true&lang=css\"","import {computeUUID} from \"@/utils/common/uuid\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport _ from \"lodash\";\n\nexport class BaseTemplate {\n  /** @type {string} */\n  templateName\n  /** @type {ParamDefinition[]} */\n  parameters\n\n  /** @type {string} */\n  type\n  /** @type {Object<string, any>} */\n  settings\n\n  constructor() {\n    // when not giving it a name...\n    // hope we never use this\n    this.templateName = computeUUID();\n    this.parameters = [];\n    this.type = 'unknown';\n    this.settings = {};\n  }\n\n  /**\n   * @returns {BaseTemplate}\n   */\n  clone() {\n    return _.cloneDeep(this);\n    \n    // const obj = new this.constructor();\n    // return Object.assign(obj, this);\n  }\n\n  /**\n   * @param {Object<string, any>} settings\n   * @param {boolean=true} toCheck\n   * @returns {BaseAnimation}\n   */\n  instantiate(settings, toCheck=true) {\n    // init settings first\n    const defaultSettings = this.getDefaultSettings();\n    if (settings) {\n      this.settings = Object.assign(defaultSettings, settings);\n    } else {\n      this.settings = defaultSettings;\n    }\n\n    if (toCheck && !this.isValid()) {\n      console.warn('Failed to instantiate using template ' + this.templateName\n          + '. Params are not valid');\n      return null;\n    }\n    return this.createAnimation();\n  }\n\n  getDefaultSettings() {\n    const defaultSettings = {};\n    this.parameters.forEach(p => defaultSettings[p.paramName] = p.defaultValue);\n    return defaultSettings;\n  }\n\n  parseSettingsJSON(json) {\n    if (!json || typeof json !== 'object') {\n      return undefined;\n    }\n    const result = {};\n    this.parameters.forEach(p => {\n      if (p.paramName in json) {\n        const value = json[p.paramName];\n        if (value === undefined) {\n          return;\n        }\n        switch(p.paramType) {\n          case ParamType.NUMBER:\n            if (typeof value === 'string') {\n              const num = parseFloat(value);\n              if (!isNaN(num)) {\n                result[p.paramName] = num;\n              }\n            } else {\n              result[p.paramName] = value;\n            }\n            break;\n          case ParamType.STRING:\n            if (value !== '') {\n              result[p.paramName] = value;\n            }\n            break;\n          default:\n            result[p.paramName] = value;\n        }\n      }\n    });\n    return Object.keys(result).length === 0 ? undefined : result;\n  }\n\n  /**\n   * @param {string} paramName\n   * @returns {*}\n   */\n  getParamValue(paramName) {\n    return this.getParamValues()[paramName];\n  }\n\n  /**\n   * @returns {Object<string, any>}\n   */\n  getParamValues(paramNames=null) {\n    if (paramNames == null || !Array.isArray(paramNames)) {\n      return this.settings;\n    }\n    const ret = {};\n    paramNames.forEach(paramName => {\n      ret[paramName] = this.getParamValue(paramName);\n    });\n    return ret;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  isValid() {\n    return this.parameters.every(p => !p.required\n        || this.getParamValue(p.paramName) !== undefined);\n  }\n\n  /**\n   * @returns {BaseAnimation}\n   */\n  createAnimation() {\n    throw 'Template is not implemented';\n  }\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomepageView.vue?vue&type=style&index=0&id=43a8d848&prod&scoped=true&lang=css\"","import {BaseTransform} from \"@/core/entities/spec/BaseTransform\";\n\nexport class FilterTransform extends BaseTransform {\n  /** @type {string} */\n  type\n  /** @type {string} */\n  expr\n\n  constructor() {\n    super();\n    this.type = 'filter';\n    this.expr = 'true';\n  }\n\n  /**\n   * @param {d3.Selection} selection\n   * @returns {d3.Selection}\n   */\n  execute(selection) {\n    const expr = this.expr\n        .replaceAll('@classList', '__node__.classList')\n        .replaceAll('@id', '__node__.getAttribute(\"id\")')\n        .replaceAll('@index', '__index__')\n        .replaceAll('@datum', '(JSON.parse(__node__.getAttribute(\"ac-data\")) ?? {})')\n        .replaceAll('@el', '__node__');\n    // console.log('filter expr', expr)\n    const nodes = selection.nodes();\n    // eslint-disable-next-line no-unused-vars\n    const keepArray = nodes.map((__node__, __index__) => {\n      // console.log(__node__, eval(expr));\n      return eval(expr);\n    })\n    return selection.filter((d, i) => keepArray[i]);\n  }\n}\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'App',\n  }\n</script>\n\n<style>\n  html, body, #app{\n    height: 100%;\n    width: 100%;\n    margin: 0;\n    padding: 0;\n  }\n  #app {\n    font-family: Avenir, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  body .el-select-dropdown__wrap {\n    max-height: 600px;\n  }\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=299fb35c\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=299fb35c&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:\"homepage-view\"},[_c('el-header',[_c('PageHeader')],1),_c('el-main',[_c('el-col',{attrs:{\"span\":12,\"offset\":6}},[_c('el-row',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"align-items\":\"center\"}},[_c('h1',{staticClass:\"title-text\"},[_vm._v(\"WonderFlow: Easy Creation of Narration-Enriched Data Videos\")])]),_c('el-row',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('h4',{staticStyle:{\"text-align\":\"center\"}},[_c('p',[_c('span',[_vm._v(\"Yun Wang\"),_c('sup',[_vm._v(\"* 1\")])]),_vm._v(\" \"),_c('span',[_vm._v(\"Leixian Shen\"),_c('sup',[_vm._v(\"* 2\")])]),_vm._v(\" \"),_c('span',[_vm._v(\"Zhengxin You\"),_c('sup',[_vm._v(\"3\")])]),_vm._v(\" \"),_c('span',[_vm._v(\"Xinhuan Shu\"),_c('sup',[_vm._v(\"4\")])]),_vm._v(\" \"),_c('span',[_vm._v(\"Bongshin Lee\"),_c('sup',[_vm._v(\"5\")])]),_vm._v(\" \"),_c('br'),_c('span',[_vm._v(\"John Thompson\"),_c('sup',[_vm._v(\"6\")])]),_vm._v(\" \"),_c('span',[_vm._v(\"Haidong Zhang\"),_c('sup',[_vm._v(\"1\")])]),_vm._v(\" \"),_c('span',[_vm._v(\"Dongmei Zhang\"),_c('sup',[_vm._v(\"1\")])])]),_c('p',[_c('span',[_c('sup',[_vm._v(\"1\")]),_vm._v(\"Microsoft Research\")]),_vm._v(\" \"),_c('span',[_c('sup',[_vm._v(\"2\")]),_vm._v(\"The Hong Kong University of Science and Technology\")]),_vm._v(\" \"),_c('br'),_c('span',[_c('sup',[_vm._v(\"3\")]),_vm._v(\"The Hong Kong Polytechnic University\")]),_vm._v(\" \"),_c('span',[_c('sup',[_vm._v(\"4\")]),_vm._v(\"Newcastle University\")]),_vm._v(\" \"),_c('span',[_c('sup',[_vm._v(\"5\")]),_vm._v(\"Yonsei University\")]),_vm._v(\" \"),_c('span',[_c('sup',[_vm._v(\"6\")]),_vm._v(\"AutoDesk\")])]),_c('p',[_c('sup',[_vm._v(\"*\")]),_vm._v(\"Equal contribution\")]),_c('p',[_vm._v(\"IEEE Transactions on Visualization and Computer Graphics 2024\")])])]),_c('el-row',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('video',{staticClass:\"local-video\",staticStyle:{\"box-shadow\":\"0 0 5px #d7d7d7\"},attrs:{\"src\":'./data/video/WonderFlow_video.mp4',\"controls\":\"\",\"width\":\"100%\",\"height\":\"100%\"}})]),_c('el-row',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('h3',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"Abstract\")]),_c('p',[_vm._v(\"Creating an animated data video with audio narration is a time-consuming and complex task that requires expertise. It involves designing complex animations, turning written scripts into audio narrations, and synchronizing visual changes with the narrations. This paper presents WonderFlow, an interactive authoring tool, that facilitates narration-centric design of animated data videos. WonderFlow allows authors to easily specify semantic links between text and the corresponding chart elements. Then it automatically generates audio narration by leveraging text-to-speech techniques and aligns the narration with an animation. WonderFlow provides a structure-aware animation library designed to ease chart animation creation, enabling authors to apply pre-designed animation effects to common visualization components. Additionally, authors can preview and refine their data videos within the same system, without having to switch between different creation tools. A series of evaluation results confirmed that WonderFlow is easy to use and simplifies the creation of data videos with narration-animation interplay.\")])])],1)],1),_c('el-footer',[_c('PageFooter')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-header\"},[_c('el-row',{staticStyle:{\"height\":\"100%\"},attrs:{\"gutter\":5,\"type\":\"flex\",\"align\":\"middle\"}},[_c('el-col',{attrs:{\"span\":3,\"offset\":6}},[_c('span',{staticClass:\"header-text\",staticStyle:{\"user-select\":\"none\",\"cursor\":\"pointer\"},attrs:{\"title\":\"WonderFlow Homepage\"},on:{\"click\":_vm.clickHome}},[_vm._v(\"WonderFlow\")])]),_c('el-col',{attrs:{\"span\":8,\"offset\":7}},[_c('el-button',{staticClass:\"header-button\",attrs:{\"type\":\"text\"},nativeOn:{\"click\":function($event){return _vm.clickHome.apply(null, arguments)}}},[_vm._v(\"Home\")]),_c('el-button',{staticClass:\"header-button\",attrs:{\"type\":\"text\"},nativeOn:{\"click\":function($event){return _vm.clickGallery.apply(null, arguments)}}},[_vm._v(\"Gallery\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page-header\">\n    <el-row :gutter=\"5\" style=\"height: 100%;\" type=\"flex\" align=\"middle\">\n      <el-col :span=\"3\" :offset=\"6\">\n        <span class=\"header-text\" style=\"user-select: none; cursor: pointer\"\n              @click=\"clickHome\"\n              title=\"WonderFlow Homepage\">WonderFlow</span>\n      </el-col>\n\n      <el-col :span=\"8\" :offset=\"7\">\n        <el-button type=\"text\" class=\"header-button\"\n                   @click.native=\"clickHome\">Home</el-button>\n        <el-button type=\"text\" class=\"header-button\"\n                   @click.native=\"clickGallery\">Gallery</el-button>\n        <!-- <el-button type=\"primary\" round class=\"header-button\"\n                   @click.native=\"clickLaunch\">Launch</el-button> -->\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'PageHeader',\n  components: {},\n  data() {\n    return {}\n  },\n  methods: {\n    clickHome() {\n      console.log(this.$route)\n      if (this.$route.path === '/homepage') {\n        return;\n      }\n      this.$router.push('homepage')\n    },\n    clickGallery() {\n      if (this.$route.path === '/gallery') {\n        return;\n      }\n      this.$router.push('gallery')\n    },\n    clickLaunch() {\n      if (this.$route.path === '/editor') {\n        return;\n      }\n      this.$router.push('editor')\n    },\n  },\n  mounted() {\n  },\n  computed: {}\n}\n</script>\n\n<style scoped>\n.page-header {\n  width: 100%;\n  height: 100%;\n  background: white;\n}\n\n.header-text {\n  font-size: 1.7em;\n  font-weight: bold;\n  font-family: 'Courier New', Courier, monospace;\n  color: #409eff;\n}\n\n.header-button {\n  font-size: 1.07rem;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageHeader.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageHeader.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PageHeader.vue?vue&type=template&id=41a0ba36&scoped=true\"\nimport script from \"./PageHeader.vue?vue&type=script&lang=js\"\nexport * from \"./PageHeader.vue?vue&type=script&lang=js\"\nimport style0 from \"./PageHeader.vue?vue&type=style&index=0&id=41a0ba36&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41a0ba36\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-footer\"},[_c('el-row',{staticStyle:{\"height\":\"100%\"},attrs:{\"gutter\":5,\"type\":\"flex\",\"align\":\"middle\"}},[_c('el-col',{attrs:{\"span\":3,\"offset\":6}},[_c('span',{staticClass:\"footer-text\",staticStyle:{\"user-select\":\"none\"}},[_vm._v(\"WonderFlow\")])]),_c('el-col',{attrs:{\"span\":12,\"offset\":3}},[_vm._v(\" Make it easy to create narration-enriched data videos \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page-footer\">\n    <el-row :gutter=\"5\" style=\"height: 100%;\" type=\"flex\" align=\"middle\">\n      <el-col :span=\"3\" :offset=\"6\">\n        <span class=\"footer-text\" style=\"user-select: none\">WonderFlow</span>\n      </el-col>\n\n      <el-col :span=\"12\" :offset=\"3\">\n        Make it easy to create narration-enriched data videos\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'PageFooter',\n  components: {},\n  data() {\n    return {}\n  },\n  methods: {\n  },\n  mounted() {\n  },\n  computed: {}\n}\n</script>\n\n<style scoped>\n.page-footer {\n  width: 100%;\n  height: 100%;\n}\n\n.footer-text {\n  font-size: 1.7em;\n  font-weight: bold;\n  font-family: 'Courier New', Courier, monospace;\n  color: #9b9b9b;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageFooter.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageFooter.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PageFooter.vue?vue&type=template&id=598dec7d&scoped=true\"\nimport script from \"./PageFooter.vue?vue&type=script&lang=js\"\nexport * from \"./PageFooter.vue?vue&type=script&lang=js\"\nimport style0 from \"./PageFooter.vue?vue&type=style&index=0&id=598dec7d&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"598dec7d\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <el-container class=\"homepage-view\">\n    <el-header>\n      <PageHeader></PageHeader>\n    </el-header>\n\n    <el-main>\n      <el-col :span=\"12\" :offset=\"6\">\n        <el-row style=\"display: flex; justify-content: center; align-items: center;\">\n          <h1 class=\"title-text\">WonderFlow: Easy Creation of Narration-Enriched Data Videos</h1>\n        </el-row>\n        <el-row style=\"margin-bottom: 20px;\">\n          <h4 style=\"text-align: center;\">\n            <p>\n              <span>Yun Wang<sup>* 1</sup></span>&nbsp;&nbsp;\n              <span>Leixian Shen<sup>* 2</sup></span>&nbsp;&nbsp;\n              <span>Zhengxin You<sup>3</sup></span>&nbsp;&nbsp;\n              <span>Xinhuan Shu<sup>4</sup></span>&nbsp;&nbsp;\n              <span>Bongshin Lee<sup>5</sup></span>&nbsp;&nbsp;\n              <br>\n              <span>John Thompson<sup>6</sup></span>&nbsp;&nbsp;\n              <span>Haidong Zhang<sup>1</sup></span>&nbsp;&nbsp;\n              <span>Dongmei Zhang<sup>1</sup></span>\n            </p>\n            <p>\n              <span><sup>1</sup>Microsoft Research</span>&nbsp;&nbsp;\n              <span><sup>2</sup>The Hong Kong University of Science and Technology</span>&nbsp;&nbsp;\n              <br>\n              <span><sup>3</sup>The Hong Kong Polytechnic University</span>&nbsp;&nbsp;\n              <span><sup>4</sup>Newcastle University</span>&nbsp;&nbsp;\n              <span><sup>5</sup>Yonsei University</span>&nbsp;&nbsp;\n              <span><sup>6</sup>AutoDesk</span>\n            </p>\n            <p><sup>*</sup>Equal contribution</p>\n            <p>IEEE Transactions on Visualization and Computer Graphics 2024</p>\n          </h4>\n        </el-row>\n        <el-row style=\"margin-bottom: 20px;\">\n          <video\n              class=\"local-video\"\n              style=\"box-shadow: 0 0 5px #d7d7d7;\"\n              :src=\"'./data/video/WonderFlow_video.mp4'\"\n              controls\n              width=\"100%\"\n              height=\"100%\"></video>\n        </el-row>\n        <el-row style=\"margin-bottom: 20px;\">\n          <h3 style=\"text-align: center;\">Abstract</h3>\n          <p>Creating an animated data video with audio narration is a time-consuming and complex task that requires expertise. It involves designing complex animations, turning written scripts into audio narrations, and synchronizing visual changes with the narrations. This paper presents WonderFlow, an interactive authoring tool, that facilitates narration-centric design of animated data videos. WonderFlow allows authors to easily specify semantic links between text and the corresponding chart elements. Then it automatically generates audio narration by leveraging text-to-speech techniques and aligns the narration with an animation. WonderFlow provides a structure-aware animation library designed to ease chart animation creation, enabling authors to apply pre-designed animation effects to common visualization components. Additionally, authors can preview and refine their data videos within the same system, without having to switch between different creation tools. A series of evaluation results confirmed that WonderFlow is easy to use and simplifies the creation of data videos with narration-animation interplay.</p>\n        </el-row>\n      </el-col>\n    </el-main>\n\n    <el-footer>\n      <PageFooter></PageFooter>\n    </el-footer>\n  </el-container>\n</template>\n\n<script>\n\nimport PageHeader from \"@/components/webpage/common/PageHeader\";\nimport PageFooter from \"@/components/webpage/common/PageFooter\";\n\nexport default {\n  name: 'HomepageView',\n  components: {PageFooter, PageHeader},\n  data() {\n    return {}\n  },\n  methods: {},\n  mounted() {\n  },\n  computed: {}\n}\n</script>\n\n<style scoped>\n.homepage-view  {\n  overflow: auto;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  min-height: 100%;\n}\nheader {\n  border-bottom: 1px solid #d7d7d7;\n  width: 100%;\n  height: 60px;\n  position: fixed;\n  z-index: 999;\n}\nmain {\n  margin-top: 60px;\n  padding-bottom: 60px;\n  box-sizing: border-box;\n  flex: 1 0 auto;\n}\nfooter {\n  height: 60px;\n  border-top: 1px solid #d7d7d7;\n  flex: 0 0 auto;\n}\n\n.title-text {\n  margin: 10px 0 30px 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomepageView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomepageView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HomepageView.vue?vue&type=template&id=43a8d848&scoped=true\"\nimport script from \"./HomepageView.vue?vue&type=script&lang=js\"\nexport * from \"./HomepageView.vue?vue&type=script&lang=js\"\nimport style0 from \"./HomepageView.vue?vue&type=style&index=0&id=43a8d848&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43a8d848\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:\"gallery-view\"},[_c('el-header',[_c('PageHeader')],1),_c('el-main',[_c('el-col',{attrs:{\"span\":12,\"offset\":6}},[_c('el-row',[_c('span',{staticClass:\"page-text\"},[_vm._v(\"Gallery\")])]),_c('el-row',[_c('div',{staticClass:\"svg-group\"},[_vm._l((_vm.presetCharts),function(project){return _c('el-card',{key:project.id,staticClass:\"svg-item clickable\",attrs:{\"shadow\":\"hover\",\"body-style\":{ padding: '0px'}},nativeOn:{\"click\":function($event){return _vm.handleProjectClick(project)}}},[_c('SvgPreviewer',{attrs:{\"project\":project,\"height\":180,\"width\":290}}),_c('div',{staticClass:\"item-text-container\"},[_c('div',[_vm._v(_vm._s(project.label))]),_c('div',{staticStyle:{\"color\":\"gray\",\"font-size\":\"0.9rem\"}},[_vm._v(_vm._s(project.chartType))])])],1)}),_vm._l(([].concat( Array((3 - (_vm.presetCharts.length % 3)) % 3).keys() )),function(i){return _c('div',{key:'empty-block-' + i,staticClass:\"svg-item\"})})],2)])],1)],1),_c('el-footer',[_c('PageFooter')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"svg-previewer\",style:({height: _vm.height + 'px', width: _vm.width + 'px'})},[_c('svg',{ref:\"svg\",attrs:{\"height\":_vm.height,\"width\":_vm.width}},[_c('g',{staticClass:\"scene\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"svg-previewer\"\n       :style=\"{height: height + 'px', width: width + 'px'}\">\n    <svg ref=\"svg\" :height=\"height\" :width=\"width\">\n      <g class=\"scene\">\n      </g>\n    </svg>\n  </div>\n</template>\n\n<script>\n  import {mapState} from \"vuex\";\n\n  export default {\n    name: 'SvgPreviewer',\n    props: [\n      'project', 'width', 'height'\n    ],\n    data() {\n      return {\n        svg: null,\n        scene: null,\n\n        created: false,\n      }\n    },\n    methods: {\n      loadSVG() {\n        if (this.created) {\n          return;   // one project id, one svg creation\n        }\n        const svgStr = this.staticSvgMap.get(this.project.id);\n        if (!svgStr) {\n          return;\n        }\n        this.created = true;\n\n        this.scene.innerHTML = svgStr;\n        this.$nextTick(() => {\n          const innerSvg = this.scene.querySelector('svg');\n          innerSvg.setAttribute('width', this.width);\n          innerSvg.setAttribute('height', this.height);\n\n          let viewBoxStr = innerSvg.getAttribute('viewBox');\n          if (!viewBoxStr || !viewBoxStr.match(/\\d+ \\d+ \\d+ \\d+/)) {\n            // viewBox settings is missing or incorrect\n            // try to fix it first\n            const {width, height} = this.scene.getBoundingClientRect();\n            viewBoxStr = `0 0 ${width} ${height}`;\n          }\n\n          // fulfill the previewer panel\n          const numbers = viewBoxStr.split(' ')\n          const w = parseInt(numbers[2]), h = parseInt(numbers[3])\n          if (w / h > this.width / this.height) {\n            const newWidth = Math.floor(this.width / this.height * h);\n            const startX = Math.ceil((w - newWidth) / 2);\n            viewBoxStr = `${startX} 0 ${newWidth} ${h}`\n          } else {\n            const newHeight = Math.round(this.height / this.width * w);\n            const startY = Math.ceil((h - newHeight) / 2)\n            viewBoxStr = `0 ${startY} ${w} ${newHeight}`\n          }\n\n          innerSvg.setAttribute('viewBox', viewBoxStr);\n        })\n      }\n    },\n    mounted() {\n      this.svg = this.$refs.svg;\n      this.scene = this.svg.querySelector('.scene');\n    },\n    watch: {\n      staticSvgMapSign() {\n        this.loadSVG();\n      }\n    },\n    computed: {\n      ...mapState('resource', {\n        staticSvgMap: state => state.staticSvgMap,\n        staticSvgMapSign: state => state.staticSvgMapSign,\n      }),\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgPreviewer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgPreviewer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SvgPreviewer.vue?vue&type=template&id=1bdfccbf&scoped=true\"\nimport script from \"./SvgPreviewer.vue?vue&type=script&lang=js\"\nexport * from \"./SvgPreviewer.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1bdfccbf\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <el-container class=\"gallery-view\">\n    <el-header>\n      <PageHeader></PageHeader>\n    </el-header>\n\n    <el-main>\n      <el-col :span=\"12\" :offset=\"6\">\n        <el-row>\n          <span class=\"page-text\">Gallery</span>\n        </el-row>\n\n        <el-row>\n          <div class=\"svg-group\">\n            <el-card v-for=\"project in presetCharts\" :key=\"project.id\"\n                     class=\"svg-item clickable\"\n                     shadow=\"hover\"\n                     :body-style=\"{ padding: '0px'}\"\n                     @click.native=\"handleProjectClick(project)\">\n              <SvgPreviewer :project=\"project\" :height=\"180\" :width=\"290\"></SvgPreviewer>\n              <div class=\"item-text-container\">\n                <div>{{ project.label }}</div>\n                <div style=\"color: gray; font-size: 0.9rem;\">{{ project.chartType }}</div>\n              </div>\n            </el-card>\n            <div v-for=\"i in [...Array((3 - (presetCharts.length % 3)) % 3).keys()]\"\n                 class=\"svg-item\"\n                 :key=\"'empty-block-' + i\"></div>\n          </div>\n        </el-row>\n      </el-col>\n    </el-main>\n\n    <el-footer>\n      <PageFooter></PageFooter>\n    </el-footer>\n  </el-container>\n</template>\n\n<script>\n\nimport PageHeader from \"@/components/webpage/common/PageHeader\";\nimport PageFooter from \"@/components/webpage/common/PageFooter\";\n// use the svg previewer from editor\nimport SvgPreviewer from \"@/components/editor/ProjSelPanel/SvgPreviewer\";\nimport {mapState} from \"vuex\";\n\nexport default {\n  name: 'GalleryView',\n  components: {\n    SvgPreviewer, PageFooter, PageHeader\n  },\n  data() {\n    return {\n    }\n  },\n  mounted() {\n    this.$store.dispatch('resource/queryAllSvg')\n        .then(() => {\n          this.$store.commit('resource/changeStaticSvgMapSign');\n        })\n  },\n  methods: {\n    handleProjectClick(project) {\n      this.$router.push({\n        path: 'example',\n        query: {\n          'example-index': this.projectList.indexOf(project)\n        },\n      })\n    },\n  },\n  computed: {\n    ...mapState('resource', {\n      projectList: state => state.projectList,\n    }),\n    projectGroupMap() {\n      const groupMap = new Map();\n      groupMap.set('Single chart', []);\n      groupMap.set('Custom chart', []);\n      groupMap.set('Vega Line Chart', []);\n      this.projectList.forEach(project => {\n        const group = project.group;\n        if (group === 'Single chart' || group === 'Custom chart' || group === 'Vega Line Chart') {\n          groupMap.get(group).push(project);\n        }\n      });\n\n      // console.log('>>>', groupMap);\n      return groupMap;\n    },\n    presetCharts() {\n      const list1 = this.projectGroupMap.get('Single chart') ?? [];\n      const list2 = this.projectGroupMap.get('Vega Line Chart') ?? [];\n      return list1.concat(...list2);\n    },\n    customCharts() {\n      return this.projectGroupMap.get('Custom chart') ?? [];\n    }\n  }\n}\n</script>\n\n<style scoped>\n.gallery-view {\n  overflow: auto;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  min-height: 100%;\n}\nheader {\n  border-bottom: 1px solid #d7d7d7;\n  width: 100%;\n  height: 60px;\n  position: fixed;\n  z-index: 999;\n}\nmain {\n  margin-top: 60px;\n  padding-bottom: 60px;\n  box-sizing: border-box;\n  flex: 1 0 auto;\n}\nfooter {\n  height: 60px;\n  border-top: 1px solid #d7d7d7;\n  flex: 0 0 auto;\n}\n\n.page-text {\n  font-size: 1.7em;\n  font-weight: bold;\n}\n\n.svg-group {\n  margin-top: 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n}\n.svg-item {\n  height: 230px;\n  width: 290px;\n  margin-bottom: 20px;\n}\n.item-text-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  height: 40px;\n  padding-top: 4px;\n  border-top: 1px solid #eeeeee;\n}\n\n.clickable {\n  cursor: pointer;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GalleryView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GalleryView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./GalleryView.vue?vue&type=template&id=55118168&scoped=true\"\nimport script from \"./GalleryView.vue?vue&type=script&lang=js\"\nexport * from \"./GalleryView.vue?vue&type=script&lang=js\"\nimport style0 from \"./GalleryView.vue?vue&type=style&index=0&id=55118168&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55118168\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:\"example-view\"},[_c('el-header',[_c('PageHeader')],1),_c('el-main',[_c('el-col',{attrs:{\"span\":12,\"offset\":6}},[_c('el-row',[_c('div',{staticStyle:{\"width\":\"100%\",\"display\":\"flex\"}},[_c('span',{staticClass:\"page-text\"},[_vm._v(_vm._s(_vm.project.label))]),_c('el-button',{staticClass:\"back-button\",attrs:{\"type\":\"text\"},nativeOn:{\"click\":function($event){return _vm.clickBack.apply(null, arguments)}}},[_vm._v(\"< Back to gallery\")])],1),_c('span',{staticClass:\"page-text-small\"},[_vm._v(_vm._s(_vm.project.chartType))])]),_c('el-row',{staticStyle:{\"display\":\"flex\",\"flex-wrap\":\"wrap\",\"margin-top\":\"20px\"}},[_c('SvgPreviewer',{staticStyle:{\"border\":\"1px solid #cecece\",\"border-radius\":\"4px\"},attrs:{\"project\":_vm.project,\"height\":320,\"width\":500}}),_c('div')],1),_c('el-row',{staticStyle:{\"margin-top\":\"10px\"}},[_c('div',{staticClass:\"title-text\"},[_vm._v(\"Link to Original Video\")]),_c('a',{staticClass:\"content-text\",attrs:{\"href\":_vm.galleryInfo.link}},[_vm._v(_vm._s(_vm.galleryInfo.videoName))])]),_c('el-row',{staticStyle:{\"margin-top\":\"10px\"}},[_c('div',{staticClass:\"title-text\"},[_vm._v(\"Narration\")]),_c('div',{staticClass:\"content-text\"},[_vm._v(_vm._s(_vm.galleryInfo.transcript))])]),_c('el-row',[_c('div',{staticClass:\"title-text\"},[_vm._v(\"Creation Process\")]),_c('video',{staticClass:\"local-video\",attrs:{\"src\":(\"./data/video/V\" + (_vm.projectIndex + 1) + \"_1.mp4\"),\"controls\":\"\",\"width\":\"100%\",\"height\":\"100%\"}})]),_c('el-row',[_c('div',{staticClass:\"title-text\"},[_vm._v(\"Final Version\")]),_c('video',{staticClass:\"local-video\",attrs:{\"src\":(\"./data/video/V\" + (_vm.projectIndex + 1) + \"_2.mp4\"),\"controls\":\"\",\"width\":\"100%\",\"height\":\"100%\"}})])],1)],1),_c('el-footer',[_c('PageFooter')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-container class=\"example-view\">\n    <el-header>\n      <PageHeader></PageHeader>\n    </el-header>\n\n    <el-main>\n      <el-col :span=\"12\" :offset=\"6\">\n        <el-row>\n          <div style=\"width: 100%; display: flex;\">\n            <span class=\"page-text\">{{ project.label }}</span>\n            <el-button class=\"back-button\" type=\"text\"\n                       @click.native=\"clickBack\">&lt; Back to gallery</el-button>\n          </div>\n          <span class=\"page-text-small\">{{ project.chartType }}</span>\n        </el-row>\n\n        <el-row style=\"display: flex; flex-wrap: wrap; margin-top: 20px;\">\n          <SvgPreviewer :project=\"project\" :height=\"320\" :width=\"500\"\n                        style=\"border: 1px solid #cecece; border-radius: 4px;\"></SvgPreviewer>\n          <div>\n            <!-- <el-button class=\"launch-button\" round type=\"primary\"\n                       @click.native=\"clickLaunch\" icon=\"\">Open Demo</el-button> -->\n          </div>\n        </el-row>\n\n        <el-row style=\"margin-top: 10px;\">\n          <div class=\"title-text\">Link to Original Video</div>\n          <a class=\"content-text\"\n             :href=\"galleryInfo.link\">{{ galleryInfo.videoName }}</a>\n        </el-row>\n\n        <el-row style=\"margin-top: 10px;\">\n          <div class=\"title-text\">Narration</div>\n          <div class=\"content-text\">{{ galleryInfo.transcript }}</div>\n        </el-row>\n\n        <el-row>\n          <div class=\"title-text\">Creation Process</div>\n          <video\n              class=\"local-video\"\n              :src=\"`./data/video/V${projectIndex + 1}_1.mp4`\"\n              controls\n              width=\"100%\"\n              height=\"100%\"></video>\n        </el-row>\n\n        <el-row>\n          <div class=\"title-text\">Final Version</div>\n          <video\n              class=\"local-video\"\n              :src=\"`./data/video/V${projectIndex + 1}_2.mp4`\"\n              controls\n              width=\"100%\"\n              height=\"100%\"></video>\n        </el-row>\n      </el-col>\n    </el-main>\n\n    <el-footer>\n      <PageFooter></PageFooter>\n    </el-footer>\n  </el-container>\n</template>\n\n<script>\n\nimport PageHeader from \"@/components/webpage/common/PageHeader\";\nimport PageFooter from \"@/components/webpage/common/PageFooter\";\nimport {mapState} from \"vuex\";\nimport SvgPreviewer from \"@/components/editor/ProjSelPanel/SvgPreviewer\";\n\nexport default {\n  name: 'ExampleView',\n  components: {\n    SvgPreviewer,\n    PageFooter, PageHeader\n  },\n  data() {\n    return {\n      projectIndex: -1,\n      project: {},\n    }\n  },\n  mounted() {\n    let index = 1;\n    try {\n      index = parseInt(this.$route.query['example-index'] ?? ('' + index))\n    } catch (e) {\n      console.log(e)\n    }\n    this.projectIndex = index;\n    this.project = this.projectList[this.projectIndex];\n\n    this.$store.dispatch('resource/queryAllSvg')\n        .then(() => {\n          this.$store.commit('resource/changeStaticSvgMapSign');\n        })\n  },\n  methods: {\n    clickBack() {\n      this.$router.push('gallery')\n    },\n    clickLaunch() {\n      this.$router.push({\n        path: 'editor',\n        query: {\n          'example-index': this.projectIndex,\n        }\n      })\n    }\n  },\n  watch: {\n  },\n  computed: {\n    ...mapState('resource', {\n      projectList: state => state.projectList,\n      galleryList: state => state.galleryList,\n    }),\n    galleryInfo() {\n      if (!this.project) {\n        return {};\n      }\n      return this.galleryList.find(info => info.id === this.project.id) ?? {}\n    }\n  }\n}\n</script>\n\n<style scoped>\n.example-view {\n  overflow: auto;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  min-height: 100%;\n}\nheader {\n  border-bottom: 1px solid #d7d7d7;\n  width: 100%;\n  height: 60px;\n  position: fixed;\n  z-index: 999;\n}\nmain {\n  margin-top: 60px;\n  padding-bottom: 60px;\n  box-sizing: border-box;\n  flex: 1 0 auto;\n}\nfooter {\n  height: 60px;\n  border-top: 1px solid #d7d7d7;\n  flex: 0 0 auto;\n}\n\n.page-text {\n  font-size: 1.7em;\n  font-weight: bold;\n}\n.page-text-small {\n  font-size: 1.3em;\n  color: #9b9b9b;\n}\n\n.back-button {\n  margin-left: auto;\n  font-size: 1.07rem;\n}\n\n.launch-button {\n  font-size: 1.05rem;\n}\n\n.title-text {\n  font-size: 1.5rem;\n  margin: 20px 0 10px 0;\n}\n.content-text {\n  font-size: 1.1rem;\n  color: #9b9b9b;\n  margin-bottom: 10px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExampleView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExampleView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ExampleView.vue?vue&type=template&id=412f16fc&scoped=true\"\nimport script from \"./ExampleView.vue?vue&type=script&lang=js\"\nexport * from \"./ExampleView.vue?vue&type=script&lang=js\"\nimport style0 from \"./ExampleView.vue?vue&type=style&index=0&id=412f16fc&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"412f16fc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"live-view\"},[_vm._m(0),_c('el-row',{staticClass:\"main-container\"},[_c('el-col',{staticClass:\"upload-container\"},[_c('div',{staticClass:\"title-text-container\"},[_c('span',{staticClass:\"title-text\"},[_vm._v(\"Data Upload\")])]),_c('SelectColumnPanel')],1),_c('el-col',{staticClass:\"generation-container\"},[_c('div',{staticClass:\"title-text-container\",staticStyle:{\"background\":\"#FEF7F2\"}},[_c('span',{staticClass:\"title-text\",staticStyle:{\"color\":\"#F5590D\"}},[_vm._v(\"Generation\")])]),_c('el-button',{staticClass:\"upload-btn\",attrs:{\"plain\":\"\"}},[_vm._v(\"Live\")])],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"head-container\"},[_c('span',{staticClass:\"header-text\",attrs:{\"title\":\"Live Chart\"}},[_vm._v(\"Live Chart\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"select-container\"},[_c('span',[_vm._v(\"Select Columns\")]),_c('el-table',{ref:\"singleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"highlight-current-row\":\"\"},on:{\"current-change\":_vm.handleCurrentChange}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\"}}),_c('el-table-column',{attrs:{\"property\":\"date\",\"label\":\"\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"property\":\"name\",\"label\":\"\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"property\":\"address\",\"label\":\"\"}})],1),_c('el-button',{staticClass:\"upload-btn\",attrs:{\"plain\":\"\"}},[_vm._v(\"Live\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"select-container\">\n      <span>Select Columns</span>\n      <el-table\n        ref=\"singleTable\"\n        :data=\"tableData\"\n        highlight-current-row\n        @current-change=\"handleCurrentChange\"\n        style=\"width: 100%\">\n        <el-table-column\n        type=\"index\"\n        width=\"50\">\n        </el-table-column>\n        <el-table-column\n        property=\"date\"\n        label=\"\"\n        width=\"120\">\n        </el-table-column>\n        <el-table-column\n        property=\"name\"\n        label=\"\"\n        width=\"120\">\n        </el-table-column>\n        <el-table-column\n        property=\"address\"\n        label=\"\">\n        </el-table-column>\n        </el-table>\n      <el-button class=\"upload-btn\" plain>Live</el-button>\n    </div>\n  </template>\n  \n  <script>\n    // import {mapState} from \"vuex\";\n  \n    export default {\n      name: 'SelectColumnPanel',\n      data() {\n        return {\n        tableData: [{\n          date: '2016-05-02',\n          name: '',\n          address: ' 1518 '\n        }, {\n          date: '2016-05-04',\n          name: '',\n          address: ' 1517 '\n        }, {\n          date: '2016-05-01',\n          name: '',\n          address: ' 1519 '\n        }, {\n          date: '2016-05-03',\n          name: '',\n          address: ' 1516 '\n        }],\n        currentRow: null\n      }\n      },\n      methods: {\n      },\n      mounted() {\n      },\n      watch: {\n      },\n      computed: {\n      }\n    }\n  </script>\n  \n  <style scoped>\n  .svg-container-master {\n    user-select: none;\n    border: 1px solid rgb(215, 216, 221);\n  }\n  </style>\n  ","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectColumnPanel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectColumnPanel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SelectColumnPanel.vue?vue&type=template&id=27202780&scoped=true\"\nimport script from \"./SelectColumnPanel.vue?vue&type=script&lang=js\"\nexport * from \"./SelectColumnPanel.vue?vue&type=script&lang=js\"\nimport style0 from \"./SelectColumnPanel.vue?vue&type=style&index=0&id=27202780&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27202780\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"live-view\">\n    <div class=\"head-container\">\n      <span class=\"header-text\" title=\"Live Chart\">Live Chart</span>\n    </div>\n    <el-row class=\"main-container\">\n      <el-col class=\"upload-container\">\n        <div class=\"title-text-container\">\n          <span class=\"title-text\">Data Upload</span>\n        </div>\n        <SelectColumnPanel/>\n      </el-col>\n      <el-col class=\"generation-container\">\n        <div class=\"title-text-container\" style=\"background: #FEF7F2;\">\n          <span class=\"title-text\" style=\"color: #F5590D;\">Generation</span>\n        </div>\n        <el-button class=\"upload-btn\" plain>Live</el-button>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n\n\n<script>\nimport SelectColumnPanel from \"@/components/live/SelectColumnPanel.vue\";\nexport default {\n  name: \"LiveView\",\n  components: {\n    SelectColumnPanel,\n  },\n  data() {\n    return {};\n  },\n  methods: {},\n  mounted() {\n  },\n  computed: {},\n};\n</script>\n\n<style scoped>\n@font-face {\n  font-family: \"CarterOne\";\n  src: url(\"~@/assets/fonts/carter_one.woff2\") format(\"woff2\");\n  font-weight: normal;\n  font-style: normal;\n}\n\n.live-view{\n  height: 100%;\n  width: 100%;\n}\n\n\n.head-container {\n  height: 180px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  justify-content: flex-end;\n}\n\n.main-container {\n  height: calc(100% - 180px);\n  width: 100%;\n}\n\n.upload-container, .generation-container {\n  width: 30%;\n  height: 90%;\n  margin-top: 2.5%;\n  margin-left: 4%;\n  border: 4px solid #2D3974;\n  border-radius: 10px;\n}\n\n.generation-container {\n  border: 4px solid #F5590D;\n  width: 60%;\n  margin-left: 2%;\n}\n.header-text {\n  color: #f55000;\n  font: 400 50px \"CarterOne\", sans-serif;\n  margin-top: 200px;\n}\n\n.title-text-container {\n  width: 100%;\n  background: #2D3974;\n  border-radius: 5px;\n  height: 48px;\n  text-align: center;\n}\n\n.title-text {\n  font-family: \"Roboto\";\n  font-style: normal;\n  font-size: 24px;\n  color: #fff;\n  line-height: 48px;\n}\n\n.data-btn {\n  width: 67px;\n  height: 23px;\n}\n\n\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiveView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiveView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./LiveView.vue?vue&type=template&id=4d510832&scoped=true\"\nimport script from \"./LiveView.vue?vue&type=script&lang=js\"\nexport * from \"./LiveView.vue?vue&type=script&lang=js\"\nimport style0 from \"./LiveView.vue?vue&type=style&index=0&id=4d510832&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d510832\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-view\"},[_c('el-header',{staticClass:\"head-container\"},[_c('span',{staticClass:\"header-text\",attrs:{\"title\":\"Live Chart\"}},[_vm._v(\"Live Chart\")])]),_c('el-main',{staticClass:\"main-container\"},[_c('el-col',{staticClass:\"upload\"},[_c('el-upload',{staticClass:\"upload-data\",attrs:{\"action\":\"https://jsonplaceholder.typicode.com/posts/\",\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"before-remove\":_vm.beforeRemove,\"multiple\":\"\",\"limit\":1,\"on-exceed\":_vm.handleExceed,\"file-list\":_vm.fileList}},[_c('el-button',{staticClass:\"upload-btn\",attrs:{\"plain\":\"\"}},[_vm._v(\"Data Upload\")])],1),_c('span',{staticClass:\"main-text\"},[_vm._v(\"Don't have data? Try any of the files below.\")]),_c('el-row',[_c('el-button',{staticClass:\"data-btn\",attrs:{\"size\":\"mini\"},nativeOn:{\"click\":function($event){return _vm.clickLive.apply(null, arguments)}}},[_vm._v(\"a.csv\")]),_c('el-button',{staticClass:\"data-btn\",attrs:{\"size\":\"mini\"}},[_vm._v(\"b.csv\")]),_c('el-button',{staticClass:\"data-btn\",attrs:{\"size\":\"mini\"}},[_vm._v(\"c.csv\")]),_c('el-button',{staticClass:\"data-btn\",attrs:{\"size\":\"mini\"}},[_vm._v(\"d.csv\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"upload-view\">\n    <el-header class=\"head-container\">\n      <span class=\"header-text\" title=\"Live Chart\">Live Chart</span>\n    </el-header>\n    <el-main class=\"main-container\">\n      <el-col class=\"upload\">\n        <el-upload\n          class=\"upload-data\"\n          action=\"https://jsonplaceholder.typicode.com/posts/\"\n          :on-preview=\"handlePreview\"\n          :on-remove=\"handleRemove\"\n          :before-remove=\"beforeRemove\"\n          multiple\n          :limit=\"1\"\n          :on-exceed=\"handleExceed\"\n          :file-list=\"fileList\"\n        >\n          <el-button class=\"upload-btn\" plain\n            >Data Upload</el-button\n          >\n        </el-upload>\n        <span class=\"main-text\"\n          >Don't have data? Try any of the files below.</span\n        >\n        <el-row>\n          <el-button size=\"mini\" class=\"data-btn\" @click.native=\"clickLive\">a.csv</el-button>\n          <el-button size=\"mini\" class=\"data-btn\">b.csv</el-button>\n          <el-button size=\"mini\" class=\"data-btn\">c.csv</el-button>\n          <el-button size=\"mini\" class=\"data-btn\">d.csv</el-button>\n        </el-row>\n      </el-col>\n    </el-main>\n  </div>\n</template>\n\n\n\n<script>\nexport default {\n  name: \"UploadView\",\n  components: {},\n  data() {\n    return {};\n  },\n  methods: {\n    clickLive() {\n      console.log(this.$route)\n      if (this.$route.path === '/live') {\n        return;\n      }\n      this.$router.push('live')\n    },\n  },\n  mounted() {\n  },\n  computed: {},\n};\n</script>\n\n<style scoped>\n@font-face {\n  font-family: \"CarterOne\";\n  src: url(\"~@/assets/fonts/carter_one.woff2\") format(\"woff2\");\n  font-weight: normal;\n  font-style: normal;\n}\n\n.head-container {\n  min-height: 180px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  justify-content: flex-end;\n}\n\n.header-text {\n  color: #f55000;\n  font: 400 50px \"CarterOne\", sans-serif;\n}\n\n.upload {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  /* margin-top: 50px; */\n}\n\n.upload-data {\n  display: flex;\n  justify-content: center;\n}\n.upload-btn {\n  width: 300px;\n  height: 49px;\n  display: flex;\n  justify-content: center;\n  background: #fef7f2;\n  border: 3px solid #2d3974;\n  border-radius: 5px;\n  font-family: \"Roboto\";\n  font-style: normal;\n  font-weight: 400;\n  font-size: 30px;\n  color: #15214b;\n  align-items: center;\n}\n\n.main-text {\n  font-family: \"Roboto\";\n  font-style: normal;\n  font-weight: 400;\n  font-size: 16px;\n  color: #6c6c6c;\n  margin-top: 20px;\n  margin-bottom: 10px;\n}\n\n.data-btn {\n  width: 67px;\n}\n\n\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./UploadView.vue?vue&type=template&id=7907a5c4&scoped=true\"\nimport script from \"./UploadView.vue?vue&type=script&lang=js\"\nexport * from \"./UploadView.vue?vue&type=script&lang=js\"\nimport style0 from \"./UploadView.vue?vue&type=style&index=0&id=7907a5c4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7907a5c4\",\n  null\n  \n)\n\nexport default component.exports","import VueRouter from 'vue-router'\n// import GeneratorView from \"@/views/GeneratorView\";\n// import TestView from \"@/views/TestView\";\n// import EditorView from \"@/views/EditorView\";\n// import ProjectView from \"@/views/ProjectView\";\n\nimport HomepageView from \"@/views/webpage/HomepageView\";\nimport GalleryView from \"@/views/webpage/GalleryView\";\nimport ExampleView from \"@/views/webpage/ExampleView\";\nimport LiveView from \"@/views/LiveView\";\nimport UploadView from \"@/views/UploadView\";\n\nconst routes = [\n  // {path: '/generator', component: GeneratorView},\n  // {path: '/system', component: ProjectView},\n  // {path: '/editor', component: EditorView},\n  // {path: '/test', component: TestView},\n\n  {path: '/homepage', component: HomepageView},\n  {path: '/gallery', component: GalleryView},\n  {path: '/example', component: ExampleView},\n  {path: '/upload', component: UploadView},\n  {path: '/live', component: LiveView},\n\n\n  {path: '/', redirect: '/homepage'}\n]\n\nexport default new VueRouter({\n  mode: 'hash',\n  routes\n})\n","function deepCopy(obj) {\n  if (obj === undefined || obj === null) {\n    return obj\n  }\n  let copy = Array.isArray(obj) ? [] : {}\n  for (let i in obj) {\n    copy[i] = typeof obj[i] === 'object' ? deepCopy(obj[i]) : obj[i]\n  }\n  if (obj.prototype !== undefined) {\n    copy.prototype = obj.prototype\n  }\n  return copy\n}\n\n/** @deprecated */\nfunction getReadableAniUnit(/** @type {AnimationUnit} */ au) {\n  const exclude = ['tween', 'target', 'effect', 'times']\n  let ret = {}\n  Object.keys(au).forEach(k => {\n    if (exclude.includes(k)) return\n    ret[k] = au[k]\n  })\n  ret.target = {\n    id: au.target[\"__data__\"].id,\n    \"class\": au.target[\"__data__\"].class.join(' ')\n  }\n  ret.effect = au.effect.effId\n  return ret\n}\n\nexport {\n  deepCopy, getReadableAniUnit\n}\n","import {deepCopy} from \"@/utils/common/copy\";\n\nclass Effect {\n  /** @type {(number|string)} */\n  effectId\n  /** @type {string} */\n  type\n  /** @type {object} */\n  defaults\n\n  /** @type {string[]} */\n  effLabels\n\n  /** @type {object}*/\n  config\n\n  /** @type {object}*/\n  custom\n\n  /**\n   * @callback effectGenFunc\n   * @param {object} target\n   * @param {object} config\n   * @return {EffectGsap}\n   */\n  /** @type {effectGenFunc} */\n  genFunc\n\n  /** @type {number} */\n  offset\n  /** @type {number} */\n  duration\n\n  /**\n   * @constructor\n   * @param {(number|string)} effectId\n   * @param {string} type\n   * @param {effectGenFunc} genFunc\n   * @param {number} duration\n   * @param {number} offset\n   * @param {object} [defaults={}]\n   * @param {string[]} [effLabels=[]]\n   */\n  constructor(effectId, type, genFunc,\n              duration, offset, defaults = {},\n              effLabels = []) {\n    this.effectId = effectId\n    this.type = type\n    this.genFunc = genFunc\n    this.duration = duration\n    this.offset = offset || 0\n    this.defaults = defaults\n    this.effLabels = effLabels\n  }\n\n  /**\n   * @param {object} context\n   * @returns {EffectGsap}\n   */\n  generateEffectGsap(context) {\n    let effectGsap = this.genFunc(context, this.getMergedConfig())\n    if (!effectGsap.valid) {\n      console.error(\"EffectGsap is not valid\", this, effectGsap)\n      return null\n    }\n    return effectGsap\n  }\n\n  /**\n   * @returns {object}\n   */\n  getMergedConfig() {\n    let config = deepCopy(this.config) || {}\n    Object.keys(this.defaults).forEach(k => {\n      if (config[k] === undefined) {\n        config[k] = this.defaults[k]\n      }\n    })\n    return config\n  }\n\n  /**\n   * @param {object} context\n   * @param duration\n   * @returns {gsap.Tween}\n   */\n  generateTween(context, duration=null) {\n    let effectGsap = this.generateEffectGsap(context)\n    return effectGsap.getTween(context.target,\n      duration != null ? duration : this.duration)\n  }\n\n  // /**\n  //  * @returns {Effect}\n  //  */\n  // copy() {\n  //   let copy = new Effect(computeUUID(), this.type, this.genFunc)\n  //   let excludeItems = ['effectId', 'genFunc']\n  //   Object.keys(this).forEach(k => {\n  //     if (excludeItems.includes(k)) return\n  //     copy[k] = deepCopy(this[k])\n  //   })\n  //   return copy\n  // }\n\n  toJsonObj() {\n    if (this.type == null) {\n      return this.custom\n    }\n    let result = {}\n    let excludeItems = ['effectId', 'genFunc', 'defaults', 'config', 'custom']\n    Object.keys(this).forEach(k => {\n      if (excludeItems.includes(k)) return\n      result[k] = this[k]\n    })\n    if (this.config != null) {\n      result = {...result, ...this.config}\n    }\n    return result\n  }\n}\n\nexport {\n  Effect\n}\n","import gsap from 'gsap'\n\nclass EffectGsap {\n  valid\n  from\n  to\n  target\n\n  message\n\n  constructor({valid=true, from, to, message='', target}) {\n    this.valid = valid\n    this.from = from\n    this.to = to\n    this.target = target\n    this.message = message\n  }\n\n  getTween(target, duration) {\n    if (this.target) {\n      target = this.target\n    }\n    let tw\n    let from = this.from, to = this.to\n    if (from != null && to != null) {\n      to = {...to, duration}\n      tw = gsap.fromTo(target, from, to)\n    } else if (from != null) {\n      from = {...from, duration}\n      tw = gsap.from(target, from)\n    } else {\n      to = {...to, duration}\n      tw = gsap.to(target, to)\n    }\n    return tw\n  }\n}\n\nexport {\n  EffectGsap\n}\n","import { EffectGsap } from \"@/utils/entities-core/EffectGsap\";\nimport { Effect } from \"@/utils/entities-core/Effect\";\n\nconst defaults = {\n  mode: 'in',\n  ease: 'power1.out',\n}\n\nconst gen = function (target, config) {\n  let from = null, to = null\n\n  if (config.mode === 'in') {\n    from = {scale: 0, ease: config.ease, transformOrigin: 'center center'}\n  } else if (config.mode === 'out') {\n    to = {scale: 0, ease: config.ease, transformOrigin: 'center center'}\n  } else {\n    return new EffectGsap({valid: false,\n      message: \"Wrong mode param: \" + config.mode})\n  }\n\n  return new EffectGsap({from, to})\n}\n\nconst defaultDuration = 1\nconst defaultOffset = 0\n\nconst scale = new Effect('preset-scale', 'scale', gen,\n  defaultDuration, defaultOffset, defaults)\n\nexport {\n  scale\n}\n","import { EffectGsap } from \"@/utils/entities-core/EffectGsap\";\nimport { Effect } from \"@/utils/entities-core/Effect\";\n\nconst defaults = {\n  mode: 'from',   // from, to, yoyo\n  x: '+=0',\n  y: '+=0',\n  yoyoDelay: 0,\n  ease: 'power1.out',\n}\n\nconst gen = function (target, config) {\n  let from = null, to = null\n\n  if (config.mode === 'from') {\n    from = {x: config.x, y: config.y, ease: config.ease}\n  } else if (config.mode === 'to') {\n    to = {x: config.x, y: config.y, ease: config.ease}\n  } else if (config.mode === 'yoyo') {\n    to = {x: config.x, y: config.y, ease: config.ease,\n      yoyo: true, repeat: 1, repeatDelay: config.yoyoDelay}\n  } else {\n    return new EffectGsap({valid: false,\n      message: \"Wrong mode param: \" + config.mode})\n  }\n\n  return new EffectGsap({from, to})\n}\n\nconst defaultDuration = 1\nconst defaultOffset = 0\n\nconst move = new Effect('preset-move', 'move', gen,\n  defaultDuration, defaultOffset, defaults)\n\nexport {\n  move\n}\n","import { EffectGsap } from \"@/utils/entities-core/EffectGsap\";\nimport { Effect } from \"@/utils/entities-core/Effect\";\n\nconst defaults = {\n  mode: 'in',\n  ease: 'power1.out',\n}\n\nconst gen = function (target, config) {\n  let from = null, to = null\n\n  if (config.mode === 'in') {\n    from = {opacity: 0, ease: config.ease}\n  } else if (config.mode === 'out') {\n    to = {opacity: 0, ease: config.ease}\n  } else {\n    return new EffectGsap({valid: false,\n      message: \"Wrong mode param: \" + config.mode})\n  }\n\n  return new EffectGsap({from, to})\n}\n\nconst defaultDuration = 1\nconst defaultOffset = 0\n\nconst fade = new Effect('preset-fade', 'fade', gen,\n  defaultDuration, defaultOffset, defaults)\n\nexport {\n  fade\n}\n","export const Direction = {\n    UP: 'up', DOWN: 'down', LEFT: 'left', RIGHT: 'right',\n}","import { EffectGsap } from \"@/utils/entities-core/EffectGsap\";\nimport { Effect } from \"@/utils/entities-core/Effect\";\nimport { Direction } from \"@/utils/const/Direction\";\n\nconst defaults = {\n  direction: Direction.UP,\n  ease: 'power1.out',\n}\n\nconst gen = function (target, config) {\n  let attrName, origin\n\n  switch (config.direction) {\n    case Direction.UP: attrName = 'scaleY'; origin = 'bottom'; break;\n    case Direction.DOWN: attrName = 'scaleY'; origin = 'top'; break;\n    case Direction.LEFT: attrName = 'scaleX'; origin = 'right'; break;\n    case Direction.RIGHT: attrName = 'scaleX'; origin = 'left'; break;\n    default: return new EffectGsap({valid: false,\n      message: \"Wrong direction param: \" + config.direction})\n  }\n\n  let from = {transformOrigin: origin, ease: config.ease}\n  from[attrName] = 0\n\n  return new EffectGsap({from})\n}\n\nconst defaultDuration = 1\nconst defaultOffset = 0\n\nconst grow = new Effect('preset-grow', 'grow', gen,\n  defaultDuration, defaultOffset, defaults)\n\nexport {\n  grow\n}\n","import { EffectGsap } from \"@/utils/entities-core/EffectGsap\";\nimport { Effect } from \"@/utils/entities-core/Effect\";\nimport { Direction } from \"@/utils/const/Direction\";\n\nconst defaults = {\n  mode: 'in',\n  direction: Direction.UP,\n  ease: 'power1.out',\n}\n\nconst gen = function (context, config) {\n  let defs = context.container.select('defs')\n  if (defs.empty()) {\n    defs = context.container.append('defs')\n  }\n\n  let offsetFactorX, offsetFactorY;\n\n  switch (config.direction) {\n    case Direction.UP:\n      offsetFactorX = 0;\n      offsetFactorY = -1;\n      break;\n    case Direction.DOWN:\n      offsetFactorX = 0;\n      offsetFactorY = 1;\n      break;\n    case Direction.RIGHT:\n      offsetFactorX = -1;\n      offsetFactorY = 0;\n      break;\n    case Direction.LEFT:\n      offsetFactorX = 1;\n      offsetFactorY = 0;\n      break;\n  }\n\n  if (config.mode === 'out') {\n    offsetFactorX *= -1\n    offsetFactorY *= -1\n  }\n\n  const maskId = context.target.id + '-mask'\n\n  const bbox = context.target.getBBox();\n  // the height of line is 0 so...\n  const strokeWidth = parseFloat(context.target.getAttribute('stroke-width') ?? '0');\n /* eslint-disable */\n  let originX, originY, width, height, finalX, finalY;\n  width = bbox.width + strokeWidth;\n  height = bbox.height + strokeWidth;\n  originX =\n      bbox.x +\n      offsetFactorX * (bbox.width + strokeWidth * 2);\n  originY =\n      bbox.y +\n      offsetFactorY * (bbox.height + strokeWidth * 2);\n  finalX = bbox.x;\n  finalY = bbox.y;\n\n  let maskRect = defs.select(`#${maskId}`).select('rect')\n  if (maskRect.empty()) {\n    maskRect = defs.append('mask')\n        .attr('id', maskId)\n        .attr('maskUnits', 'userSpaceOnUse')\n        .append('rect')\n        .attr('transform', 'translate(' + [finalX, finalY] + ')')\n        .attr('class', 'mask')\n        .attr('width', width)\n        .attr('height', height)\n        .attr('stroke-width', strokeWidth)\n        .attr('fill', 'white')\n        .attr('stroke', 'white')\n    context.target.setAttribute('mask', `url(#${maskId})`);\n  }\n\n  let from, to\n  if (config.mode === 'in') {\n    from = {x: originX, y: originY, ease: config.ease}\n  } else if (config.mode === 'out') {\n    to = {x: originX, y: originY, ease: config.ease}\n  } else {\n    return new EffectGsap({valid: false,\n      message: \"Wrong mode param: \" + config.mode})\n  }\n\n  return new EffectGsap({from, to, target: maskRect.node()})\n}\n\nconst defaultDuration = 1\nconst defaultOffset = 0\n\nconst wipe = new Effect('preset-wipe', 'wipe', gen,\n  defaultDuration, defaultOffset, defaults)\n\nexport {\n  wipe\n}\n","import { EffectGsap } from \"@/utils/entities-core/EffectGsap\";\nimport { Effect } from \"@/utils/entities-core/Effect\";\nimport { Direction } from \"@/utils/const/Direction\";\n\nconst defaults = {\n  mode: 'in',\n  direction: Direction.UP,\n  ease: 'power1.out',\n}\n\nconst gen = function (context, config) {\n  let defs = context.container.select('defs')\n  if (defs.empty()) {\n    defs = context.container.append('defs')\n  }\n\n  let offsetFactorX, offsetFactorY;\n\n  switch (config.direction) {\n    case Direction.UP:\n      offsetFactorX = 0;\n      offsetFactorY = -1;\n      break;\n    case Direction.DOWN:\n      offsetFactorX = 0;\n      offsetFactorY = 1;\n      break;\n    case Direction.RIGHT:\n      offsetFactorX = -1;\n      offsetFactorY = 0;\n      break;\n    case Direction.LEFT:\n      offsetFactorX = 1;\n      offsetFactorY = 0;\n      break;\n  }\n\n  if (config.mode === 'out') {\n    offsetFactorX *= -1\n    offsetFactorY *= -1\n  }\n\n  const maskId = context.target.id + '-mask'\n\n  const bbox = context.target.getBBox();\n  // the height of line is 0 so...\n  const strokeWidth = parseFloat(context.target.getAttribute('stroke-width') ?? '0');\n /* eslint-disable */\n  let originX, originY, width, height, finalX, finalY;\n  width = bbox.width + strokeWidth;\n  height = bbox.height + strokeWidth;\n  originX =\n      bbox.x +\n      offsetFactorX * (bbox.width + strokeWidth * 2);\n  originY =\n      bbox.y +\n      offsetFactorY * (bbox.height + strokeWidth * 2);\n  finalX = bbox.x;\n  finalY = bbox.y;\n\n  let maskRect = defs.select(`#${maskId}`).select('rect')\n  if (maskRect.empty()) {\n    maskRect = defs.append('mask')\n        .attr('id', maskId)\n        .attr('maskUnits', 'userSpaceOnUse')\n        .append('rect')\n        .attr('transform', 'translate(' + [finalX, finalY] + ')')\n        .attr('class', 'mask')\n        .attr('width', width)\n        .attr('height', height)\n        .attr('stroke-width', strokeWidth)\n        .attr('fill', 'white')\n        .attr('stroke', 'white')\n    context.target.setAttribute('mask', `url(#${maskId})`);\n  }\n\n  let from, to\n  if (config.mode === 'in') {\n    from = {x: originX, y: originY, ease: config.ease}\n  } else if (config.mode === 'out') {\n    to = {x: originX, y: originY, ease: config.ease}\n  } else {\n    return new EffectGsap({valid: false,\n      message: \"Wrong mode param: \" + config.mode})\n  }\n\n  return new EffectGsap({from, to, target: maskRect.node()})\n}\n\n/* cite: https://greensock.com/forums/topic/17566-create-a-radial-wipe/?tab=comments#comment-79421 */\nfunction getArcPath(cx, cy, rx, ry, startAngle, sweepAngle) {\n  // 0 degrees, no path\n  if (!sweepAngle) return `M${cx} ${cy}`;\n\n  // mod angles to 360 degrees\n  startAngle %= 360;\n  sweepAngle %= 360;\n\n  // If arc is 360 degrees, the sweep angle is 0 due to mod\n  const isClosed = sweepAngle === 0;\n\n  // If closed, we'll need to use 2 arcs with an angle of 180 degrees\n  if (isClosed) {\n    sweepAngle = 180;\n  }\n\n  // Make angle positive to simplify large arc flag\n  if (sweepAngle < 0) {\n    sweepAngle += 360;\n  }\n\n  const largeArc = sweepAngle > 180 ? 1 : 0;\n\n  // Convert degrees to radians\n  const a1 = (startAngle * Math.PI) / 180;\n  const a2 = ((startAngle + sweepAngle) * Math.PI) / 180;\n\n  // Calculate start and end coords for arc. Starts at 12 o'clock\n  const x1 = cx + rx * Math.sin(a1);\n  const y1 = cy - ry * Math.cos(a1);\n\n  const x2 = cx + rx * Math.sin(a2);\n  const y2 = cy - ry * Math.cos(a2);\n\n  /*\n  NOTE: To orient the starting point to 3 o'clock instead of 12 o'clock,\n  add 90 degrees to the start angle, or change the code above to this...\n\n  var x1 = cx + rx * Math.cos(a1);\n  var y1 = cy + ry * Math.sin(a1);\n\n  var x2 = cx + rx * Math.cos(a2);\n  var y2 = cy + ry * Math.sin(a2);\n  */\n\n  // Related demo using arc path\n  // https://codepen.io/osublake/pen/VbWKMj/\n  if (isClosed) {\n    return `\n      M ${x1} ${y1}\n      A ${rx} ${ry} 0 1 1 ${x2} ${y2}\n      A ${rx} ${ry} 0 1 1 ${x1} ${y1}z`;\n  }\n\n  return `\n    M ${x1} ${y1}\n    A ${rx} ${ry} 0 ${largeArc} 1 ${x2} ${y2}\n    L ${cx} ${cy}z`;\n}\n\n\nconst defaultDuration = 1\nconst defaultOffset = 0\n\nconst wheel = new Effect('preset-wheel', 'wheel', gen,\n  defaultDuration, defaultOffset, defaults)\n\nexport {\n  wheel\n}\n","/**\n * @enum {string}\n * @readonly\n */\nexport const TemplateType = {\n  UNKNOWN: 'unknown',\n  BAR_CHART: 'bar-chart',\n  LINE_CHART: 'line-chart',\n  DECORATION: 'decoration',\n}\n","import {TemplateType} from \"@/utils/const/TemplateType\";\n\nclass AnimationTemplate {\n  /** @type {(number|string)} */\n  id\n  /** @type {string} */\n  name\n  /** @type {TemplateType} */\n  type\n  /** @type {string[]} */\n  tempLabels\n\n  /**\n   * @function animationGen\n   * @return {Animation}\n   */\n  /** @type {animationGen} */\n  animationGen\n\n  constructor(id, name, animationGen, type=TemplateType.UNKNOWN, tempLabels=[]) {\n    this.id = id\n    this.name = name\n    this.animationGen = animationGen\n    this.type = type\n    this.tempLabels = tempLabels\n\n    if (!tempLabels.includes(type)) {\n      tempLabels.unshift(type)\n    }\n  }\n}\n\nexport {\n  AnimationTemplate\n}\n","import {Animation} from \"@/utils/entities-core/Animation\"\nimport {AnimationTemplate} from \"@/utils/entities-core/AnimationTemplate\"\nimport {TemplateType} from \"@/utils/const/TemplateType\";\n\nconst animationJSON = [\n  {\n    \"selector\": \".axis\",\n    \"grouping\": {\n      \"groupByClass\": \"x\",\n      \"position\": \"start with previous\",\n      \"stagger\": 0.3,\n      \"grouping\": {\n        \"groupBy\": \"id\",\n        \"position\": \"start with previous\",\n        \"stagger\": 0.01\n      }\n    },\n    \"effects\": [\n      {\n        \"type\": \"fade\",\n        \"mode\": \"in\",\n        \"duration\": 0.6\n      }\n    ],\n    \"labels\": [\n      \"enter\"\n    ],\n    \"position\": \"start after previous\",\n  },\n  {\n    \"selector\": \".bar,.bar-label\",\n    \"grouping\": {\n      \"groupByClass\": \"bar\",\n      \"position\": \"start with previous\",\n      \"stagger\": 0.02,\n      \"grouping\": {\n        \"groupBy\": \"id\",\n        \"position\": \"start with previous\",\n        \"stagger\": 0.05\n      }\n    },\n    \"effects\": [\n      {\n        // \"type\": \"fade\",\n        // \"mode\": \"in\",\n        \"attribute\": \"opacity\",\n        \"from\": 0,\n        \"to\": 0.6,\n        \"duration\": 0.6\n      },\n      {\n        \"attribute\": \"fill\",\n        \"from\": 'red',\n        \"duration\": 0.6\n      }\n    ],\n    \"labels\": [\n      \"enter\"\n    ],\n    \"position\": \"start with previous\",\n    \"offset\": 0,\n  },\n]\n\nconst animationGen = function() {\n  let jsonStr = JSON.stringify(animationJSON)\n  return Animation.from(JSON.parse(jsonStr))\n}\n\nconst barChartEnter3 = new AnimationTemplate(\n  'bar chart-3',\n  'Bar chart enter 3',\n  animationGen,\n  TemplateType.BAR_CHART,\n  ['chart-level', 'enter', 'color']\n)\n\nexport {\n  barChartEnter3\n}\n","import {Animation} from \"@/utils/entities-core/Animation\"\nimport {AnimationTemplate} from \"@/utils/entities-core/AnimationTemplate\"\nimport {TemplateType} from \"@/utils/const/TemplateType\";\n\nconst animationJSON = [\n  {\n    \"selector\": \".group.decoration\",\n    \"grouping\": {\n      \"groupBy\": \"id\",\n      \"position\": \"start after previous\"\n    },\n    \"effects\": [\n      {\n        \"type\": \"fade\",\n        \"mode\": \"in\",\n        \"duration\": 0.6,\n        \"effLabels\": [\"fade-in\"],\n      },\n      {\n        \"attribute\": \"opacity\",\n        \"from\": 0,\n        \"duration\": 0.6,\n        \"offset\": 4,\n        \"effLabels\": [\"fade-out\"],\n      }\n    ],\n    \"labels\": [\n      \"emphasize\"\n    ],\n    \"position\": \"start after previous\",\n  },\n]\n\nconst animationGen = function() {\n  let jsonStr = JSON.stringify(animationJSON)\n  return Animation.from(JSON.parse(jsonStr))\n}\n\nconst decorationTemplate = new AnimationTemplate(\n  'decoration-fade-in-then-out',\n  'Decoration fade-in fade-out',\n  animationGen,\n  TemplateType.BAR_CHART,\n  ['decoration', 'emphasize']\n)\n\nexport {\n  decorationTemplate\n}\n","import {Animation} from \"@/utils/entities-core/Animation\"\nimport {AnimationTemplate} from \"@/utils/entities-core/AnimationTemplate\"\nimport {TemplateType} from \"@/utils/const/TemplateType\";\n\nconst animationJSON = [\n  {\n    \"selector\": \".axis.domain.x\",\n    \"effects\": [\n      {\n        \"type\": \"grow\",\n        \"direction\": \"right\",\n        \"ease\": \"circ.inOut\",\n        \"duration\": 1.5\n      },\n    ],\n    \"labels\": [\"enter\"],\n    \"position\": \"start after previous\",\n  },\n  {\n    \"selector\": \".axis.domain.y\",\n    \"effects\": [\n      {\n        \"type\": \"grow\",\n        \"direction\": \"up\",\n        \"ease\": \"circ.inOut\",\n        \"duration\": 1.5\n      },\n    ],\n    \"labels\": [\"enter\"],\n    \"position\": \"start with previous\",\n  },\n  {\n    \"selector\": \".axis.label,.axis.tick,.axis-label\",\n    \"effects\": [\n      {\n        \"type\": \"fade\",\n        \"mode\": \"in\",\n        \"duration\": 1.5\n      },\n    ],\n    \"labels\": [\"enter\"],\n    \"position\": \"start after previous\",\n  },\n  {\n    \"selector\": \".bar\",\n    \"effects\": [\n      {\n        \"type\": \"grow\",\n        \"direction\": \"up\",\n        \"ease\": \"circ.inOut\",\n        \"duration\": 1.5\n      },\n    ],\n    \"labels\": [\"enter\"],\n    \"position\": \"start after previous\",\n    \"offset\": -1,\n  },\n  {\n    \"selector\": \".bar-label\",\n    \"effects\": [\n      {\n        \"type\": \"fade\",\n        \"mode\": \"in\",\n        \"duration\": 1\n      },\n    ],\n    \"labels\": [\"enter\", \"fade-in\"],\n    \"position\": \"start after previous\",\n  },\n  {\n    \"selector\": \".decoration.group\",\n    \"effects\": [\n      {\n        \"type\": \"fade\",\n        \"mode\": \"in\",\n        \"duration\": 1\n      },\n    ],\n    \"labels\": [\"enter\", \"fade-in\"],\n    \"position\": \"start after previous\",\n  },\n]\n\nconst animationGen = function() {\n  let jsonStr = JSON.stringify(animationJSON)\n  return Animation.from(JSON.parse(jsonStr))\n}\n\nconst barChartEnter = new AnimationTemplate(\n  'bar chart',\n  'Bar chart enter',\n  animationGen,\n  TemplateType.BAR_CHART,\n  ['chart-level', 'enter']\n)\n\nexport {\n  barChartEnter\n}\n","import {Animation} from \"@/utils/entities-core/Animation\"\nimport {AnimationTemplate} from \"@/utils/entities-core/AnimationTemplate\"\nimport {TemplateType} from \"@/utils/const/TemplateType\";\n\nconst animationJSON = [\n  {\n    \"selector\": \".bar\",\n    \"grouping\": {\n      \"groupBy\": \"id\",\n      \"position\": \"start after previous\"\n    },\n    \"effects\": [\n      {\n        \"attribute\": \"fill\",\n        \"to\": \"#ffffff\",\n        \"yoyo\": true,\n        \"duration\": 1\n      },\n    ],\n    \"labels\": [\n      \"emphasize\"\n    ],\n    \"position\": \"start after previous\",\n  },\n]\n\nconst animationGen = function() {\n  let jsonStr = JSON.stringify(animationJSON)\n  return Animation.from(JSON.parse(jsonStr))\n}\n\nconst highlightBar = new AnimationTemplate(\n  'highlight-bar',\n  'Highlight bar',\n  animationGen,\n  TemplateType.BAR_CHART,\n  ['bars', 'emphasize']\n)\n\nexport {\n  highlightBar\n}\n","import {Animation} from \"@/utils/entities-core/Animation\"\nimport {AnimationTemplate} from \"@/utils/entities-core/AnimationTemplate\"\nimport {TemplateType} from \"@/utils/const/TemplateType\";\n\nconst animationJSON = [\n  {\n    \"selector\": \".axis.domain,.axis.tick,.axis-label\",\n    \"effects\": [\n      {\n        \"type\": \"fade\",\n        \"mode\": \"in\",\n        \"duration\": 1.5\n      },\n    ],\n    \"labels\": [\"enter\"],\n    \"position\": \"start after previous\",\n  },\n  {\n    \"selector\": \".axis.label\",\n    \"effects\": [\n      {\n        \"type\": \"scale\",\n        \"mode\": \"in\",\n        \"ease\": \"back.out\",\n        \"duration\": 1\n      },\n    ],\n    \"labels\": [\"enter\"],\n    \"position\": \"start with previous\",\n    \"offset\": 0.2,\n  },\n  {\n    \"selector\": \".bar\",\n    \"effects\": [\n      {\n        \"type\": \"grow\",\n        \"direction\": \"up\",\n        \"ease\": \"power1.inOut\",\n        \"duration\": 1.5\n      },\n    ],\n    \"labels\": [\"enter\"],\n    \"position\": \"start after previous\",\n    \"offset\": -1,\n  },\n  {\n    \"selector\": \".bar-label\",\n    \"effects\": [\n      {\n        \"type\": \"fade\",\n        \"mode\": \"in\",\n        \"duration\": 1\n      },\n    ],\n    \"labels\": [\"enter\"],\n    \"position\": \"start after previous\",\n  }\n]\n\nconst animationGen = function() {\n  let jsonStr = JSON.stringify(animationJSON)\n  return Animation.from(JSON.parse(jsonStr))\n}\n\nconst barChartEnter2 = new AnimationTemplate(\n  'bar chart-2',\n  'Bar chart enter 2',\n  animationGen,\n  TemplateType.BAR_CHART,\n  ['chart-level', 'enter']\n)\n\nexport {\n  barChartEnter2\n}\n","import {Animation} from \"@/utils/entities-core/Animation\"\nimport {AnimationTemplate} from \"@/utils/entities-core/AnimationTemplate\"\nimport {TemplateType} from \"@/utils/const/TemplateType\";\n\nconst animationJSON = [\n  {\n    \"selector\": {\n      \"selector\": \".bar\",\n      // \"sort\": [{\"attr\": \"height\", \"order\": \"dec\"}],\n      \"sort\": [\n        {\"attr\": \"height\", \"order\": \"asc\"},\n        {\"attr\": \"x\", \"order\": \"dec\"}\n      ],\n      \"range\": [0, 3, 2],\n    },\n    \"grouping\": {\n      \"groupBy\": \"id\",\n      \"position\": \"start after previous\",\n    },\n    \"effects\": [\n      {\n        \"attribute\": \"fill\",\n        \"to\": \"#ffffff\",\n        \"yoyo\": true,\n        \"duration\": 1\n      },\n    ],\n    \"labels\": [\n      \"emphasize\"\n    ],\n    \"position\": \"start after previous\",\n  },\n]\n\nconst animationGen = function() {\n  let jsonStr = JSON.stringify(animationJSON)\n  return Animation.from(JSON.parse(jsonStr))\n}\n\nconst testTemplate = new AnimationTemplate(\n  'test-template',\n  'Test template',\n  animationGen,\n  TemplateType.BAR_CHART,\n  ['test']\n)\n\nexport {\n  testTemplate\n}\n","import {Animation} from \"@/utils/entities-core/Animation\"\nimport {AnimationTemplate} from \"@/utils/entities-core/AnimationTemplate\"\nimport {TemplateType} from \"@/utils/const/TemplateType\";\n\nconst animationJSON = [\n  {\n    \"selector\": \".bar,.bar-label\",\n    \"grouping\": {\n      \"groupByIndex\": true,\n      \"position\": \"start after previous\",\n      \"grouping\": {\n        \"groupBy\": \"id\",\n        \"position\": \"start with previous\",\n        \"stagger\": 0.1\n      },\n    },\n    \"effects\": [\n      {\n        \"attribute\": \"y\",\n        \"to\": \"-10\",\n        \"yoyo\": true,\n        \"duration\": 1\n      },\n    ],\n    \"labels\": [\n      \"emphasize\"\n    ],\n    \"position\": \"start after previous\",\n  },\n]\n\nconst animationGen = function() {\n  let jsonStr = JSON.stringify(animationJSON)\n  return Animation.from(JSON.parse(jsonStr))\n}\n\nconst barBounce = new AnimationTemplate(\n  'bar-bounce',\n  'Bar bounce',\n  animationGen,\n  TemplateType.BAR_CHART,\n  ['bars', 'emphasize']\n)\n\nexport {\n  barBounce\n}\n","import {Animation} from \"@/utils/entities-core/Animation\"\nimport {AnimationTemplate} from \"@/utils/entities-core/AnimationTemplate\"\nimport {TemplateType} from \"@/utils/const/TemplateType\";\n\nconst animationJSON = [\n  {\n    \"selector\": \".axis.domain,.axis.tick,.axis-label\",\n    \"effects\": [\n      {\n        \"type\": \"fade\"\n      },\n    ],\n    \"labels\": [\"enter\"],\n  },\n  {\n    \"selector\": \".axis.label\",\n    \"effects\": [\n      {\n        \"type\": \"scale\",\n        \"ease\": \"back.out\",\n      },\n    ],\n    \"labels\": [\"enter\"],\n    \"offset\": 0.2,\n  },\n  {\n    \"selector\": \".mark.line, .legend-group\",\n    \"grouping\": {\n      \"groupByIndex\": true,\n      \"stagger\": 1,\n    },\n    \"effects\": [\n      {\n        \"type\": \"fade\",\n      },\n    ],\n    \"labels\": [\"enter\"],\n    \"position\": \"start after previous\",\n  },\n  {\n    \"selector\": \".group.line-mark\",\n    \"grouping\": {\n      \"groupByReg\": \"series\\\\-\\\\d\",\n      \"stagger\": 1,\n      \"grouping\": {\n        \"groupBy\": \"id\",\n        \"stagger\": 0.2,\n      },\n    },\n    \"effects\": [\n      {\n        \"type\": \"fade\",\n      },\n    ],\n    \"labels\": [\"enter\"],\n  }\n]\n\nconst animationGen = function() {\n  let jsonStr = JSON.stringify(animationJSON)\n  return Animation.from(JSON.parse(jsonStr))\n}\n\nconst lineChartEnter = new AnimationTemplate(\n  'line-chart-basic-enter',\n  'Line chart enter',\n  animationGen,\n  TemplateType.LINE_CHART,\n  ['chart-level', 'enter']\n)\n\nexport {\n  lineChartEnter\n}\n","import {Animation} from \"@/utils/entities-core/Animation\"\nimport {AnimationTemplate} from \"@/utils/entities-core/AnimationTemplate\"\nimport {TemplateType} from \"@/utils/const/TemplateType\";\n\nconst animationJSON = [\n  {\n    \"selector\": \".axis.domain,.axis.tick,.axis-label\",\n    \"effects\": [\n      {\n        \"type\": \"fade\"\n      },\n    ],\n    \"labels\": [\"enter\"],\n  },\n  {\n    \"selector\": \".axis.label\",\n    \"effects\": [\n      {\n        \"type\": \"scale\",\n        \"ease\": \"back.out\",\n      },\n    ],\n    \"labels\": [\"enter\"],\n    \"offset\": 0.2,\n  },\n  {\n    \"selector\": \".group.line-mark\",\n    \"grouping\": {\n      \"groupByReg\": \"series\\\\-\\\\d\",\n      \"stagger\": 1,\n      \"grouping\": {\n        \"groupBy\": \"id\",\n        \"stagger\": 0.2,\n      },\n    },\n    \"effects\": [\n      {\n        \"type\": \"fade\",\n      },\n    ],\n    \"labels\": [\"enter\"],\n    \"position\": \"start after previous\"\n  },\n  {\n    \"selector\": \".mark.line, .legend-group\",\n    \"grouping\": {\n      \"groupByIndex\": true,\n      \"stagger\": 1,\n    },\n    \"effects\": [\n      {\n        \"type\": \"wipe\",\n        \"direction\": \"right\",\n      },\n    ],\n    \"labels\": [\"enter\"],\n  },\n]\n\nconst animationGen = function() {\n  let jsonStr = JSON.stringify(animationJSON)\n  return Animation.from(JSON.parse(jsonStr))\n}\n\nconst lineChartEnter2 = new AnimationTemplate(\n  'line-chart-basic-enter-2',\n  'Line chart enter 2',\n  animationGen,\n  TemplateType.LINE_CHART,\n  ['chart-level', 'enter']\n)\n\nexport {\n  lineChartEnter2\n}\n","import {scale} from \"./effects/scale\";\nimport {move} from \"@/utils/preset/effects/move\";\nimport {fade} from \"./effects/fade\"\nimport {grow} from \"./effects/grow\"\nimport {wipe} from \"@/utils/preset/effects/wipe\";\nimport {wheel} from \"@/utils/preset/effects/wheel\";\n\nconst effects = [\n  grow, fade, scale, move, wipe, wheel,\n]\n\nimport {barChartEnter3} from \"@/utils/preset/templates/bar-chart/barChartEnter3\"\nimport {decorationTemplate} from \"@/utils/preset/templates/bar-chart/decorationTemplate\";\nimport {barChartEnter} from \"@/utils/preset/templates/bar-chart/barChartEnter\";\nimport {highlightBar} from \"@/utils/preset/templates/bar-chart/barHighlight\";\nimport {barChartEnter2} from \"@/utils/preset/templates/bar-chart/barChartEnter2\";\nimport {testTemplate} from \"@/utils/preset/templates/bar-chart/testTemplate\";\nimport {barBounce} from \"@/utils/preset/templates/bar-chart/barBounce\";\n\nimport {lineChartEnter} from '@/utils/preset/templates/line-chart/lineChartEnter'\nimport {lineChartEnter2} from \"@/utils/preset/templates/line-chart/lineChartEnter2\";\n\nconst aniTemplates = [\n  // bar chart template\n  barChartEnter, barChartEnter2, barChartEnter3, testTemplate, highlightBar,  barBounce,\n  // line chart template\n  lineChartEnter, lineChartEnter2,\n  // other\n  decorationTemplate\n]\n\nexport {\n  effects, aniTemplates\n}\n","// eslint-disable-next-line\nimport { Effect } from '@/utils/entities-core/Effect'\nimport { effects } from '@/utils/preset'\nimport { computeUUID } from '../common/uuid'\n\nclass EffectFactory {\n  /** @type {Map<string,Effect>}> */\n  effectMap = new Map()\n\n  constructor() {\n    this.registerPresetEffects()\n  }\n\n  registerPresetEffects() {\n    effects.forEach(effect => {\n      this.registerEffect(effect)\n    })\n  }\n\n  /**\n   * Register an EffectGen with the factory\n   * @param {Effect} effect\n   * @return {EffectFactory} This object for the chain call\n   */\n  registerEffect(effect) {\n    if (this.effectMap.has(effect.type)) {\n      alert(`Effect ${effect.type} exists. Register failed.`)\n    } else {\n      this.effectMap.set(effect.type, effect)\n    }\n    return this\n  }\n\n  /**\n   * Get a shadow copy of the effect\n   * @param {(string|number)} type The type of the effect\n   * @returns {Effect} A shadow copy of the effect generator\n   */\n  getEffect(type) {\n    let effect = this.effectMap.get(type)\n    if (!effect) {\n      console.log('No such effect', type)\n    }\n    return new Effect(computeUUID(), effect.type, effect.genFunc,\n      effect.duration, effect.offset, effect.defaults, effect.effLabels)\n  }\n}\n\nconst effectFactory = new EffectFactory()\n\nexport {\n  effectFactory\n}\n","export const Position = {\n    AFTER: \"start after previous\",\n    WITH: \"start with previous\",\n}","import { computeUUID } from \"../common/uuid\"\nimport { Effect } from \"../entities-core/Effect\"\nimport { effectFactory } from \"../entities-core/EffectFactory\"\nimport { EffectGsap } from \"../entities-core/EffectGsap\"\nimport {Position} from \"../const/Position\"\nimport {deepCopy} from \"@/utils/common/copy\";\n\nconst defaultGrouping = {\n  groupBy: 'id',\n  position: Position.WITH,\n  offset: 0,\n}\n\n/**\n * @typedef EffectCustom\n * @property {string} attribute\n * @property {number} from\n * @property {number} to\n * @property {?string} ease\n * @property {number} duration\n * @property {?number} offset\n * @property {?string[]} effLabels\n */\n/**\n * @typedef EffectSpec\n * @property {string} type\n * @property {?number} duration\n * @property {?number} offset\n * @property {?string[]} effLabels\n */\n/**\n * @param {(EffectCustom|EffectSpec)} rawObj\n * @returns {Effect}\n */\nexport function createEffectFrom(rawObj) {\n  try {\n    rawObj = deepCopy(rawObj)\n    if (rawObj.attribute) {\n      // EffectCustom\n      let from = null, to = null\n      if (rawObj.from !== undefined) {\n        from = {}\n        from[rawObj.attribute] = rawObj.from\n      }\n      if (rawObj.to !== undefined) {\n        to = {}\n        to[rawObj.attribute] = rawObj.to\n      }\n\n      let toOrFrom = (to !== null) ? to : from\n      if (rawObj.ease) toOrFrom.ease = rawObj.ease\n      if (rawObj.svgOrigin) toOrFrom.svgOrigin = rawObj.svgOrigin\n      if (rawObj.transformOrigin) toOrFrom.transformOrigin = rawObj.transformOrigin\n      if (rawObj.yoyo) {\n        toOrFrom.yoyo = rawObj.yoyo\n        toOrFrom.repeatDelay = rawObj.yoyoDelay || 0\n        toOrFrom.repeat = 1\n        rawObj.duration /= 2\n      }\n      console.log('custom', from, to)\n      let genFunc = () => new EffectGsap({from, to})\n\n      let effect = new Effect(computeUUID(), rawObj.type, genFunc,\n        rawObj.duration, rawObj.offset, {}, rawObj.effLabels || [])\n      effect.custom = rawObj\n\n      return effect\n\n    } else {\n      // EffectSpec\n      let effect = effectFactory.getEffect(rawObj.type)\n      if (!effect) {\n        console.error('No such effect: ' + rawObj.type)\n      }\n\n      if (rawObj.duration) effect.duration = rawObj.duration\n      if (rawObj.offset) effect.offset = rawObj.offset\n      if (rawObj.effLabels) effect.effLabels = rawObj.effLabels\n\n      delete rawObj.type\n      delete rawObj.duration\n      delete rawObj.offset\n      delete rawObj.effLabels\n      effect.config = rawObj\n\n      return effect\n    }\n\n  } catch (exception) {\n    console.error(exception)\n  }\n}\n\nexport function fixEffects(effects) {\n  return effects.map(e => {\n    if (e instanceof Effect) return e\n    return createEffectFrom(e)\n  })\n}\n\nexport function fixGroupingSettings(grouping) {\n  if (!grouping) {\n    return deepCopy(defaultGrouping)\n  }\n  let nestedGroup = grouping\n  while (nestedGroup.grouping) {\n    nestedGroup = nestedGroup.grouping\n  }\n  if (nestedGroup.groupBy !== 'id') {\n    nestedGroup.grouping = deepCopy(defaultGrouping)\n  }\n  return grouping\n}\n","import {computeUUID} from \"../common/uuid\"\nimport {fixEffects, fixGroupingSettings} from \"@/utils/parser/parser\";\nimport {deepCopy} from \"@/utils/common/copy\";\n\nclass AniUnit {\n  /** @type {(number|string)} */\n  aniUnitId\n  /** @type {string} */\n  selector\n  /** @type {object} */\n  grouping\n  /**\n   * @typedef EffectCreator\n   * @property {string} type\n   * @property {object} config\n   * @property {number} duration\n   * @property {number} offset\n   */\n  /** @type {Effect[]} */\n  effects\n  /** @type {string[]} */\n  labels\n  /** @type {?string} */\n  position\n  /** @type {number} */\n  offset\n\n  constructor({aniUnitId, selector, grouping=null, effects=[],\n                labels=[], position=null, offset=0}) {\n    this.aniUnitId = aniUnitId\n    this.selector = selector\n    this.grouping = fixGroupingSettings(grouping)\n    this.effects = fixEffects(effects)\n    this.labels = labels\n    this.position = position\n    this.offset = offset\n  }\n\n  toJsonObj() {\n    return {\n      aniUnitId: this.aniUnitId,\n      selector: this.selector,\n      grouping: deepCopy(this.grouping),\n      effects: this.effects.map(e => e.toJsonObj()),\n      labels: deepCopy(this.labels),\n      position: this.position,\n      offset: this.offset,\n    }\n  }\n\n  static from(rawObj) {\n    try {\n      if (!rawObj.aniUnitId) {\n        rawObj.aniUnitId = computeUUID()\n      }\n      return new AniUnit(rawObj)\n    } catch (exception) {\n      console.error(exception)\n    }\n  }\n}\n\nexport {\n  AniUnit\n}\n","export class AbstractAniInstance {\n  templateId\n\n  constructor(templateId) {\n    this.templateId = templateId\n  }\n\n  // appendToAnimation() {\n  //   console.error('Not implement')\n  //   return false\n  // }\n}","import { AniUnit } from \"@/utils/entities-core/AniUnit\"\nimport {AbstractAniInstance} from \"@/utils/entities-core/AbstractAniInstance\";\n\nclass Animation extends AbstractAniInstance {\n  /** @type {AniUnit[]} */\n  aniUnits = []\n  /** @type {Map<(string|number), AniUnit>} */\n  aniUnitMap = new Map()\n\n  /**\n   * Add an AniUnit to this animation\n   * @param {AniUnit} aniUnit\n   */\n  addAniUnit(aniUnit) {\n    this.aniUnits.push(aniUnit)\n    this.aniUnitMap.set(aniUnit.aniUnitId, aniUnit)\n  }\n\n  toJsonObj() {\n    let result = {aniUnits:[]}\n    this.aniUnits.forEach(aniUnit => {\n      result.aniUnits.push(aniUnit.toJsonObj())\n    })\n    return result\n  }\n\n  /**\n   * Creat an animation from a raw object.\n   * @param {object} rawObj Raw json object of animaion class\n   */\n  static from(rawObj) {\n    try {\n      let animation = new Animation()\n      rawObj.forEach(aniUnitRaw => {\n        let aniUnit = AniUnit.from(aniUnitRaw)\n        animation.addAniUnit(aniUnit)\n      })\n      return animation\n    } catch (exception) {\n      console.error(exception)\n    }\n  }\n}\n\nexport {\n  Animation\n}\n","export class TemplateUsage {\n  /** @type {string} */\n  use\n  /** @type {object} */\n  configs\n}\n","import {TemplateUsage} from \"@/utils/entities/TemplateUsage\";\n\n/**\n * @param {{}} rawObject\n * @returns {TemplateUsage}\n */\nfunction from(rawObject) {\n  const result = new TemplateUsage()\n  result.use = rawObject.use\n  result.configs = rawObject.configs\n  return result\n}\n\n/**\n * @param {TemplateUsage} object\n * @returns {{}}\n */\nfunction jsonify(object) {\n  const result = {}\n  Object.keys(object).forEach(k => result[k] = object[k])\n  return result\n}\n\nexport const TemplateUsageParser = {from, jsonify}","export class AniTemplateFactory {\n  constructorMap = new Map()\n\n  register(aniTemplate) {\n    this.constructorMap.set(aniTemplate.templateId, aniTemplate.constructor)\n  }\n\n  createAniTemplate(templateId) {\n    const constructor = this.constructorMap.get(templateId)\n    if (constructor == null) {\n      return null\n    }\n    return new constructor()\n  }\n}\n","import {TemplateType} from \"@/utils/const/TemplateType\";\nimport {deepCopy} from \"@/utils/common/copy\";\n\nexport class AbstractAniTemplate {\n  /** @type {(number|string)} */\n  templateId\n  /** @type {string} */\n  name\n  /** @type {TemplateType} */\n  type\n  /** @type {string[]} */\n  tempLabels\n  /** @type {object} */\n  defaults\n  /** @type {object} */\n  configs\n\n  constructor(templateId, name, type=TemplateType.UNKNOWN, tempLabels=[], defaults={}) {\n    this.templateId = templateId\n    this.name = name\n    this.type = type\n    this.tempLabels = tempLabels\n    this.defaults = defaults\n  }\n\n  /**\n   * @returns {object}\n   */\n  getMergedConfigs() {\n    let config = deepCopy(this.configs) || {}\n    Object.keys(this.defaults).forEach(k => {\n      if (config[k] === undefined) {\n        config[k] = this.defaults[k]\n      }\n    })\n    return config\n  }\n\n  /**\n   * @returns {AbstractAniInstance | null}\n   */\n  createInstance() {\n    console.error('Not implement')\n    return null\n  }\n\n  checkValid() {\n    console.error('Not implement')\n    return false\n  }\n}\n","/**\n * @param {object} object\n * @param {function(key: any, item: object, parent: object): boolean} func\n */\nfunction traversalObject(object, func) {\n  if (object == null) return\n  traversalObjectRecursively(object, func)\n}\n\n/**\n * @param {object} object\n * @param {function(key: any, item: object, parent: object): boolean} func\n * @returns {boolean} Not to traversal if return true\n */\nfunction traversalObjectRecursively(object, func) {\n  if (object == null || typeof object !== 'object') return false\n  // console.log(object)\n  for (let key of Object.keys(object)) {\n    const item = object[key]\n    let terminate = func(key, item, object)\n    if (terminate) return true\n    traversalObjectRecursively(item, func)\n  }\n  return false\n}\n\nexport const ObjectUtils = {\n  traversalObject\n}","export class Slot {\n  /** @type {string} */\n  $slotId\n\n  static isSlot(object) {\n    return object != null\n        && typeof object === 'object'\n        && Array.from(Object.keys(object)).includes('$slot')\n  }\n\n  static toSlotObject(object) {\n    let slot = new Slot()\n    Object.keys(object).forEach(k => {\n      slot[k] = object[k]\n    })\n    return slot\n  }\n}","/**\n * @param {any[]} array\n * @param {any} item\n */\nfunction removeItem(array, item) {\n  let index = array.indexOf(item)\n  if (index === -1) return false\n  array.splice(index, 1)\n  return true\n}\n\nfunction getLastItem(array) {\n  let len = array.length\n  if (len === 0) return null\n  return array[len - 1]\n}\n\n/**\n * @param {any[]} array \n * @param {any[]} subArray \n * @returns {boolean}\n */\nfunction includes(array, subArray) {\n  return subArray.every(item => array.includes(item))\n}\n\n/**\n * @param {any[]} array\n * @param {number} start\n * @param {number} end Not include\n * @param {number} [step=1]\n * @returns {any[]}\n */\nfunction slice(array, start, end, step=1) {\n  let result = []\n  for (let i = start; i < end; i += step) {\n    result.push(array[i])\n  }\n  return result\n}\n\n/**\n * @param {any[]} array1\n * @param {any[]} array2\n */\nfunction intersect(array1, array2) {\n  let res = []\n  array1.forEach(item => {\n    if (array2.includes(item)) {\n      res.push(item)\n    }\n  })\n  return res\n}\n\nexport const ArrayUtils = {\n  removeItem, getLastItem, includes, slice, intersect,\n}\n","import {AbstractAniTemplate} from \"@/utils/entities-core/AbstractAniTemplate\";\nimport {ObjectUtils} from \"@/utils/common/ObjectUtils\";\nimport {Slot} from \"@/utils/entities/Slot\";\nimport {ArrayUtils} from \"@/utils/common/ArrayUtils\";\nimport {Animation} from \"@/utils/entities-core/Animation\";\nimport {deepCopy} from \"@/utils/common/copy\";\nimport {TemplateType} from \"@/utils/const/TemplateType\";\n\nexport class CanisAniTemplate extends AbstractAniTemplate {\n  canisTemplate\n  metaData\n\n  constructor(id, name, tempLabels, defaults, canisTemplate) {\n    super(id, name, TemplateType.UNKNOWN, tempLabels, defaults)\n    this.canisTemplate = canisTemplate\n  }\n\n  createInstance() {\n    this.metaData = deepCopy(this.canisTemplate)\n\n    const configs = this.getMergedConfigs()\n    const slotInfoList = this.getSlotInfoList()\n\n    for (let slotInfo of slotInfoList) {\n      const value = configs[slotInfo.slot['$slot']]\n      if (value !== undefined) {\n        slotInfo.object[slotInfo.key] = value\n      }\n    }\n\n    const instance = Animation.from(this.metaData)\n    instance.templateId = this.templateId\n\n    return instance\n  }\n\n  checkValid() {\n    const configs = this.getMergedConfigs()\n    const slotInfoList = this.getSlotInfoList()\n    return ArrayUtils.includes(Array.from(configs.keys()),\n        slotInfoList.map(item => item.slot['$slot']))\n  }\n\n  getSlotInfoList() {\n    /** @type {Array<{object: object, key: string, slot: object}>} */\n    const slotInfoList = []\n    ObjectUtils.traversalObject(this.metaData, (key, item, parent) => {\n      if (Slot.isSlot(item)) {\n        slotInfoList.push({object: parent, key, slot: item})\n      }\n    })\n    return slotInfoList\n  }\n}","import {CanisAniTemplate} from \"@/utils/entities-core/ani-template/CanisAniTemplate\";\n\nconst templateId = 'bar chart'\nconst name = 'Bar Chart Enter Template'\nconst tempLabels = ['chart-level', 'enter']\nconst defaults = {\n  \"bar-grow-direction\": \"up\",\n}\n\nconst canisTemplate = [\n  {\n    \"selector\": \".axis.domain.x\",\n    \"effects\": [\n      {\n        \"type\": \"grow\",\n        \"direction\": \"right\",\n        \"ease\": \"circ.inOut\",\n        \"duration\": 1.5\n      },\n    ],\n    \"labels\": [\"enter\"],\n    \"position\": \"start after previous\",\n  },\n  {\n    \"selector\": \".axis.domain.y\",\n    \"effects\": [\n      {\n        \"type\": \"grow\",\n        \"direction\": \"up\",\n        \"ease\": \"circ.inOut\",\n        \"duration\": 1.5\n      },\n    ],\n    \"labels\": [\"enter\"],\n    \"position\": \"start with previous\",\n  },\n  {\n    \"selector\": \".axis.label,.axis.tick,.axis-label\",\n    \"effects\": [\n      {\n        \"type\": \"fade\",\n        \"mode\": \"in\",\n        \"duration\": 1.5\n      },\n    ],\n    \"labels\": [\"enter\"],\n    \"position\": \"start after previous\",\n  },\n  {\n    \"selector\": \".bar\",\n    \"effects\": [\n      {\n        \"type\": \"grow\",\n        \"direction\": {\"$slot\": \"bar-grow-direction\"},\n        \"ease\": \"circ.inOut\",\n        \"duration\": 1.5\n      },\n    ],\n    \"labels\": [\"enter\"],\n    \"position\": \"start after previous\",\n    \"offset\": -1,\n  },\n  {\n    \"selector\": \".bar-label\",\n    \"effects\": [\n      {\n        \"type\": \"fade\",\n        \"mode\": \"in\",\n        \"duration\": 1\n      },\n    ],\n    \"labels\": [\"enter\", \"fade-in\"],\n    \"position\": \"start after previous\",\n  },\n  {\n    \"selector\": \".decoration.group\",\n    \"effects\": [\n      {\n        \"type\": \"fade\",\n        \"mode\": \"in\",\n        \"duration\": 1\n      },\n    ],\n    \"labels\": [\"enter\", \"fade-in\"],\n    \"position\": \"start after previous\",\n  },\n]\n\nexport class BarChartEnterTemplate extends CanisAniTemplate {\n  constructor() {\n    super(templateId, name, tempLabels, defaults, canisTemplate)\n  }\n}","import {CanisAniTemplate} from \"@/utils/entities-core/ani-template/CanisAniTemplate\";\n\nconst templateId = 'fade'\nconst name = 'Fade Template'\nconst tempLabels = ['??-level', 'enter']\nconst defaults = {\n  \"sorter\": [],\n  \"position\": \"start after previous\",\n  \"stagger\": 0,\n  \"mode\": \"in\",\n}\n\nconst canisTemplate = [\n  {\n    \"selector\": {\n      \"selector\": {\"$slot\": \"target\"},\n      \"sort\": {\"$slot\": \"sorter\"},\n    },\n    \"grouping\": {\n      \"groupBy\": \"id\",\n      \"position\": \"start with previous\",\n      \"stagger\": {\"$slot\": \"stagger\"},\n    },\n    \"effects\": [\n      {\n        \"type\": \"fade\",\n        \"mode\": {\"$slot\": \"mode\"},\n        \"duration\": 1.5\n      },\n    ],\n    \"labels\": [\"fade\"],\n    \"position\": {\"$slot\": \"position\"},\n  },\n]\n\nexport class FadeTemplate extends CanisAniTemplate {\n  constructor() {\n    super(templateId, name, tempLabels, defaults, canisTemplate)\n  }\n}","import {CanisAniTemplate} from \"@/utils/entities-core/ani-template/CanisAniTemplate\";\n\nconst templateId = 'wipe'\nconst name = 'wipe Template'\nconst tempLabels = ['??-level', 'enter']\nconst defaults = {\n  \"sorter\": [],\n  \"position\": \"start after previous\",\n  \"stagger\": 0,\n  \"mode\": \"in\",\n  \"ease\": \"power1.out\",\n  \"duration\": 1.5,\n  \"labels\": ['wipe']\n}\n\nconst canisTemplate = [\n  {\n    \"selector\": {\n      \"selector\": {\"$slot\": \"target\"},\n      \"sort\": {\"$slot\": \"sorter\"},\n    },\n    \"grouping\": {\n      \"groupBy\": \"id\",\n      \"position\": \"start with previous\",\n      \"stagger\": {\"$slot\": \"stagger\"},\n    },\n    \"effects\": [\n      {\n        \"type\": \"wipe\",\n        \"direction\": {\"$slot\": \"direction\"},\n        \"mode\": {\"$slot\": \"mode\"},\n        \"ease\": {\"$slot\": \"ease\"},\n        \"duration\": {\"$slot\": \"duration\"},\n      },\n    ],\n    \"labels\": {\"$slot\": \"labels\"},\n    \"offset\": {\"$slot\": \"offset\"},\n    \"position\": {\"$slot\": \"position\"},\n  },\n]\n\nexport class WipeTemplate extends CanisAniTemplate {\n  constructor() {\n    super(templateId, name, tempLabels, defaults, canisTemplate)\n  }\n}","import {CanisAniTemplate} from \"@/utils/entities-core/ani-template/CanisAniTemplate\";\n\nconst templateId = 'scale'\nconst name = 'Scale Template'\nconst tempLabels = ['??-level', 'enter']\nconst defaults = {\n  \"sorter\": [],\n  \"position\": \"start after previous\",\n  \"stagger\": 0,\n  \"offset\": 0,\n  \"ease\": \"power1.out\",\n  \"mode\": \"in\",\n}\n\nconst canisTemplate = [\n  {\n    \"selector\": {\n      \"selector\": {\"$slot\": \"target\"},\n      \"sort\": {\"$slot\": \"sorter\"},\n    },\n    \"grouping\": {\n      \"groupBy\": \"id\",\n      \"position\": \"start with previous\",\n      \"stagger\": {\"$slot\": \"stagger\"},\n    },\n    \"effects\": [\n      {\n        \"type\": \"scale\",\n        \"mode\": {\"$slot\": \"mode\"},\n        \"ease\": {\"$slot\": \"ease\"},\n        \"duration\": 0.5\n      },\n    ],\n    \"labels\": [\"scale\"],\n    \"offset\": {\"$slot\": \"offset\"},\n    \"position\": {\"$slot\": \"position\"},\n  },\n]\n\nexport class ScaleTemplate extends CanisAniTemplate {\n  constructor() {\n    super(templateId, name, tempLabels, defaults, canisTemplate)\n  }\n}","import {CanisAniTemplate} from \"@/utils/entities-core/ani-template/CanisAniTemplate\";\n\nconst templateId = 'zoom'\nconst name = 'Zoom Template'\nconst tempLabels = ['??-level', 'enter']\nconst defaults = {\n  \"offset\": 0,\n  \"position\": \"start after previous\",\n  \"scaleFactor\": 1.3,\n  \"transformOrigin\": \"50% 50%\",\n  \"duration\": 1,\n  \"labels\": [\"zoom\"],\n}\n\nconst canisTemplate = [\n  {\n    \"selector\": \".chart\",\n    \"effects\": [\n      {\n        \"attribute\": \"scale\",\n        \"to\": {\"$slot\": \"scaleFactor\"},\n        \"duration\": {\"$slot\": \"duration\"},\n        \"transformOrigin\": {\"$slot\": \"transformOrigin\"}\n      },\n    ],\n    \"labels\": {\"$slot\": \"labels\"},\n    \"offset\": {\"$slot\": \"offset\"},\n    \"position\": {\"$slot\": \"position\"},\n  },\n]\n\nexport class ZoomTemplate extends CanisAniTemplate {\n  constructor() {\n    super(templateId, name, tempLabels, defaults, canisTemplate)\n  }\n}","import {CanisAniTemplate} from \"@/utils/entities-core/ani-template/CanisAniTemplate\";\nimport {deepCopy} from \"@/utils/common/copy\";\n\nconst templateId = 'float'\nconst name = 'Float Template'\nconst tempLabels = ['??-level', 'enter']\nconst defaults = {\n  \"sorter\": [],\n  \"position\": \"start after previous\",\n  \"stagger\": 0,\n  \"mode\": \"in\",\n  \"offset\": 0,\n  \"duration\": 1.5,\n  \"labels\": [\"float\"]\n}\n\nconst canisTemplate = [\n  {\n    \"selector\": {\n      \"selector\": {\"$slot\": \"target\"},\n      \"sort\": {\"$slot\": \"sorter\"},\n    },\n    \"grouping\": {\n      \"groupBy\": \"id\",\n      \"position\": \"start with previous\",\n      \"stagger\": {\"$slot\": \"stagger\"},\n    },\n    \"effects\": [\n      {\n        \"type\": \"fade\",\n        \"mode\": {\"$slot\": \"mode\"},\n        \"duration\": {\"$slot\": \"duration\"},\n      },\n      {\n        \"attribute\": \"y\",\n        \"from\": \"+=20\",\n        \"duration\": {\"$slot\": \"duration\"},\n      }\n    ],\n    \"labels\": {\"$slot\": \"labels\"},\n    \"offset\": {\"$slot\": \"offset\"},\n    \"position\": {\"$slot\": \"position\"},\n  },\n]\n\nexport class FloatTemplate extends CanisAniTemplate {\n  constructor() {\n    super(templateId, name, tempLabels, defaults, canisTemplate)\n  }\n\n  createInstance() {\n    const configs = this.getMergedConfigs()\n    if (configs.mode === 'out') {\n      this.canisTemplate = deepCopy(this.canisTemplate)\n      const effect = this.canisTemplate[0].effects[1]\n      delete effect.from\n      effect.to = \"-=50\"\n    }\n    return super.createInstance()\n  }\n}","import {AniTemplateFactory} from \"@/utils/entities-core/AniTemplateFactory\";\n\nimport {BarChartEnterTemplate} from \"@/utils/preset/ani-template/chart-level/BarChartEnterTemplate\";\nimport {FadeTemplate} from \"@/utils/preset/ani-template/chart-level/FadeTemplate\";\nimport {WipeTemplate} from \"@/utils/preset/ani-template/chart-level/WipeTemplate\";\nimport {ScaleTemplate} from \"@/utils/preset/ani-template/chart-level/ScaleTemplate\";\nimport {ZoomTemplate} from \"@/utils/preset/ani-template/chart-level/ZoomTemplate\";\nimport {FloatTemplate} from \"@/utils/preset/ani-template/chart-level/FloatTemplate\";\n\nconst aniTemplateFactory = new AniTemplateFactory()\n\naniTemplateFactory.register(new BarChartEnterTemplate())\naniTemplateFactory.register(new FadeTemplate())\naniTemplateFactory.register(new ScaleTemplate())\naniTemplateFactory.register(new WipeTemplate())\naniTemplateFactory.register(new ZoomTemplate())\naniTemplateFactory.register(new FloatTemplate())\n\nexport { aniTemplateFactory }","/* eslint-disable */\n\nimport {Animation} from \"@/utils/entities-core/Animation\";\nimport { Context } from \"@/utils/entities/Context\";\nimport {TemplateUsageParser} from \"@/utils/parser/TemplateUsageParser\";\nimport {aniTemplateFactory} from \"@/utils/preset/ani-template\";\n\nexport class Parser {\n  /** @type {Context} */\n  context\n  src\n\n  constructor(context, src) {\n    this.context = context\n    this.src = src\n  }\n\n  execute() {\n    if (!this.src.templateUsageText || this.src.templateUsageText === '[]') {\n      this.parseAnimationText()\n    } else {\n      this.parseTemplateUsage()\n      console.log('usage ...')\n    }\n    this.parseRefinementText()\n    this.parseConstraintsText()\n    this.parseAlignConstraintsText()\n  }\n\n  parseTemplateUsage() {\n    const templateUsageList = JSON.parse(this.src.templateUsageText)\n    const animation = new Animation()\n    templateUsageList.forEach(tu => {\n      const templateUsage = TemplateUsageParser.from(tu)\n      const aniTemplate = aniTemplateFactory.createAniTemplate(templateUsage.use)\n      aniTemplate.configs = templateUsage.configs\n      aniTemplate.createInstance().aniUnits.forEach(au => {\n        animation.addAniUnit(au)\n      })\n    })\n    this.context.animation = animation\n  }\n\n  parseAnimationText() {\n    let aniJsonObj = JSON.parse(this.src.animationText)\n    this.context.animation = Animation.from(aniJsonObj.aniUnits)\n    console.log('animationText', this.context.animation)\n  }\n\n  parseRefinementText() {\n    this.context.refinements = JSON.parse(this.src.refinementsText)\n  }\n\n  parseConstraintsText() {\n    this.context.constraints = JSON.parse(this.src.constraintsText)\n  }\n\n  parseAlignConstraintsText() {\n    this.context.alignConstraints = JSON.parse(this.src.alignConstraintsText)\n  }\n}","class AniAtom {\n  /** @type {(number|string)} */\n  aniAtomId\n  context\n  /** @type {Effect} */\n  effect\n  /** @type {string[]} */\n  labels\n\n  /** @type {gsap.Tween} */\n  tween\n\n  constructor(aniAtomId, context, effect, labels) {\n    this.aniAtomId = aniAtomId\n    this.context = context\n    this.effect = effect\n    this.labels = labels\n  }\n\n  /**\n   * @param {gsap.Timeline} tl\n   * @param {number} absPosition\n   */\n  appendTo(tl, absPosition) {\n    let tw = this.effect.generateTween(this.context, this.effect.duration)\n    tl.add(tw, absPosition)\n    this.tween = tw\n  }\n\n  getAllottedTime() {\n    if (!this.tween) return null\n    return [this.tween.startTime(), this.tween.endTime()]\n  }\n\n  // getReadableCopy() {\n  //   const exclude = ['tween', 'target', 'effect']\n  //   let ret = {}\n  //   Object.keys(this).forEach(k => {\n  //     if (exclude.includes(k)) return\n  //     ret[k] = this[k]\n  //   })\n  //   // console.log('target', this.target, this.target.getAttribute('class'))\n  //   ret.target = {\n  //     id: this.target.id,\n  //     \"class\": this.target.getAttribute('class')\n  //   }\n  //   ret.effect = this.effect.effId\n  //   return ret\n  // }\n}\n\nexport {\n  AniAtom\n}\n","/**\n * Represent the relation: Src is a XXX of Dst\n * @readonly\n * @enum {string}\n */\nconst Relation = {\n  ANY: 'any',\n  CHILD: 'child',\n  PARENT: 'parent',\n  LAST_SIBLING: 'last-sibling',\n  NEXT_SIBLING: 'next-sibling',\n  CONSTRAINT: 'constraint',\n  CONSTRAINT_REV: \"constraint-reverse\"\n}\n\n/**\n * Get the reversed relation\n * @param {Relation} relation\n * @returns {Relation}\n */\nfunction reverseRelation(relation) {\n  switch(relation) {\n    case Relation.ANY: return Relation.ANY\n    case Relation.CHILD: return Relation.PARENT\n    case Relation.PARENT: return Relation.CHILD\n    case Relation.LAST_SIBLING: return Relation.NEXT_SIBLING\n    case Relation.NEXT_SIBLING: return Relation.LAST_SIBLING\n    case Relation.CONSTRAINT: return Relation.CONSTRAINT_REV\n    default: console.error('Unknown relation', relation);\n  }\n}\n\nexport {\n  Relation, reverseRelation,\n}\n","// eslint-disable-next-line\nimport {AniAtom} from \"@/utils/entities-core/AniAtom\"\n// eslint-disable-next-line\nimport {AniUnit} from \"@/utils/entities-core/AniUnit\"\n// eslint-disable-next-line\nimport {ConsEdge} from \"./ConsEdge\"\nimport {Relation} from \"./Relation\"\nimport {extent} from 'd3'\nimport {Position} from \"@/utils/const/Position\"\n\n/**\n * Enum for the type of ConsNode\n * @readonly\n * @enum {string}\n */\nconst NodeType = {\n  UNKNOWN: 'unknown',\n  ROOT: 'root',\n  UNIT_NODE: 'ani-unit-node',\n  INTERNAL_NODE: 'internal-node',\n  EL_NODE: 'element-node',\n  ATOM_NODE: 'ani-atom-node',\n  ADDED_NODE: 'added-node',\n}\n\nclass ConsNode {\n  /** @type {(number|string)} */\n  id\n  /** @type {NodeType} */\n  type\n  /** @type {ConsEdge[]} */\n  outEdges\n\n  /** @type {AniUnit[]} */\n  aniUnits\n  /** @type {object[]} */\n  elGroup\n  /** @type {AniAtom[]} */\n  aniAtoms\n  /** @type {object} */\n  constraint\n  /** @type {object} */\n  alignCons\n\n  /** @type {number} */\n  computedPosition = 0\n  /** @type {number} */\n  computedDuration = 0\n\n  /**\n   * @param {(number|string)} id\n   * @param {NodeType} [type=NodeType.UNKNOWN]\n   */\n  constructor(id, type=NodeType.UNKNOWN) {\n    this.id = id\n    this.type = type\n    this.outEdges = []\n\n    this.aniUnits = []\n    this.elGroup = []\n    this.aniAtoms = []\n    this.constraint = {position: Position.WITH, stagger: 0, offset: 0, duration: null}\n  }\n\n  /**\n   * @param {?Relation} relation\n   * @returns {ConsEdge[]}\n   */\n   getOutEdges(relation=Relation.ANY) {\n    if (relation !== Relation.ANY) {\n      // check relation\n      if (!Object.values(Relation).includes(relation)) {\n        console.error('No such relation: ' + relation)\n      }\n      return this.outEdges.filter(e => e.relation === relation)\n    } else {\n      return [...this.outEdges]\n    }\n  }\n\n  /**\n   * @returns {null|ConsNode}\n   */\n  getParentNode() {\n    let edge = this.getOutEdges(Relation.PARENT)[0]\n    if (!edge) {\n      console.error('Get parent failed', this);\n      return null\n    }\n    return edge.dst\n  }\n\n  getChildNodes() {\n    return this.getOutEdges(Relation.CHILD).map(e => e.dst)\n  }\n\n  getLastSiblingNode() {\n    let edge = this.getOutEdges(Relation.LAST_SIBLING)[0]\n    return edge ? edge.dst : null\n  }\n\n  getNextSiblingNode() {\n    let edge = this.getOutEdges(Relation.NEXT_SIBLING)[0]\n    return edge ? edge.dst : null\n  }\n\n  /**\n   * Computes absolute position and saves it to computedPosition field.\n   * Called when expand this node\n   */\n  computeAbsPosition() {\n    let absPosition\n    if (this.alignCons) {\n      absPosition = this.alignCons.timestamp\n      if (this.type === NodeType.ATOM_NODE) {\n        this.constraint.offset = 0\n      }\n    } else if (this.type === NodeType.ROOT) {\n      return\n    // } else if (this.type === NodeType.ATOM_NODE) {\n    //   // let parent = this.getParentNode()\n    //   // // the delay will be considered when adding into timeline\n    //   // absPosition = parent.getAbsPosition()\n    //   let lastSibling = this.getLastSiblingNode()\n    //   if (lastSibling) {\n    //     absPosition = lastSibling.getAbsPosition()\n    //   } else {\n    //     // is first one\n    //     let parent = this.getParentNode()\n    //     absPosition = parent.getAbsPosition()\n    //   }\n    } else {\n      let offset = this.constraint.offset || 0\n      let lastSibling = this.getLastSiblingNode()\n      if (lastSibling) {\n        let stagger = this.constraint.stagger || 0\n        absPosition = lastSibling.getAbsPosition() + offset + stagger\n        if (this.constraint.position === Position.AFTER) {\n          absPosition += lastSibling.getDuration()\n        }\n      } else {\n        // is first one\n        let parent = this.getParentNode()\n        absPosition = parent.getAbsPosition() + offset\n      }\n    }\n    this.computedPosition = absPosition\n  }\n\n  /**\n   * Computes duration and saves it to computedDuration field.\n   * Called when finishing processing all the children and returning to this node.\n   */\n  computeDuration() {\n    let children = this.getChildNodes()\n    if (this.type === NodeType.ATOM_NODE) {\n      this.computedDuration = this.aniAtoms[0].effect.duration\n      // let parent = this.getParentNode()\n      // // the delay will be considered when adding into timeline\n      // this.computedPosition = parent.getAbsPosition()\n      return\n    }\n    if (children.length === 0) {\n      return\n    }\n\n    let timestamps = []\n    children.forEach(child => {\n      timestamps.push(child.getAbsPosition())\n      timestamps.push(child.getEndAbsPosition())\n    })\n    let [minTime, maxTime] = extent(timestamps)\n\n    this.computedPosition = minTime\n    this.computedDuration = maxTime - minTime\n  }\n\n  getAbsPosition() {\n    return this.computedPosition\n  }\n\n  getEndAbsPosition() {\n    return this.computedPosition + this.computedDuration\n  }\n\n  getDuration() {\n    return this.computedDuration\n  }\n\n  appendAniAtomTo(tl) {\n    if (this.type !== NodeType.ATOM_NODE) {\n      console.error('Append error')\n      return\n    }\n    let aniAtom = this.aniAtoms[0]\n    aniAtom.appendTo(tl, this.computedPosition)\n    let times = aniAtom.getAllottedTime()\n    this.computedPosition = times[0]\n    this.computedDuration = times[1] - times[0]\n  }\n}\n\nexport {\n  ConsNode, NodeType\n}\n","// eslint-disable-next-line\nimport { ConsNode } from \"./ConsNode\"\n// eslint-disable-next-line\nimport { Relation } from \"./Relation\"\n\nclass ConsEdge {\n  /** @type {string} */\n  id\n  /** @type {ConsNode} */\n  src\n  /** @type {ConsNode} */\n  dst\n  /** @type {Relation} One of the type in Relation except ANY */\n  relation\n\n  constraint\n\n  /**\n   * @param {ConsNode} src\n   * @param {ConsNode} dst\n   * @param {Relation} relation\n   */\n  constructor(src, dst, relation) {\n    this.id = ConsEdge.getId(src, dst)\n    this.src = src\n    this.dst = dst\n    this.relation = relation\n  }\n\n  /**\n   * @param {ConsNode} src\n   * @param {ConsNode} dst\n   */\n  static getId(src, dst) {\n    return `${src.id}-${dst.id}`\n  }\n}\n\nexport {\n  ConsEdge\n}\n","// eslint-disable-next-line\nimport { ConsEdge } from \"./ConsEdge\"\n// eslint-disable-next-line\nimport { ConsNode, NodeType } from \"./ConsNode\"\n// eslint-disable-next-line\nimport { Relation, reverseRelation } from \"./Relation\"\nimport {ArrayUtils} from \"@/utils/common/ArrayUtils\";\n\nclass ConsGraph {\n  /** @type {ConsNode[]} */\n  nodes\n  /** @type {Map<(number|string), ConsNode>} */\n  nodeMap\n  /** @type {ConsEdge[]} */\n  edges\n  /** @type {Map<string, ConsEdge>} */\n  edgeMap\n\n  /** @type {number} */\n  autoIncrId = 0\n\n  constructor() {\n    this.nodes = []\n    this.nodeMap = new Map()\n    this.edges = []\n    this.edgeMap = new Map()\n  }\n\n  /**\n   * Use auto-incr id strategy to create a node\n   * @param {NodeType} type\n   * @returns {ConsNode}\n   */\n  addNode(type) {\n    let newNode = new ConsNode(this.autoIncrId++, type)\n    this.nodes.push(newNode)\n    this.nodeMap.set(newNode.id, newNode)\n    return newNode\n  }\n\n  /**\n   * Add two edges having opposite direction, using node id\n   * @param {(number|string)} vId\n   * @param {Relation} relation Relation of v->w\n   * @param {(number|string)} wId\n   * @returns {ConsEdge[]} The edge v->w and w->v\n   */\n  addEdgeBothSidesById(vId, relation, wId) {\n    let v = this.nodeMap.get(vId)\n    let w = this.nodeMap.get(wId)\n    if (!v || !w) {\n      console.error('Add ConsEdge failed, ' + v\n        + ' or ' + wId + ' doesn\\'t exist');\n    }\n    return this.addEdgeBothSides(v, relation, w)\n  }\n\n  /**\n   * Add two edges having opposite direction\n   * @param {ConsNode} v\n   * @param {Relation} relation Relation of v -> w\n   * @param {ConsNode} w\n   * @returns {[ConsEdge, ConsEdge]} The edge v->w and w->v\n   */\n  addEdgeBothSides(v, relation, w) {\n    let e1 = new ConsEdge(v, w, relation)\n    let e2 = new ConsEdge(w, v, reverseRelation(relation))\n    let ret = [e1, e2]\n    ret.forEach(e => {\n      this.edges.push(e)\n      this.edgeMap.set(e.id, e)\n      e.src.outEdges.push(e)\n    })\n    return ret\n  }\n\n  /**\n   * @param {ConsNode} parent\n   * @param {ConsNode} child\n   * @param {number} [index]\n   */\n  addParentChildEdge(parent, child, index=-1) {\n    let e1 = new ConsEdge(parent, child, Relation.CHILD)\n    let e2 = new ConsEdge(child, parent, reverseRelation(Relation.CHILD))\n    this.edges.push(e1, e2)\n    this.edgeMap.set(e1.id, e1)\n    this.edgeMap.set(e2.id, e2)\n    if (index !== -1) {\n      parent.outEdges.splice(index, 0, e1)\n    } else {\n      parent.outEdges.push(e1)\n    }\n    child.outEdges.push(e2)\n  }\n\n  /**\n   * @param {ConsNode} subRoot\n   */\n  removeSubTree(subRoot) {\n    if (subRoot.type === NodeType.ROOT) {\n      return\n    }\n\n    // remove aniAtoms in parent node\n    let parent = subRoot.getParentNode()\n    subRoot.aniAtoms.forEach(ani => ArrayUtils.removeItem(parent.aniAtoms, ani))\n\n    this.removeEdgeBothSides(subRoot.getOutEdges(Relation.PARENT)[0])\n\n    let last = subRoot.getLastSiblingNode()\n    let next = subRoot.getNextSiblingNode()\n    if (last !== null) {\n      this.removeEdgeBothSides(subRoot.getOutEdges(Relation.LAST_SIBLING)[0])\n    }\n    if (next !== null) {\n      this.removeEdgeBothSides(subRoot.getOutEdges(Relation.NEXT_SIBLING)[0])\n    }\n    if (last !== null && next !== null) {\n      this.addEdgeBothSides(last, Relation.NEXT_SIBLING, next)\n    }\n  }\n\n  /**\n   * @param {ConsNode} subRoot\n   * @param {ConsNode} parent\n   * @param {number} index\n   */\n  mountSubTree(subRoot, parent, index) {\n    if (subRoot.type === NodeType.ROOT) {\n      return\n    }\n    let children = parent.getChildNodes()\n    index = Math.max(0, index)\n    index = Math.min(children.length, index)\n\n    this.addParentChildEdge(parent, subRoot, index)\n    if (children.length === 0) {\n      return\n    }\n    if (index === children.length) {\n      this.addEdgeBothSides(ArrayUtils.getLastItem(children), Relation.NEXT_SIBLING, subRoot)\n    } else if (index === 0) {\n      this.addEdgeBothSides(subRoot, Relation.NEXT_SIBLING, children[0])\n    } else {\n      let last = children[index - 1], next = children[index]\n      this.removeEdgeBothSides(last.getOutEdges(Relation.NEXT_SIBLING)[0])\n      this.addEdgeBothSides(last, Relation.NEXT_SIBLING, subRoot)\n      this.addEdgeBothSides(subRoot, Relation.NEXT_SIBLING, next)\n    }\n  }\n\n  /**\n   * @param {ConsEdge} edge\n   */\n  removeEdgeBothSides(edge) {\n    let edgeRev = this.edgeMap.get(ConsEdge.getId(edge.dst, edge.src))\n    ArrayUtils.removeItem(this.edges, edge)\n    ArrayUtils.removeItem(this.edges, edgeRev)\n    this.edgeMap.delete(edge.id)\n    this.edgeMap.delete(edgeRev.id)\n\n    ArrayUtils.removeItem(edge.src.outEdges, edge)\n    ArrayUtils.removeItem(edgeRev.src.outEdges, edgeRev)\n  }\n\n  /**\n   * @param {ConsEdge} edge\n   * @return {[ConsNode, ConsNode]}\n   */\n  getParentChildByEdge(edge) {\n    if (edge.relation === Relation.CHILD) {\n      return [edge.src, edge.dst]\n    } else if (edge.relation === Relation.PARENT){\n      return [edge.dst, edge.src]\n    } else {\n      return [null, null]\n    }\n  }\n\n  /**\n   * @param {ConsNode} parent\n   * @param {ConsNode[]} children\n   */\n  createParentChildRelation(parent, children) {\n    children.forEach(child => {\n      this.addParentChildEdge(parent, child)\n      parent.aniAtoms.push(...child.aniAtoms)\n    })\n    for (let i = 0; i < children.length - 1; ++i) {\n      let c1 = children[i], c2 = children[i + 1]\n      this.addEdgeBothSides(c1, Relation.NEXT_SIBLING, c2)\n    }\n  }\n\n  /**\n   * @param {(number|string)} nodeId\n   */\n  getNodeById(nodeId) {\n    return this.nodeMap.get(nodeId)\n  }\n\n  /**\n   * @param {ConsNode} node\n   * @param {string} word\n   * @param {number} timestamp\n   */\n  addAlignMark(node, word, timestamp) {\n    node.alignCons = {word, timestamp}\n  }\n}\n\nexport {\n  ConsGraph\n}\n","import {AniAtom} from \"../entities-core/AniAtom\"\n// eslint-disable-next-line\nimport {AniUnit} from \"../entities-core/AniUnit\"\n// eslint-disable-next-line\nimport {Animation} from \"../entities-core/Animation\"\nimport {ConsGraph} from \"./cons-graph/ConsGraph\"\n// eslint-disable-next-line\nimport {ConsNode, NodeType} from \"./cons-graph/ConsNode\"\nimport {deepCopy} from \"@/utils/common/copy\";\nimport {ArrayUtils} from \"@/utils/common/ArrayUtils\";\nimport * as d3 from \"d3\";\n\nclass GraphCreator {\n  // input\n\n  /** @type {Animation} */\n  animation\n  /** @type {d3.Selection} */\n  container\n\n  // output\n\n  /** @type {AniAtom[]} */\n  aniAtoms\n  /** @type {ConsNode} */\n  root\n  /** @type {ConsGraph} */\n  consGraph\n\n  /** @type {Map<(number|string), (number|string)>} */\n  atomId2nodeId\n\n  /** @type {number} */\n  globalAniAtomId = 0\n\n  /**\n   *\n   * @param {Animation} animation\n   * @param {d3.Selection} container\n   */\n  constructor(animation, container) {\n    this.animation = animation\n    this.container = container\n    this.aniAtoms = []\n    this.atomId2nodeId = new Map()\n    this.consGraph = new ConsGraph()\n    this.root = this.consGraph.addNode(NodeType.ROOT)\n  }\n\n  execute() {\n    let unitNodes = []\n    this.animation.aniUnits.forEach(au => {\n      let unitNode = this.createAniUnitNode(au)\n      unitNodes.push(unitNode)\n      this.root.elGroup.push(...unitNode.elGroup)\n      this.root.aniUnits.push(au)\n    })\n    this.consGraph.createParentChildRelation(this.root, unitNodes)\n    return this\n  }\n\n  /**\n   * @param {AniUnit} aniUnit\n   * @returns {ConsNode} The aniUnit node\n   */\n  createAniUnitNode(aniUnit) {\n    let sel = this.getElements(this.container, aniUnit.selector)\n    let elGroup = sel.nodes()\n    // console.log('Process', aniUnit);\n\n    let unitNode = this.consGraph.addNode(NodeType.UNIT_NODE)\n    unitNode.elGroup = elGroup\n    unitNode.aniUnits.push(aniUnit)\n    unitNode.constraint = aniUnit\n\n    let childNodes = this.createChildNodes(aniUnit, elGroup, aniUnit.grouping)\n    this.consGraph.createParentChildRelation(unitNode, childNodes)\n\n    return unitNode\n  }\n\n  getElements(container, selector) {\n    if (typeof selector === 'string') {\n      return container.selectAll(selector)\n    } else {\n      // beta version\n\n      let domObjs = container.selectAll(selector.selector).nodes()\n\n      if (selector.sort !== undefined) {\n        if (!(selector.sort instanceof Array)) {\n          selector.sort = [selector.sort]\n        }\n        selector.sort.reverse().forEach(s => {\n          if (s.attr) {\n            domObjs.sort((n1, n2) => n1.getAttribute(s.attr) - n2.getAttribute(s.attr))\n          } else if (s.data) {\n            domObjs.sort((n1, n2) => {\n              const index1 = s.order.indexOf(n1.__data__[s.data])\n              const index2 = s.order.indexOf(n2.__data__[s.data])\n              return index1 - index2\n            })\n          }\n          if (s.order === 'dec') domObjs.reverse()\n        })\n      }\n      let selection\n      if (selector.index !== undefined) {\n        selection = [domObjs[selector.index]]\n      } else if (selector.range !== undefined) {\n        selection = ArrayUtils.slice(domObjs, ...selector.range)\n      } else if (selector.ratioRange !== undefined) {\n        selector.ratioRange[0] *= domObjs.length\n        selector.ratioRange[1] *= domObjs.length\n        selection = ArrayUtils.slice(domObjs, ...selector.ratioRange)\n      } else {\n        selection = domObjs\n      }\n\n      return d3.selectAll(selection)\n    }\n  }\n\n  /**\n   * Create the child nodes of the ani-unit node or internal node\n   * @param {AniUnit} aniUnit\n   * @param {object[]} elGroup\n   * @param {!object} grouping\n   * @returns {ConsNode[]}\n   */\n   createChildNodes(aniUnit, elGroup, grouping) {\n    // console.log('Create children', elGroup, grouping)\n    if (elGroup.length === 0) {\n      console.log('No element was selected');\n      return []\n    }\n\n    let childNodes\n    let newGroups = this.createNewGroups(elGroup, grouping)\n\n    if (grouping.grouping) {\n      childNodes = newGroups.map(newGrp =>\n        this.createInternalNode(aniUnit, newGrp, grouping))\n    } else {\n      // last recursion. Here newGrp.length === 1\n      childNodes = newGroups.map(newGrp =>\n        this.createElNode(aniUnit, newGrp[0], grouping))\n    }\n\n    return childNodes\n  }\n\n  createNewGroups(elGroup, grouping) {\n    let mapFunc\n    if (grouping.groupByClass != null) {\n      mapFunc = el => {\n        let elClasses = el.getAttribute('class').split(' ')\n        let reqClasses = grouping.groupByClass.split(' ')\n        return reqClasses.every(req => elClasses.includes(req))\n      }\n    } else if (grouping.groupByIndex != null) {\n      mapFunc = el => {\n        let elClasses = el.getAttribute('class').split(' ')\n        return elClasses.find(clz => clz.match(/index-\\d*/) !== null)\n      }\n    } else if (grouping.groupByReg != null) {\n      mapFunc = el => {\n        let elClasses = el.getAttribute('class').split(' ')\n        return elClasses.find(clz => clz.match(grouping.groupByReg) !== null)\n      }\n    } else {\n      mapFunc = el => el[grouping.groupBy]\n    }\n\n    let groupMap = new Map()\n    elGroup.forEach(el => {\n      let key = mapFunc(el)\n      if (groupMap.has(key)) {\n        groupMap.get(key).push(el)\n      } else {\n        groupMap.set(key, [el])\n      }\n    })\n\n    return Array.from(groupMap.values())\n  }\n\n  /**\n   * Create a internal node and its children\n   * @param {AniUnit} aniUnit\n   * @param {object[]} elGroup\n   * @param {object} grouping\n   * @return {ConsNode} The internal node\n   */\n   createInternalNode(aniUnit, elGroup, grouping) {\n    let internalNode = this.consGraph.addNode(NodeType.INTERNAL_NODE)\n    internalNode.elGroup = elGroup\n    internalNode.aniUnits.push(aniUnit)\n    internalNode.constraint = deepCopy(grouping)\n\n    let childNodes = this.createChildNodes(aniUnit, elGroup, grouping.grouping)\n    this.consGraph.createParentChildRelation(internalNode, childNodes)\n\n    return internalNode\n  }\n\n  /**\n   * Create a element node and its ani-atom children\n   * @param {AniUnit} aniUnit\n   * @param {object} element\n   * @param {object} grouping\n   * @returns {ConsNode} The element node\n   */\n  createElNode(aniUnit, element, grouping) {\n    let elNode = this.consGraph.addNode(NodeType.EL_NODE)\n    elNode.elGroup.push(element)\n    elNode.aniUnits.push(aniUnit)\n    elNode.constraint = deepCopy(grouping)\n    let atomNodes = []\n\n    const context = {\n      target: element,\n      container: this.container\n    }\n\n    aniUnit.effects.forEach(effect => {\n      let id = this.globalAniAtomId++\n      let aniAtom = new AniAtom(id, context, effect, aniUnit.labels)\n      this.aniAtoms.push(aniAtom)\n\n      let atomNode = this.consGraph.addNode(NodeType.ATOM_NODE)\n      atomNode.elGroup.push(element)\n      atomNode.aniAtoms.push(aniAtom)\n      atomNode.constraint.offset = effect.offset\n      atomNode.constraint.duration = effect.duration\n      this.atomId2nodeId.set(aniAtom.aniAtomId, atomNode.id)\n\n      atomNodes.push(atomNode)\n    })\n\n    this.consGraph.createParentChildRelation(elNode, atomNodes)\n\n    return elNode\n  }\n\n  // /**\n  //  * @param {ConsNode} parent\n  //  * @param {ConstNode} children\n  //  */\n  // createSiblingRelation(parent, children) {\n  //   for (let i = 0; i < children.length - 1; ++i) {\n  //     let c1 = children[0], c2 = children[1]\n  //     parent.constraint\n  //   }\n  // }\n\n  getResult() {\n    return {\n      aniAtoms: this.aniAtoms,\n      atomId2nodeId: this.atomId2nodeId,\n      root: this.root,\n      consGraph: this.consGraph,\n    }\n  }\n}\n\nexport {\n  GraphCreator\n}\n","import { gsap } from \"gsap\";\nimport * as d3 from \"d3\";\n// eslint-disable-next-line\nimport { Context } from \"@/utils/entities/Context\"\n// eslint-disable-next-line\nimport { AniAtom } from \"../entities-core/AniAtom\";\n// eslint-disable-next-line\nimport { ConsGraph } from \"@/utils/generator/cons-graph/ConsGraph\";\nimport { GraphCreator } from \"./GraphCreator\";\n// eslint-disable-next-line\nimport { ConsNode, NodeType } from \"./cons-graph/ConsNode\";\nimport {Relation} from \"@/utils/generator/cons-graph/Relation\";\nimport { ArrayUtils } from \"../common/ArrayUtils\";\nimport {Position} from \"@/utils/const/Position\";\nimport {AniUnit} from \"@/utils/entities-core/AniUnit\";\n\nclass Generator {\n  /** @type {Context} */\n  context\n\n  /** @type {AniAtom[]} */\n  aniAtoms\n  /** @type {Map<(number|string), (number|string)>} */\n  atomId2nodeId\n  /** @type {ConsNode} */\n  root\n  /** @type {ConsGraph} */\n  consGraph\n\n  /**\n   * @typedef trvStatus\n   * @property {string} code\n   * @property {?ConsNode[]} stack\n   * @property {?ConsNode} curNode\n   * @property {?ConsNode} keyNode\n   */\n  /** @type {Map<(number|string), trvStatus>} */\n  trvStatusMap\n\n  constructor(context) {\n    this.context = context\n  }\n\n  /**\n   * Generate the animation and save result to the timeline object\n   */\n  execute() {\n    console.log('generator', this)\n    this.processRefinement()\n    this.createConsGraph()\n    this.processRefinementPart2()\n    this.processConstraints()\n    this.applyWordConstraint()\n    this.generateTimeline()\n  }\n\n  createConsGraph() {\n    let creator = new GraphCreator(this.context.animation, this.context.container)\n    creator.execute()\n    let result = creator.getResult()\n    this.aniAtoms = result.aniAtoms\n    this.atomId2nodeId = result.atomId2nodeId\n    this.root = result.root\n    this.consGraph = result.consGraph\n    console.log(result)\n  }\n\n  /**\n   * Get animation units by element and the animation label\n   * @param {string} selector\n   * @returns {AniAtom[]} - A list of related animation atoms\n   */\n  getRelatedAniAtoms(selector) {\n    let elements, aniLabels\n    if (typeof selector === 'string') {\n      let groups = selector.match(/(.*)::([^~]*)(~(.*))?/)\n      elements = this.getElements(groups[1])\n      aniLabels = groups[2].split(',')\n    } else {\n      elements = this.getElements(selector.element)\n      aniLabels = selector.animation.split(',')\n    }\n    elements = elements.nodes()\n\n    // let getParent = groups[4] === 'parent'\n    return this.aniAtoms.filter(ani => {\n      if (!elements.includes(ani.context.target)) return false\n      let labels = ani.labels.concat(ani.effect.effLabels)\n      return ArrayUtils.includes(labels, aniLabels)\n    })\n  }\n\n  /**\n   * @param {AniAtom[]} aniAtoms\n   * @returns {ConsNode[]}\n   */\n  peekAtomNodes(aniAtoms) {\n    return aniAtoms.map(ani => this.getConsNodeByAniAtomId(ani.aniAtomId))\n  }\n\n  /**\n   * @param {AniAtom[]} aniAtoms\n   * @returns {ConsNode[]}\n   */\n  peekMergedNodes(aniAtoms) {\n    let nodes = aniAtoms.map(ani => this.getConsNodeByAniAtomId(ani.aniAtomId))\n    let canMerge = true\n    while (canMerge) {\n      canMerge = false\n      if (nodes.length === 1 && nodes[0].type === NodeType.ROOT) break\n      for(let node of [...nodes]) {\n        let parent = node.getParentNode()\n        if (!parent) continue\n        let children = parent.getChildNodes()\n        if (ArrayUtils.includes(nodes, children)) {\n          children.forEach(child => ArrayUtils.removeItem(nodes, child))\n          nodes.push(parent)\n          canMerge = true\n          break\n        }\n      }\n    }\n    return nodes\n  }\n\n  /**\n   * @param {(number|string)} aniAtomId\n   * @returns {ConsNode}\n   */\n  getConsNodeByAniAtomId(aniAtomId) {\n    let nodeId = this.atomId2nodeId.get(aniAtomId)\n    return this.consGraph.getNodeById(nodeId)\n  }\n\n  getElements(selector) {\n    if (typeof selector === 'string') {\n      return this.context.container.selectAll(selector)\n    } else {\n      // beta version\n\n      let domObjs = this.context.container.selectAll(selector.selector).nodes()\n\n      if (selector.sort !== undefined) {\n        if (!(selector.sort instanceof Array)) {\n          selector.sort = [selector.sort]\n        }\n        selector.sort.forEach(s => {\n          if (s.attr) {\n            domObjs.sort((n1, n2) => n1.getAttribute(s.attr) - n2.getAttribute(s.attr))\n          } else if (s.data) {\n            domObjs.sort((n1, n2) => {\n              const index1 = s.order.indexOf(n1.__data__[s.data])\n              const index2 = s.order.indexOf(n2.__data__[s.data])\n              return index1 - index2\n            })\n          }\n          if (s.order === 'dec') domObjs.reverse()\n        })\n      }\n      let selection\n      if (selector.index !== undefined) {\n        selection = [domObjs[selector.index]]\n      } else if (selector.range !== undefined) {\n        selection = ArrayUtils.slice(domObjs, ...selector.range)\n      } else if (selector.ratioRange !== undefined) {\n        selector.ratioRange[0] *= domObjs.length\n        selector.ratioRange[1] *= domObjs.length\n        selection = ArrayUtils.slice(domObjs, ...selector.ratioRange)\n      } else {\n        selection = domObjs\n      }\n\n      return d3.selectAll(selection)\n    }\n  }\n\n  processRefinement() {\n    this.context.refinements.forEach(r => {\n      switch (r.type) {\n        case \"add\": {\n          let aniUnitObj = {...r}\n          delete aniUnitObj.type\n          this.context.animation.addAniUnit(AniUnit.from(aniUnitObj))\n          console.log('refinement %o, %o', aniUnitObj, this.context.animation)\n        } break\n      }\n    })\n  }\n\n  processRefinementPart2() {\n    this.context.refinements.forEach(r => {\n      switch (r.type) {\n        case \"remove\": {\n          let aniList = this.getRelatedAniAtoms(r.selector)\n          let nodes = this.peekMergedNodes(aniList)\n          nodes.forEach(node => this.consGraph.removeSubTree(node))\n        } break\n        case \"set\": {\n          if (r.target === \"animation\") {\n            let aniList = this.getRelatedAniAtoms(r.selector)\n            let nodes = this.peekMergedNodes(aniList)\n            nodes.forEach(node => {\n              if (r.stagger != null) node.constraint.stagger = r.stagger\n              if (r.position != null) node.constraint.position = r.position\n            })\n            if (r.atomPosition != null) {\n              // peek atom node, but if parent only has one child, move up\n              this.peekAtomNodes(aniList)\n                  .forEach(node => {\n                    let parent\n                    while (node.type !== NodeType.ROOT\n                        && (parent = node.getParentNode())\n                        && parent.getChildNodes().length === 1) {\n                      node = parent\n                    }\n                    node.constraint.position = r.atomPosition\n                  })\n            }\n          } else if (r.target === \"element\") {\n            let elements = this.getElements(r.selector)\n            if (r.attrSetter != null) {\n              elements.call(sel => {\n                Object.keys(r.attrSetter).forEach(k => {\n                  sel.attr(k, r.attrSetter[k])\n                })\n              })\n            }\n            if (r.styleSetter != null) {\n              elements.call(sel => {\n                Object.keys(r.styleSetter).forEach(k => {\n                  sel.style(k, r.styleSetter[k])\n                })\n              })\n            }\n          }\n        } break\n      }\n    })\n  }\n\n  /**\n   * Process structured specifications stored in the context\n   * to create the constraint graph\n   */\n  processConstraints() {\n    this.context.constraints.forEach(cons => {\n      // suppose has and only has one\n      let aniList1 = this.getRelatedAniAtoms(cons.selector1),\n          aniList2 = this.getRelatedAniAtoms(cons.selector2)\n      if (aniList1.length === 0 || aniList2.length === 0) {\n        console.error('Constraint is invalid', aniList1, aniList2)\n        return\n      }\n      let nodes1 = this.peekMergedNodes(aniList1),\n          nodes2 = this.peekMergedNodes(aniList2)\n\n      let refNode, movedNode\n\n      if (cons.relation === 'start before') {\n        refNode = this.findNodeInPostOrder(nodes2, 0)\n\n        nodes1.forEach(node => this.consGraph.removeSubTree(node))\n        if (nodes1.length === 1) {\n          movedNode = nodes1[0]\n        } else {\n          movedNode = this.consGraph.addNode(NodeType.ADDED_NODE)\n          this.consGraph.createParentChildRelation(movedNode, nodes1)\n        }\n\n        let parent = refNode.getParentNode()\n        let index = parent.getChildNodes().indexOf(refNode)\n        this.consGraph.mountSubTree(movedNode, parent, index)\n\n        refNode.constraint.position = Position.AFTER\n        refNode.constraint.offset = cons.offset || 0\n\n      } else if (cons.relation === 'start after') {\n        refNode = this.findNodeInPostOrder(nodes2, nodes2.length - 1)\n\n        nodes1.forEach(node => this.consGraph.removeSubTree(node))\n        if (nodes1.length === 1) {\n          movedNode = nodes1[0]\n        } else {\n          movedNode = this.consGraph.addNode(NodeType.ADDED_NODE)\n          this.consGraph.createParentChildRelation(movedNode, nodes1)\n        }\n\n        let parent = refNode.getParentNode()\n        let index = parent.getChildNodes().indexOf(refNode)\n        this.consGraph.mountSubTree(movedNode, parent, index + 1)\n\n        movedNode.constraint.position = Position.AFTER\n        movedNode.constraint.offset = cons.offset || 0\n\n      } else if (cons.relation === 'start with') {\n        refNode = this.findNodeInPostOrder(nodes2, nodes2.length - 1)\n\n        nodes1.forEach(node => this.consGraph.removeSubTree(node))\n        if (nodes1.length === 1) {\n          movedNode = nodes1[0]\n        } else {\n          movedNode = this.consGraph.addNode(NodeType.ADDED_NODE)\n          this.consGraph.createParentChildRelation(movedNode, nodes1)\n        }\n\n        let parent = refNode.getParentNode()\n        let index = parent.getChildNodes().indexOf(refNode)\n        this.consGraph.mountSubTree(movedNode, parent, index + 1)\n\n        movedNode.constraint.position = Position.WITH\n        movedNode.constraint.offset = cons.offset || 0\n      }\n    })\n  }\n\n  /**\n   * Find the node with the given index in nodes, when traversal the cons-graph\n   * @param {ConsNode[]} nodes\n   * @param {number} index\n   * @returns {ConsNode}\n   */\n  findNodeInPostOrder(nodes, index) {\n    let result = null\n    let nodeSet = new Set()\n    nodes.forEach(node => nodeSet.add(node.id))\n\n    /** @type {function(ConsNode): boolean} */\n    let findRecursively = function findRecursively(node) {\n      if (nodeSet.has(node.id) && (index--) <= 0) {\n        result = node\n        return true\n      }\n      let children = node.getChildNodes()\n      for (let child of children) {\n        if (findRecursively(child)) {\n          return true\n        }\n      }\n      return false\n    }\n    findRecursively(this.root)\n\n    return result\n  }\n\n  /**\n   * Add word constraints to the constraint graph\n   */\n  applyWordConstraint() {\n    this.context.alignConstraints.forEach(aCons => {\n      if (!aCons.selector || aCons.selector === '') {\n        return\n      }\n      let relatedAnis = this.getRelatedAniAtoms(aCons.selector)\n      relatedAnis.forEach(ani => {\n        let nodeId = this.atomId2nodeId.get(ani.aniAtomId)\n        let node = this.consGraph.getNodeById(nodeId)\n        // if (getParent) {\n        //   node = node.getParentNode()\n        //   console.log('getParent', node);\n        // }\n        this.consGraph.addAlignMark(node, aCons.word, aCons.timestamp)\n      })\n      console.log('alignment', aCons, relatedAnis);\n    })\n  }\n\n  /**\n   * Create or refresh the timeline in the context\n   */\n  generateTimeline() {\n\n    // console.log('constraint dag', this.consGraph)\n\n    let tl = this.context.timeline\n    if (tl != null) {\n      this.clearTimeline(tl)\n    }\n    tl = gsap.timeline({ repeat: 0, onUpdate: this.context.onUpdateFunc })\n    this.context.timeline = tl\n    tl.pause()\n\n    this.traversal(tl)\n    // this.aniAtoms.forEach(ani => {\n    //   let consNodeId = this.atomId2nodeId.get(ani.aniAtomId)\n    //   let node = this.consGraph.getNodeById(consNodeId)\n    //   ani.appendTo(tl, node.computedPosition)\n    // })\n\n    tl.progress(this.getEnterFinishedProgress(tl))\n  }\n\n  traversal(tl) {\n    let stack = [this.root]\n    // this.trvStatusMap = new Map()\n    // let path = [this.root]\n    let curNode, keyNode = null\n    // let trvStatus\n\n    while (stack.length !== 0) {\n      curNode = stack[stack.length - 1]\n      let children = curNode.getChildNodes()\n      if (curNode.type === NodeType.ATOM_NODE\n          || (children.length !== 0 && keyNode !== children[children.length - 1])) {\n        // expand current node\n        curNode.computeAbsPosition()\n\n        // if ((trvStatus = this.trvStatusMap.get(curNode.id)) !== undefined && trvStatus.code === 'ok') {\n        //   continue\n        // }\n        //\n        // if (!this.allConstraintsClear(curNode)) {\n        //   if (!this.trvStatusMap.has(curNode.id)) {\n        //     let status = {code: 'notOk', stack: [...stack], curNode, keyNode}\n        //     this.trvStatusMap.set(curNode.id, status)\n        //   }\n        //   continue\n        // }\n\n        children.reverse()\n        stack.push(...children)\n        // path.push(curNode)\n      }\n      if (curNode.type === NodeType.ATOM_NODE\n          || !(children.length !== 0 && keyNode !== children[children.length - 1])) {\n        // if (children === 0) {\n        //   path.push(curNode)\n        // }\n        if (curNode.type === NodeType.ATOM_NODE) {\n          curNode.appendAniAtomTo(tl)\n        } else {\n          curNode.computeAbsPosition()    // get here as children = []\n        }\n        curNode.computeDuration()\n\n        // this.trvStatusMap.set(curNode.id, {code: \"ok\"})\n        //\n        //\n\n        keyNode = curNode\n        stack.pop()\n        // path.pop()\n      }\n    }\n  }\n\n  /**\n   * @param {ConsNode} consNode\n   * @returns {boolean} Is this node blocked by any unsolved constraint\n   */\n  allConstraintsClear(consNode) {\n    let consRevEdges = consNode.getOutEdges(Relation.CONSTRAINT_REV)\n    return consRevEdges.every(e => {\n      let status = this.trvStatusMap.get(e.dst.id)\n      return status !== undefined && status.code === 'ok'\n    })\n  }\n\n  /**\n   * Clear the timeline and reset all attribute.\n   * If timeline is not cleared, the attribute of object will be affected\n   * @param {gsap.core.Timeline} tl Timeline to clear\n   */\n  clearTimeline(tl) {\n    tl.kill()\n    tl.progress(this.getEnterFinishedProgress(tl))\n    tl.clear()\n  }\n\n  /**\n   * Get the progress that all elements have entered\n   * @param tl Timeline\n   * @returns {number}\n   */\n  getEnterFinishedProgress(tl) {\n    if (tl.duration() === 0) {\n      return 0\n    }\n    let enterAniAtoms = this.getRelatedAniAtoms('.sdfasfd::enter') // []\n    let allEnterTime = d3.max(enterAniAtoms, ani => ani.getAllottedTime()[1])\n    return allEnterTime ? allEnterTime / tl.duration() : 0\n  }\n\n  // /**\n  //  * Add an animation to the timeline\n  //  * @param au The animation unit\n  //  * @param tl The animation timeline\n  //  */\n  // addAnimation(au, tl) {\n  //   let target = document.getElementById(au.target.id)\n  //\n  //   // compute duration\n  //   au.duration ||= au.effect.defaultDuration\n  //\n  //   // compute position\n  //   let cons = this.getAnimationConstraints(au)\n  //   console.log('constraint for ', au, cons)\n  //   let position = null\n  //   if (cons.align !== null) {\n  //     position = cons.align\n  //   } else if (cons.with !== null) {\n  //     position = cons.with\n  //   } else if (cons.after !== null) {\n  //     position = cons.after\n  //   } else if (cons.before !== null) {\n  //     position = cons.before\n  //   }\n  //   au.position = position || au.position || '+=0'\n  //\n  //   let tw\n  //   if (au.effect.type === 'fromTo') {\n  //     let from = au.effect.vars[0]\n  //     let to = { ...au.effect.vars[1], duration: au.duration }\n  //     tw = gsap.fromTo(target, from, to)\n  //   } else {\n  //     let auVars = { ...au.effect.vars, duration: au.duration }\n  //     tw = gsap[au.effect.type](target, auVars)\n  //   }\n  //   tl.add(tw, au.position)\n  //   au.times[0] = tw.startTime()\n  //   au.times[1] = tw.endTime()\n  // }\n  //\n  // /**\n  //  * Get the time constraint of the animation unit. <br/>\n  //  * Notice that the duration of corresponding animation unit\n  //  * should have been computed.\n  //  * @param {AnimationUnit} au The animation unit\n  //  * @returns The object represent the time constraint of the animation unit\n  //  */\n  // getAnimationConstraints(au) {\n  //   let curAniUnit = this.aniUnitMap.get(au.aniUnitId)\n  //   let constraints = this.consGraph.getConstraints(au.aniUnitId)\n  //   let after = null, wth = null, before = null\n  //   let align = constraints.align ? constraints.align.timestamp : null\n  //\n  //   if (constraints.afterCons.length !== 0) {\n  //     after = d3.max(constraints.afterCons,\n  //       cons => this.aniUnitMap.get(cons.src.aniUnitId).times[1] + cons.offset)\n  //   }\n  //   if (constraints.withCons.length !== 0) {\n  //     wth = d3.min(constraints.withCons,\n  //       cons => this.aniUnitMap.get(cons.src.aniUnitId).times[0] + cons.offset)\n  //   }\n  //   if (constraints.beforeCons.length !== 0) {\n  //     before = d3.min(constraints.beforeCons,\n  //       cons => this.aniUnitMap.get(cons.src.aniUnitId).times[0] + cons.offset)\n  //     before -= curAniUnit.duration\n  //   }\n  //\n  //   return { align, after, with: wth, before }\n  // }\n}\n\nexport {\n  Generator,\n}\n","import axios from \"axios\";\n\nexport function queryTTSAudioGoogle(url, params, callback, errorCallBack){\n  // let url = \"https://cxl-services.appspot.com/proxy?url=https://texttospeech.googleapis.com/v1beta1/text:synthesize&token=03AGdBq26aOV7GrMgcoLghcN8WVVZ35IhiGLUkgvKEVU23KtZBBb3t9V0k4g6JbK73u8QocmlF2_NY2eNIZyhfbq-HWXB-76zhz4LI5VXga8Aju70G6NE2i8fisAU4JJN9Y2zhiXAvXTFJpQTRxL_-AQFEphVs502igsYs27XHAYNLXL-lBAfQ7xp3Wef8NayYSwLll5_-8ELjMwsOjWBOuc-LilkmSZbsYDPBCIkRVVxkB_T2ZfDZaPCJtMXo14Og8P3ion9ez-UtdvM96IKV3mS-nB9mop9jDsl1kyh5EWLn2WkqvMhGfmYwuOLWWInprzFa_QeTBNLUooT4ICOyrlDIlFYkl-3KyaWjHOFYCJ6vCCYQQRjiIyp_EkfR-MVeya1S7B2oJTOC8AP3ujzW9_jvYWHHOGvGbhwMJ7HEzkJvCaw5cay65NemZpKVT9rsuvDrxL94lrOqx1DzyExzFH9UEw9W-qSzNwBmzINVWkrcKbxLs2STvfrgujXGbcyFBAP7ofGFyJUcG_etOyRaI7JJT3ZCvWRWlg\"\n  axios.post(url, params)\n  .then(rep => {\n    callback(rep)\n  }).catch(error => {\n    errorCallBack(error)\n  })\n}\n\nexport function queryTTSAudioBaidu(params, callback, errorCallBack){\n  // let url = 'http://tts.baidu.com/text2audio?lan=en&ie=UTF-8&spd=2&text=\"' + text + '\"'\n  let url = 'http://tts.baidu.com/text2audio'\n  axios.get(url, {params: params})\n    .then(rep => {\n      callback(rep)\n    }).catch(error => {\n    errorCallBack(error)\n  })\n}\n\nexport function queryStaticAudio(fileName, callback, errorCallBack){\n  let url = '../../data/audio/' + fileName\n  axios.get(url)\n      .then(rep => {\n        callback(rep)\n      }).catch(error => {\n    errorCallBack(error)\n  })\n}\n","/* eslint-disable */\n\nimport {Parser} from \"@/utils/generator/Parser\"\nimport {Generator} from \"@/utils/generator/Generator\"\nimport {Context} from \"@/utils/entities/Context\"\nimport {queryStaticAudio, queryTTSAudioBaidu, queryTTSAudioGoogle} from \"@/service/ttsService\";\n\n// initial state\nconst state = () => ({\n  svgFileName: 'characteristics-of-mushrooms.svg',\n\n  context: null,\n  tlUpdateSign: false,\n  templateUsageText: '[]',\n  animationText: '[]',\n  refinementsText: '[]',\n  constraintsText: '[]',\n  alignConstraintsText: '[]',\n  \n  refinementEnable: false,\n  constraintEnable: false,\n  alignConsEnable: false,\n\n  audioEl: null,\n  audioSrc: '',\n  audioReady: false,\n  useAudio: true,\n  setAudioReadyFunc: null,\n\n  renderingSign: false,\n  url: 'https://cxl-services.appspot.com/proxy?url=https://texttospeech.googleapis.com/v1beta1/text:synthesize&token=03AGdBq27DaxcABwq_0pTZClIUmToiLE2mvyLHZ1g2Eq2fJdP4ISGp3ukTZA9XC5CX6laO4lmFunh9B-TgqFkg7jFe6C1N0l980uRYmFIgmj2kQ1MJxajd_a5KQa7QsrMmPUUgTW-9eJLxS861gPa0BlfBsvCJ_Un1YNy3_pDrTiQsqdEliT00UHUGYsMOZBz2qX4W-wSvFLFPLaXgz3y-LrXenKx7YHmRhDbzswTqcwepdlrtmXtW8Wnkx6CmYJn0ZDWbtEYeZMTGqQDLgME42uLeyE5UyoeQ0sVS9lgGQqBZNqi6uXxsaI7cBptLrkVJJYwTrqS5i_pwdBni-FM4yKVbPkjqeovxkQtgjg-YwIsrRYBP2EhZoxKI_mFa6B-uPlAWH2Xlb-XQk2s_efZ5dCp_HB0Y6F8-9-l4a71PvPq8HtdACWkpPne_Dsmn-5-8_NhreFJNwr8eHChc8WbnOA5nI5wX7jds6IzElduQo5ct3UeeLoFOpVaRdjBY20aQ2o9MQueQ6qn8',\n})\n\n// getters\nconst getters = {\n}\n\n// actions\nconst actions = {\n  queryTTSAudioGoogle(context, {el}) {\n    context.commit('changeAudioReady', false)\n    let input = {}\n    if (context.state.context.ssml) {\n      input.ssml = context.state.context.ssml\n    } else {\n      input.text = context.state.context.text\n    }\n    const params = {\n      \"audioConfig\": {\n        \"audioEncoding\": \"LINEAR16\",\n        \"pitch\": 0,\n        \"speakingRate\": 0.8\n      },\n      \"input\": input,\n      \"voice\": {\n        \"languageCode\": \"en-US\",\n        \"name\": \"en-US-Wavenet-D\"\n      }\n    }\n    queryTTSAudioGoogle(context.state.url, params, resp => {\n      console.log('audio rep', resp)\n      const audioSrc = \"data:audio/wav;base64,\" + resp.data.audioContent\n      context.commit('setAudioSrc', audioSrc)\n      const blob = new Blob([audioSrc], {type: \"text/plain;charset=utf-8\"})\n      console.log(context.state.context)\n      el.$saveAs(blob, (context.state.context.ctxName || 'tts') + '.txt')\n      el.$message({\n        message: \"Generate audio successfully\",\n        type: 'success',\n      })\n    }, error => {\n      console.error(error)\n      el.$message({\n        message: \"Fail to generate audio\",\n        type: 'fail',\n      })\n    })\n  },\n\n  queryTTSAudioBaidu(context, {el, text}) {\n    context.commit('changeAudioReady', false)\n    const params = {\n      lan: 'en',\n      ie: 'UTF-8',\n      spd: 1,\n      text: text\n    }\n    queryTTSAudioBaidu(params, resp => {\n      console.log('audio rep', resp)\n      const audioSrc = \"data:audio/mp3;base64,\" + resp.data\n      context.commit('setAudioSrc', audioSrc)\n      el.$message({\n        message: \"Generate audio successfully\",\n        type: 'success',\n      })\n    }, error => {\n      console.error(error)\n      el.$message({\n        message: \"Fail to generate audio\",\n        type: 'fail',\n      })\n    })\n    // const audioSrc = \"http://tts.baidu.com/text2audio?lan=en&ie=UTF-8&spd=1&text\" + encodeURI(text)\n    // context.commit('setAudioSrc', audioSrc)\n  },\n\n  queryStaticAudio({state, commit}, el) {\n    commit('changeAudioReady', false)\n    if (!state.context) {\n      el.$notify({title: \"Fail to get static audio.\", message: \"Context are not loaded\", type: 'warning'})\n      return\n    }\n    queryStaticAudio(state.context.ctxName + '.txt', resp => {\n      // console.log(resp)\n      commit('setAudioSrc', resp.data)\n    }, errorResp => {\n      el.$notify({title: \"Fail to get static audio.\", message: errorResp.message, type: 'error'})\n      console.log(errorResp)\n    })\n  },\n\n  initContext({commit, dispatch}, {/** @type Context */context, el}) {\n    commit('changeContext', context)\n    dispatch('queryStaticAudio', el)\n    // dispatch('queryTTSAudioGoogle', {el, text: context.text})\n    // dispatch('queryTTSAudioBaidu', {el, text: context.text})\n  },\n}\n\n// mutations\nconst mutations = {\n  compile(state, onUpdateFunc) {\n    state.context.onUpdateFunc = onUpdateFunc   // ugly but anyway it works\n\n    if (state.audioEl) {\n      state.context.audioDuration = state.audioEl.duration\n    }\n    let prs = new Parser(state.context, {\n      templateUsageText: state.templateUsageText,\n      animationText: state.animationText,\n      refinementsText: state.refinementEnable ? state.refinementsText : '[]',\n      constraintsText: state.constraintEnable ? state.constraintsText : '[]',\n      alignConstraintsText: state.alignConsEnable ? state.alignConstraintsText : '[]',\n    })\n    try {\n      prs.execute()\n    } catch (exception) {\n      alert(exception)\n      console.error(exception)\n      return\n    }\n\n    let gen = new Generator(state.context)\n    try {\n      gen.execute()\n    } catch (exception) {\n      alert(exception)\n      console.error(exception)\n      return\n    }\n\n    state.tlUpdateSign ^= true\n  },\n\n  addTemplate(state, aniTemplate) {\n    state.context.templateUsage.push({use: aniTemplate.id})\n    state.context.addTemplate(aniTemplate)\n    const aniJsonObj = state.context.getAnimationJsonObj()\n    console.log('aniJsonObj', aniJsonObj)\n    state.animationText = JSON.stringify(aniJsonObj, null, 2)\n    state.templateUsageText = JSON.stringify(state.context.templateUsage, null, 2)\n  },\n\n  emptyAnimation(state) {\n    state.context.templateUsage = []\n    state.context.emptyAnimation()\n    let aniJsonObj = state.context.getAnimationJsonObj()\n    state.animationText = JSON.stringify(aniJsonObj, null, 2)\n    state.templateUsageText = JSON.stringify(state.context.templateUsage, null, 2)\n  },\n\n  changeContext(state, /** @type {Context} */context) {\n    state.context = context\n    console.log('vuex ', context)\n    let aniJsonObj = context.getAnimationJsonObj()\n    state.templateUsageText = JSON.stringify(context.templateUsage, null, 2)\n    state.animationText = JSON.stringify(aniJsonObj, null, 2)\n    state.refinementsText = JSON.stringify(context.refinements, null, 2)\n    state.constraintsText = JSON.stringify(context.constraints, null, 2)\n    state.alignConstraintsText = JSON.stringify(context.alignConstraints, null, 2)\n  },\n\n  changeTemplateText(state, templateUsageText) {\n    state.templateUsageText = templateUsageText\n  },\n\n  changeAnimationText(state, animationText) {\n    state.animationText = animationText\n    // console.log(\"animationText\",animationText)\n  },\n\n  changeRefinementsText(state, refinementsText) {\n    state.refinementsText = refinementsText\n  },\n\n  changeConstraintsText(state, constraintsText) {\n    state.constraintsText = constraintsText\n  },\n\n  changeAlignConstraintsText(state, alignConstraintsText) {\n    state.alignConstraintsText = alignConstraintsText\n  },\n\n  changeRefinementEnable(state, refinementEnable) {\n    state.refinementEnable = refinementEnable\n  },\n\n  changeConstraintEnable(state, constraintEnable) {\n    state.constraintEnable = constraintEnable\n  },\n\n  changeAlignConsEnable(state, alignConsEnable) {\n    state.alignConsEnable = alignConsEnable\n  },\n\n  enableAllSettings(state) {\n    state.refinementEnable = true\n    state.constraintEnable = true\n    state.alignConsEnable = true\n  },\n\n  changeUseAudio(state, useAudio) {\n    state.useAudio = useAudio\n  },\n\n  changeRenderingSign(state) {\n    state.renderingSign ^= true\n  },\n\n  registerAudioEl(state, audioEl) {\n    state.audioEl = audioEl\n  },\n\n  setAudioSrc(state, audioSrc) {\n    // may have bug here\n    state.audioSrc = audioSrc\n    console.log('load audio src')\n    if (state.setAudioReadyFunc) {\n      state.audioEl.removeEventListener(\"canplaythrough\", state.setAudioReadyFunc, false)\n    } else {\n      state.setAudioReadyFunc = function() {\n        state.audioReady = true\n      }\n    }\n    state.audioReady = true\n    state.audioEl.addEventListener(\"canplaythrough\", state.setAudioReadyFunc, false);\n  },\n\n  changeAudioReady(state, isReady) {\n    state.audioReady = isReady\n  },\n}\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","export class ChartShotAnimation {\n  /** @type {ChartData[]} */\n  charts = []\n  /** @type {(string | Object)[]} */\n  imports = []\n  /** @type {TargetDefinition[]} */\n  targetDefs = []\n  /** @type {BaseTemplate[]} */\n  templates = []\n  /** @type {BaseAnimation} */\n  animation\n}","import {FilterTransform} from \"@/core/entities/spec/transform/FilterTransform\";\nimport {SortTransform} from \"@/core/entities/spec/transform/SortTransform\";\n\nexport class TransformParser {\n  static reviver(key, value) {\n    return key === \"\" ? TransformParser.fromJSON(value) : value;\n  }\n\n  /**\n   * @param {Object} json\n   * @returns {BaseTransform}\n   */\n  static fromJSON(json) {\n    if (json == null || typeof json !== \"object\") {\n      return null;\n    }\n    switch (json.type) {\n      case 'filter':\n        return Object.assign(new FilterTransform(), json);\n      case 'sort':\n        return Object.assign(new SortTransform(), json);\n      default:\n        console.warn('Unsupported transform type ' + json.type);\n        return null;\n    }\n  }\n\n  /**\n   * @param {Object | Object[]} json\n   */\n  static fromObjectOrArray(json) {\n    if (json == null || typeof json !== \"object\") {\n      return [];\n    }\n    if (!Array.isArray(json)) {\n      json = [json];\n    }\n    const resultArray = json.map(item => TransformParser.fromJSON(item));\n    resultArray.filter(item => item != null);\n    return resultArray;\n  }\n}","import {NormalTarget, Target} from \"@/core/entities/spec/Target\";\nimport {TransformParser} from \"@/core/parser/TransformParser\";\n\nexport class TargetParser {\n  static reviver(key, value) {\n    return key === \"\" ? TargetParser.fromJSON(value) : value;\n  }\n\n  /**\n   * @param {Object} json\n   * @returns {Target}\n   */\n  static fromJSON(json) {\n    if (json == null || json === '') {\n      return Target.getDefaultTarget();\n    }\n    if (typeof json === 'string') {\n      return new NormalTarget(json);\n    }\n    if (typeof json !== 'object') {\n      return Target.getDefaultTarget();\n    }\n    if ('selector' in json ||\n        ('transform' in json && Object.keys(json).length === 1)) {\n      // NormalTarget\n      const transform = TransformParser.fromObjectOrArray(json.transform);\n      return Object.assign(Target.getDefaultTarget(), json, {transform});\n    } else {\n      // AnonymousTarget\n      throw 'Target type is not supported';\n    }\n  }\n}","import {BaseAnimation} from \"@/core/entities/spec/BaseAnimation\";\nimport gsap from 'gsap';\n\nexport class SyncAnimation extends BaseAnimation {\n  /** @type {{sync: BaseAnimation[]}} */\n  sequence\n\n  /**\n   * @param {BaseAnimation[]} sync\n   */\n  constructor(sync=[]) {\n    super();\n    this.type = 'sync';\n    this.sequence = {sync}\n  }\n\n  /**\n   * @param {BaseAnimation} animation\n   * @returns {SyncAnimation}\n   */\n  append(animation) {\n    this.sequence.sync.push(animation);\n    return this;\n  }\n\n  computeDuration(context) {\n    const {yoyo} = this.timing.getComputedTiming();\n    if (this.timing?.duration) {\n      return this.timing.duration;\n    }\n    let duration = 0;\n    this.sequence.sync.forEach(ani => {\n      const subDuration = ani.computeDuration(context.deriveBy(this.target));\n      duration = Math.max(duration, subDuration + (ani.timing.start ?? 0) + (ani.timing.offset ?? 0));\n    });\n    if (yoyo) {\n      return duration * (yoyo.repeat + 1) + yoyo.delay * yoyo.repeat;\n    }\n    return duration;\n  }\n\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {Set<HTMLElement>}\n   */\n  computePossibleElements(context) {\n    const set = new Set();\n    this.sequence.sync.forEach(ani => {\n      const subSet = ani.computePossibleElements(context.deriveByWithoutTransform(this.target));\n      subSet.forEach(el => set.add(el));\n    });\n    return set;\n  }\n\n  /**\n   * @param {import('../../context/Context').RenderContext} context\n   * @returns {gsap.core.Timeline}\n   */\n  create(context) {\n    const tl = gsap.timeline();\n    this.sequence.sync.forEach(ani => {\n      const subTl = ani.create(context.deriveBy(this.target));\n      if (subTl === null) {\n        return;\n      }\n      // if (ani.timing.duration) {\n      //   subTl.duration(ani.timing.duration);\n      // }\n      // console.log('add ani: sync', ani, ani.timing.startPlusOffset());\n      tl.add(subTl, ani.timing.startPlusOffset());\n    });\n\n    const {yoyo} = this.timing.getComputedTiming();\n    if (this.timing?.duration) {\n      tl.duration(this.timing.duration);\n    }\n    if (yoyo) {\n      tl.yoyo(true);\n      tl.repeat(yoyo.repeat);\n      tl.repeatDelay(yoyo.delay);\n    }\n    return tl;\n  }\n}\n","import {BaseAnimation} from \"@/core/entities/spec/BaseAnimation\";\nimport gsap from 'gsap';\n\nexport class ConcatAnimation extends BaseAnimation {\n  /** @type {{concat: BaseAnimation[]}} */\n  sequence\n\n  /**\n   * @param {BaseAnimation[]} concat\n   */\n  constructor(concat=[]) {\n    super();\n    this.type = 'concat';\n    this.sequence = {concat}\n  }\n\n  /**\n   * @param {BaseAnimation} animation\n   * @returns {ConcatAnimation}\n   */\n  append(animation) {\n    this.sequence.concat.push(animation);\n    return this;\n  }\n\n  computeDuration(context) {\n    const {yoyo} = this.timing.getComputedTiming();\n    if (this.timing?.duration) {\n      return this.timing.duration;\n    }\n    let duration = 0;\n    this.sequence.concat.forEach(ani => {\n      const subDuration = ani.computeDuration(context.deriveBy(this.target));\n      duration = Math.max(duration, duration + subDuration + (ani.timing.offset ?? 0));\n    });\n    if (yoyo) {\n      return duration * (yoyo.repeat + 1) + yoyo.delay * yoyo.repeat;\n    }\n    return duration;\n  }\n\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {Set<HTMLElement>}\n   */\n  computePossibleElements(context) {\n    const set = new Set();\n    this.sequence.concat.forEach(ani => {\n      const subSet = ani.computePossibleElements(context.deriveByWithoutTransform(this.target));\n      subSet.forEach(el => set.add(el));\n    });\n    return set;\n  }\n\n  /**\n   * @param {import('../../context/Context').RenderContext} context\n   * @returns {gsap.core.Timeline}\n   */\n  // eslint-disable-next-line no-unused-vars\n  create(context) {\n    const tl = gsap.timeline();\n    this.sequence.concat.forEach(ani => {\n      const subTl = ani.create(context.deriveBy(this.target));\n      if (subTl === null) {\n        return;\n      }\n      // if (ani.timing.duration) {\n      //   subTl.duration(ani.timing.duration);\n      // }\n      // console.log('add ani: concat', ani, '>' + (ani.timing.offset ?? 0));\n      tl.add(subTl, '>' + (ani.timing.offset ?? 0));\n    });\n\n    const {yoyo} = this.timing.getComputedTiming();\n    if (this.timing?.duration) {\n      tl.duration(this.timing.duration);\n    }\n    if (yoyo) {\n      tl.yoyo(true);\n      tl.repeat(yoyo.repeat);\n      tl.repeatDelay(yoyo.delay);\n    }\n    return tl;\n  }\n}\n","import {BaseAnimation} from \"@/core/entities/spec/BaseAnimation\";\nimport gsap from 'gsap';\n\nexport class GroupAnimation extends BaseAnimation {\n  /** @type {{grouping: Object, animation: BaseAnimation}} */\n  sequence\n\n  constructor() {\n    super();\n    this.type = 'group';\n  }\n\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {Set<HTMLElement>}\n   */\n  // eslint-disable-next-line no-unused-vars\n  computePossibleElements(context) {\n    return new Set();\n  }\n\n  /**\n   * @param {import('../../context/Context').RenderContext} context\n   * @returns {gsap.core.Timeline}\n   */\n  // eslint-disable-next-line no-unused-vars\n  create(context) {\n    const tl = gsap.timeline();\n    return tl;\n  }\n}\n","import {BaseAnimation} from \"@/core/entities/spec/BaseAnimation\";\n\nexport class TemplateUsage extends BaseAnimation {\n  /** @type {string} */\n  use\n\n  /**\n   * @param {string} use\n   * @param {Object<string, any>} settings\n   */\n  constructor(use='', settings={}) {\n    super(settings);\n    this.use = use;\n    this.type = 'usage';\n  }\n\n  /**\n   * @param {string} use\n   * @returns {TemplateUsage}\n   */\n  useTemplate(use) {\n    this.use = use;\n    return this;\n  }\n\n  computeDuration(context) {\n    const {yoyo} = this.timing.getComputedTiming();\n    if (this.timing?.duration) {\n      return this.timing.duration;\n    }\n    const ani = this.instantiateUsingTemplate(context);\n    let duration = ani?.computeDuration(context.deriveBy(this.target)) ?? 0;\n    if (yoyo) {\n      return duration * (yoyo.repeat + 1) + yoyo.delay * yoyo.repeat;\n    }\n    return duration;\n  }\n\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {Set<HTMLElement>}\n   */\n  computePossibleElements(context) {\n    const ani = this.instantiateUsingTemplate(context, false);\n    if (!ani) {\n      return new Set();\n    }\n    return ani.computePossibleElements(context.deriveByWithoutTransform(this.target));\n  }\n\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const ani = this.instantiateUsingTemplate(context);\n    if (!ani) {\n      return null;\n    }\n    const tl = ani.create(context.deriveBy(this.target));\n    const {yoyo} = this.timing.getComputedTiming();\n    if (this.timing?.duration) {\n      tl.duration(this.timing.duration);\n    }\n    if (yoyo) {\n      tl.yoyo(true);\n      tl.repeat(yoyo.repeat);\n      tl.repeatDelay(yoyo.delay);\n    }\n    return tl;\n  }\n\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @param {boolean=true} toCheck\n   * @returns {BaseAnimation}\n   */\n  instantiateUsingTemplate(context, toCheck=true) {\n    if (!this.use || this.use === '') {\n      return null;\n    }\n    const template = context.getTemplate(this.use);\n    if (template != null) {\n      return template.instantiate(this.settings, toCheck);\n    } else {\n      console.warn(`Template ${this.use} not found.`)\n      return null;\n    }\n  }\n}\n","import {TargetParser} from \"@/core/parser/TargetParser\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ConcatAnimation} from \"@/core/entities/spec/animation/ConcatAnimation\";\nimport {GroupAnimation} from \"@/core/entities/spec/animation/GroupAnimation\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport JSON5 from 'json5';\nimport {Timing} from \"@/core/entities/spec/Timing\";\n\nexport class AnimationParser {\n  static reviver(key, value) {\n    return key === \"\" ? AnimationParser.fromJSON(value) : value;\n  }\n\n  /**\n   * @param {Object | string} json\n   * @returns {BaseAnimation}\n   */\n  static fromJSON(json) {\n    if (typeof json === 'string') {\n      return JSON5.parse(json, AnimationParser.reviver);\n    } else if ('sequence' in json) {\n      return AnimationParser.createSequenceAnimation(json);\n    } else if ('use' in json) {\n      return AnimationParser.createTemplateUsage(json);\n    } else {\n      return null;\n    }\n  }\n\n  /**\n   * @param {Object} json\n   * @returns {SyncAnimation | ConcatAnimation | GroupAnimation}\n   */\n  static createSequenceAnimation(json) {\n    let obj, sequence;\n    if ('sync' in json.sequence && Array.isArray(json.sequence.sync)) {\n      obj = new SyncAnimation();\n      sequence = {\n        sync: json.sequence.sync.map(subObj => AnimationParser.fromJSON(subObj))\n      };\n\n    } else if ('concat' in json.sequence && Array.isArray(json.sequence.concat)) {\n      obj = new ConcatAnimation();\n      sequence = {\n        concat: json.sequence.concat.map(subObj => AnimationParser.fromJSON(subObj))\n      };\n\n    } else if ('animation' in json.sequence) {\n      obj = new GroupAnimation();\n      sequence = {\n        grouping: json.sequence.grouping,\n        animation: AnimationParser.fromJSON(json.sequence.animation)\n      };\n\n    } else {\n      console.warn('create sequence animation failed', json);\n      return null;\n    }\n\n    const target = TargetParser.fromJSON(json.target);\n    const timing = Object.assign(obj.timing, json.timing ?? {});\n    if (timing.yoyo === true) {\n      timing.yoyo = Timing.getDefaultYoyo();\n    }\n    return Object.assign(obj, json, {target, sequence, timing});\n  }\n\n  /**\n   * @param {Object} json\n   * @returns {TemplateUsage}\n   */\n  static createTemplateUsage(json) {\n    const obj = new TemplateUsage();\n    const target = TargetParser.fromJSON(json.target);\n    const timing = Object.assign(obj.timing, json.timing ?? {});\n    if (timing.yoyo === true) {\n      timing.yoyo = Timing.getDefaultYoyo();\n    }\n    const settings = Object.assign(obj.settings, json.settings ?? {});\n    return Object.assign(obj, json, {target, timing, settings});\n  }\n}","/**\n * @param {object} object\n * @param {function(key: any, item: object, parent: object): boolean} func\n */\nfunction traversalObject(object, func) {\n  if (object == null) return\n  traversalObjectRecursively(object, func)\n}\n\n/**\n * @param {object} object\n * @param {function(key: any, item: object, parent: object): boolean} func\n * @returns {boolean} Not to traversal if return true\n */\nfunction traversalObjectRecursively(object, func) {\n  if (object == null || typeof object !== 'object') return false\n  // console.log(object)\n  for (let key of Object.keys(object)) {\n    const item = object[key]\n    let terminate = func(key, item, object)\n    if (terminate) return true\n    traversalObjectRecursively(item, func)\n  }\n  return false\n}\n\nfunction deepCopy(obj) {\n  if (obj === undefined || obj === null) {\n    return obj\n  }\n  let copy = Array.isArray(obj) ? [] : {}\n  for (let i in obj) {\n    copy[i] = typeof obj[i] === 'object' ? deepCopy(obj[i]) : obj[i]\n  }\n  if (obj.prototype !== undefined) {\n    copy.prototype = obj.prototype\n  }\n  return copy\n}\n\nexport const JsonUtils = {\n  traversalObject, deepCopy\n}","import {BaseAnimation} from \"@/core/entities/spec/BaseAnimation\";\n\nexport class EmptyAnimation extends BaseAnimation {\n  constructor() {\n    super();\n    this.type = 'empty';\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  computeDuration(context) {\n    return 0;\n  }\n\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {Set<HTMLElement>}\n   */\n  // eslint-disable-next-line no-unused-vars\n  computePossibleElements(context) {\n    return new Set();\n  }\n\n  /**\n   * @param {import('../../context/Context').RenderContext} context\n   * @returns {null}\n   */\n  // eslint-disable-next-line no-unused-vars\n  create(context) {\n    return null;    // return nothing\n  }\n}\n","import {AnimationParser} from \"@/core/parser/AnimationParser\";\nimport {BaseTemplate} from \"@/core/entities/spec/BaseTemplate\";\nimport {JsonUtils} from \"@/core/utils/JsonUtils\";\nimport {EmptyAnimation} from \"@/core/entities/spec/animation/EmptyAnimation\";\n\nexport class JsonTemplate extends BaseTemplate {\n  /** @type {{}} */\n  animation\n\n  constructor(animation=null) {\n    super();\n    this.animation = animation;\n    this.type = 'json';\n  }\n\n  /**\n   * @returns {BaseAnimation}\n   */\n  createAnimation() {\n    if (!this.animation) {\n      return new EmptyAnimation();\n    }\n    // get a copy of animation declaration\n    const animation = JSON.parse(JSON.stringify(this.animation));\n    // set all parameters\n    const settings = this.settings;\n    JsonUtils.traversalObject(animation, (key, current, parent) => {\n      if (typeof current !== 'string' || !current.includes('$')) {\n        return;\n      }\n      current = current.trim();\n      if (current.match(/^\\$[0-9a-zA-Z]*$/)) {  // '$xxx'\n        const paramName = current.substr(1);\n        if (paramName in settings) {\n          parent[key] = settings[paramName];\n        }\n      } else {\n        let result = current;\n        Object.keys(settings).forEach(paramName => {\n          result = result.replaceAll('$' + paramName, settings[paramName]);\n        })\n        parent[key] = result;\n      }\n    })\n    return AnimationParser.fromJSON(animation);\n  }\n}\n","import {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport JSON5 from 'json5';\n\nexport class ParamDefinitionParser {\n  static reviver(key, value) {\n    return key === \"\" ? ParamDefinitionParser.fromJSON(value) : value;\n  }\n\n  /**\n   * @param {Object} json\n   * @returns {ParamDefinition}\n   */\n  static fromJSON(json) {\n    if (typeof json === 'string') {\n      return JSON5.parse(json, ParamDefinitionParser.reviver);\n    } else {\n      const obj = new ParamDefinition();\n      return Object.assign(obj, json);\n    }\n  }\n}","import {JsonTemplate} from \"@/core/entities/spec/template/JsonTemplate\";\nimport {ParamDefinitionParser} from \"@/core/parser/ParamDefinitionParser\";\nimport JSON5 from 'json5';\n\nexport class TemplateParser {\n  static reviver(key, value) {\n    return key === \"\" ? TemplateParser.fromJSON(value) : value;\n  }\n\n  /**\n   * @param {Object} json\n   * @returns {BaseTemplate}\n   */\n  static fromJSON(json) {\n    if (typeof json === 'string') {\n      return JSON5.parse(json, TemplateParser.reviver);\n    }\n    if (typeof json !== \"object\") {\n      return null;\n    }\n    const obj = new JsonTemplate();\n    let parameters;\n    if (json.parameters && Array.isArray(json.parameters)) {\n      parameters = json.parameters.map(p => ParamDefinitionParser.fromJSON(p));\n    } else {\n      parameters = [];\n    }\n    return Object.assign(obj, json, {parameters});\n  }\n}\n","import {ChartShotAnimation} from \"@/core/entities/spec/ChartShotAnimation\";\nimport {TemplateParser} from \"@/core/parser/TemplateParser\";\nimport {AnimationParser} from \"@/core/parser/AnimationParser\";\nimport JSON5 from 'json5';\n\nexport class ChartShotAnimationParser {\n  static reviver(key, value) {\n    return key === \"\" ? ChartShotAnimationParser.fromJSON(value) : value;\n  }\n\n  /**\n   * @param {Object} json\n   * @returns {ChartShotAnimation}\n   */\n  static fromJSON(json) {\n    if (typeof json === 'string') {\n      return JSON5.parse(json, ChartShotAnimationParser.reviver);\n    } else {\n      const obj = new ChartShotAnimation();\n\n      let templates;\n      if (json.templates && Array.isArray(json.templates)) {\n        templates = json.templates.map(t => TemplateParser.fromJSON(t));\n      } else {\n        templates = [];\n      }\n      const animation = AnimationParser.fromJSON(json.animation);\n      return Object.assign(obj, json, {templates, animation});\n    }\n  }\n}","import {ChartShotAnimationParser} from \"@/core/parser/ChartShotAnimationParser\";\n\nexport class Parser {\n  /** @type {string | Object} */\n  json\n\n  /**\n   * @param {string | Object} json\n   */\n  init(json) {\n    this.json = json\n  }\n\n  /**\n   * @returns {ChartShotAnimation}\n   */\n  parse() {\n    return ChartShotAnimationParser.fromJSON(this.json)\n  }\n}","export class Context {\n  /** @type {import('@/core/entities/context/RenderContext').RenderContext} */\n  renderContext\n  /** @type {d3.Selection} */\n  parentSelection\n  /** @type {boolean} */\n  fakeRender\n  parentTarget\n\n  /**\n   * @param {import('@/core/entities/context/RenderContext').RenderContext} renderContext\n   * @param {d3.Selection} parentSelection\n   * @param {boolean} fakeRender\n   */\n  constructor(renderContext, parentSelection, parentTarget, fakeRender=false) {\n    this.renderContext = renderContext;\n    this.parentSelection = parentSelection;\n    this.parentTarget = parentTarget;\n    this.fakeRender = fakeRender;\n  }\n\n  /**\n   * @param {d3.Selection} selection\n   * @returns {Context}\n   */\n  derive(selection, parentTarget) {\n    return new Context(this.renderContext, selection, parentTarget, this.fakeRender);\n  }\n\n  /**\n   * @param {Target} target\n   * @returns {Context}\n   */\n  deriveBy(target) {\n    const selection = this.getSelection(target);\n    if (this.parentSelection.size() !== 0 && selection.size() === 0) {\n      console.warn(`Empty select result. \n      parentSelector=${this.parentTarget?.selector ?? 'null'} \n      selector=\"${target.selector}\"`, this);\n    }\n    return this.derive(selection, target);\n  }\n\n  /**\n   * @param {Target} target\n   * @returns {Context}\n   */\n  deriveByWithoutTransform(target) {\n    if (target.selector.includes('$')) {\n      // has param, ignore this target selection\n      return this.derive(this.parentSelection);\n    } else {\n      const selection = this.getSelectionWithoutTransform(target);\n      return this.derive(selection, target);\n    }\n  }\n\n  /**\n   * @param {Target} target\n   * @returns {SVGGraphicsElement[]}\n   */\n  getGlyphs(target) {\n    if (this.fakeRender) {\n      return this.getSelection(target).nodes()\n          .map(node => /** @type {SVGGraphicsElement} */ node.cloneNode(true));\n    }\n    return this.getSelection(target).nodes();\n  }\n\n  /**\n   * @param {Target} target\n   * @returns {SVGGraphicsElement[]}\n   */\n  getExclusiveGlyphs(target, selector) {\n    let glyphs = this.renderContext.targetModel.getExclusiveGlyphs(this.renderContext.rootSel.selectAll(selector), this.parentTarget).nodes();\n    if (this.fakeRender) {\n      return glyphs.map(node => /** @type {SVGGraphicsElement} */ node.cloneNode(true));\n    }\n    return glyphs\n  }\n\n  /**\n   * @param {SVGGraphicsElement} glyph\n   * @returns {}\n   */\n  getBBoxPosition(glyph) {\n    const root_sel = this.renderContext.rootSel;\n    const svg_sel = root_sel.select('svg').node() ?? root_sel.node();\n    const root_point = svg_sel.createSVGPoint();\n    const glyph_ctm = glyph._original?.CTM ?? glyph.getCTM();\n    const glyph_point = root_point.matrixTransform(glyph_ctm);\n    const glyph_bbox = glyph.getBBox();\n\n    var {x, y, width, height} = {\n      x: glyph_point.x,\n      y: glyph_point.y,\n      width: glyph_bbox.width,\n      height: glyph_bbox.height\n    }\n\n    // console.log(\"ERVIN\", root_point, glyph.getCTM(), glyph_point, glyph._original.CTM);\n    if (glyph.nodeName === 'text') {\n      switch (glyph.getAttribute(\"text-anchor\")) {\n        case \"start\":\n          // start at left bottom corner\n          y = y - height * 0.75;\n          break;\n        case \"end\":\n          // start at right bottom corner\n          x = x - width;\n          y = y - height * 0.75;\n          break;\n        case \"middle\":\n          // start at middle bottom\n          x = x - width / 2;\n          y = y - height * 0.75;\n          break;\n        default:\n          break;\n      }\n    } else if (glyph.nodeName === 'path') {\n      y = y + height / 2\n      // TODO: fix the x\n    }\n\n    return {x, y, width, height}\n  }\n\n  /**\n   * @param {Target} target\n   * @returns {d3.Selection}\n   */\n  getSelection(target) {\n    return this.renderContext.targetModel.getGlyphs(this.parentSelection, target);\n  }\n\n  /**\n   * @param {Target} target\n   * @returns {d3.Selection}\n   */\n  getSelectionWithoutTransform(target) {\n    return this.renderContext.targetModel.getGlyphsWithoutTransform(this.parentSelection, target);\n  }\n\n  /**\n   * @param {string} templateName\n   * @returns {BaseTemplate}\n   */\n  getTemplate(templateName){\n    return this.renderContext.templateLib.getTemplate(templateName);\n  }\n\n  /**\n   * @returns {d3.Selection}\n   */\n  getRootSel() {\n    return this.renderContext.rootSel;\n  }\n\n  /**\n   * @returns {d3.Selection}\n   */\n  getDefsSel() {\n    return this.renderContext.getDefsSel();\n  }\n\n  /**\n   * @returns {SVGElement}\n   */\n  getRootSvg() {\n    const ret = this.renderContext.rootSel.node();\n    return ret.tagName === 'svg' ? ret : ret.querySelector('svg');\n  }\n}\n","import {Context} from \"@/core/entities/context/Context\";\nimport {MASK_CLASS} from \"@/core/const/Element\";\nimport {ANNOTATION_CLASS} from \"@/core/const/Element\";\n\nexport class RenderContext {\n  /** @type {d3.Selection} */\n  rootSel\n  /** @type {d3.Selection} */\n  defsSel\n  /** @type {TemplateLibrary} */\n  templateLib\n  /** @type {d3.Selection} */\n  globalSelection\n  /** @type {BaseTargetModel} */\n  targetModel\n\n  /**\n   * @param {d3.Selection} rootSel\n   * @param {TemplateLibrary} templateLib\n   */\n  constructor(rootSel, templateLib) {\n    this.rootSel = rootSel;\n    this.defsSel = null;    // will auto create if not exist at the first usage\n    this.templateLib = templateLib;\n    this.globalSelection = rootSel.selectAll('*');\n  }\n\n  /**\n   * @param templateName\n   * @returns {BaseTemplate}\n   */\n  getTemplate(templateName) {\n    return this.templateLib.getTemplate(templateName);\n  }\n\n  /**\n   * @param {boolean} fakeRender\n   * @returns {Context}\n   */\n  createRootContext(fakeRender=false) {\n    return new Context(this, this.globalSelection, null, fakeRender);\n  }\n\n  clean() {\n    if (!this.defsSel || this.defsSel.empty()) {\n      return;\n    }\n    this.defsSel.selectAll(MASK_CLASS).remove();\n    this.defsSel.selectAll(ANNOTATION_CLASS).remove();\n  }\n\n  /**\n   * @returns {d3.Selection}\n   */\n  getDefsSel() {\n    if (!this.defsSel) {\n      let defsSel = this.rootSel.select('defs')\n      if (defsSel.empty()) {\n        defsSel = this.rootSel.append('defs')\n      }\n      this.defsSel = defsSel;\n    }\n    return this.defsSel;\n  }\n}\n","export class BaseTargetModel {\n  /** @type {d3.Selection} */\n  globalSelection\n\n  /**\n   * @param {d3.Selection} parentSelection\n   * @param {Target} target\n   * @returns {d3.Selection}\n   */\n  // eslint-disable-next-line no-unused-vars\n  getGlyphs(parentSelection, target) {\n    throw 'Target model is abstract';\n  }\n\n  /**\n   * @param {d3.Selection} parentSelection\n   * @param {Target} target\n   * @returns {d3.Selection}\n   */\n  // eslint-disable-next-line no-unused-vars\n  getGlyphsWithoutTransform(parentSelection, target) {\n    throw 'Target model is abstract';\n  }\n}","import {BaseTargetModel} from \"@/core/generator/BaseTargetModel\";\n\nexport class SimpleTargetModel extends BaseTargetModel {\n  /** @type {d3.Selection} */\n  globalSelection\n\n  /**\n   * @param {d3.Selection} globalSelection\n   */\n  constructor(globalSelection) {\n    super();\n    this.globalSelection = globalSelection;\n  }\n\n  /**\n   * @param {d3.Selection} parentSelection\n   * @param {Target} target\n   * @returns {d3.Selection}\n   */\n  getGlyphsWithoutTransform(parentSelection, target) {\n    return parentSelection.filter(target.selector);\n  }\n\n  /**\n   * @param {d3.Selection} parentSelection\n   * @param {Target} target\n   * @returns {d3.Selection}\n   */\n  getGlyphs(parentSelection, target) {\n    // console.log(target, parentSelection, parentSelection.filter(target.selector));\n    let selection = parentSelection.filter(target.selector);\n    target.transform.forEach(trans => {\n      selection = trans.execute(selection);\n    })\n    return selection;\n  }\n\n  /**\n   * @param {d3.Selection} parentSelection\n   * @param {Target} target\n   * @returns {d3.Selection}\n   */\n   getExclusiveGlyphs(parentSelection, target) {\n    // console.log(target, parentSelection, parentSelection.filter(target.selector));\n    let selection = parentSelection.filter(`:not(${target.selector})`);\n    target.transform.forEach(trans => {\n      selection = trans.execute(selection);\n    })\n    return selection;\n  }\n}","import {RenderContext} from \"@/core/entities/context/RenderContext\";\nimport {SimpleTargetModel} from \"@/core/generator/target-model/SimpleTargetModel\";\n\nexport class Generator {\n  /** @type {RenderContext} */\n  renderContext\n  /** @type {BaseAnimation} */\n  animationSpec\n\n  /**\n   * @param {d3.Selection} rootSel\n   * @param {TemplateLibrary} templateLib\n   * @param {BaseAnimation} animationSpec\n   */\n  init(rootSel, templateLib, animationSpec) {\n    this.renderContext = new RenderContext(rootSel, templateLib);\n    this.animationSpec = animationSpec;\n  }\n\n  /**\n   * @returns {gsap.core.Timeline}\n   */\n  generate() {\n    // console.log('spec', this.animationSpec);\n\n    // create target module\n    this.renderContext.targetModel = new SimpleTargetModel(this.renderContext.globalSelection);\n\n    // console.log('renderContext', this.renderContext);\n    this.renderContext.clean();\n    const rootContext = this.renderContext.createRootContext();\n    return this.animationSpec.create(rootContext);\n  }\n\n  computeDuration() {\n    // create target module\n    this.renderContext.targetModel = new SimpleTargetModel(this.renderContext.globalSelection);\n    this.renderContext.clean();\n    const rootContext = this.renderContext.createRootContext(true);\n    return this.animationSpec.computeDuration(rootContext);\n  }\n\n  /**\n   * @param {string} templateName\n   * @returns {Set<HTMLElement>}\n   */\n  computePossibleElements(templateName) {\n    const template = this.renderContext.getTemplate(templateName);\n    if (!template) {\n      return new Set();\n    }\n    const ani = template.instantiate({}, false);\n\n    // create target module\n    this.renderContext.targetModel = new SimpleTargetModel(this.renderContext.globalSelection);\n    this.renderContext.clean();\n    const rootContext = this.renderContext.createRootContext(true);\n\n    return ani.computePossibleElements(rootContext);\n  }\n}\n","export class TemplateLibrary {\n  /** @type {Map<string, BaseTemplate>} */\n  buildInTemplateMap\n  /** @type {Map<string, BaseTemplate>} */\n  templateMap\n\n  constructor() {\n    this.buildInTemplateMap = new Map();\n    this.templateMap = new Map();\n  }\n\n  /**\n   * @param {BaseTemplate} template\n   */\n  registerBuildInTemplate(template) {\n    if (this.buildInTemplateMap.has(template.templateName)) {\n      console.warn('Duplicated template name in build-in scope' + template.templateName);\n    }\n    this.buildInTemplateMap.set(template.templateName, template);\n  }\n\n  /**\n   * @param {...BaseTemplate} template\n   */\n  registerBuildInTemplates(...template) {\n    template.forEach(t => this. registerBuildInTemplate(t));\n  }\n\n  /**\n   * @param {BaseTemplate} template\n   */\n  registerTemplate(template) {\n    if (this.templateMap.has(template.templateName)) {\n      console.warn('Duplicated template name in custom scope' + template.templateName);\n    }\n    this.templateMap.set(template.templateName, template);\n  }\n\n  /**\n   * @param {...BaseTemplate} template\n   */\n  registerTemplates(...template) {\n    template.forEach(t => this.registerTemplate(t));\n  }\n\n  /**\n   * @param {string} templateName\n   * @returns {BaseTemplate}\n   */\n  getTemplate(templateName) {\n    const prototype = this.templateMap.get(templateName)\n        ?? this.buildInTemplateMap.get(templateName);\n    if (!prototype) {\n      return null;\n    }\n    return prototype.clone();\n  }\n\n  /**\n   * @returns {BaseTemplate[]}\n   */\n  getAllBuildInTemplates() {\n    return Array.from(this.buildInTemplateMap.values());\n  }\n\n  /**\n   * @returns {BaseTemplate[]}\n   */\n  getAllCustomTemplate() {\n    return Array.from(this.templateMap.values());\n  }\n\n  reset() {\n    this.templateMap = new Map();\n  }\n}\n","/**\n * @enum {string}\n * @readonly\n */\nexport const PreviewerType = {\n  CUSTOM: 'custom',\n  TITLE: 'title',\n  BLANK: 'blank',\n  GENERAL: 'general',\n  HIGHLIGHT: 'highlight',\n  MOVE: 'move',\n  PATH: 'path',\n  TEXT: 'text',\n  CAMERA: 'camera',\n  ANNOTATION_ARROW: 'annotation-arrow',\n  BAR_CHART: 'bar-chart',\n  BAR_CHART_WITH_LEGEND:'bar-chart-with-legend',\n  CIRCLE_CHART: 'circle-chart',\n  CIRCLE_CHART_WITH_LEGEND: 'circle-chart-with-legend',\n  PIE_CHART: 'pie-chart',\n  PIE_WITH_LEGEND:'pie-with-legend',\n  LINE_CHART: 'line-chart',\n  LINE_CHART_WITH_LEGEND: 'line-chart-with-legend',\n  CHART_FRAMEWORK: 'chart-framework',\n}","/**\n * @enum {string}\n * @readonly\n */\n export const AnimationType = {\n    ENTER: 'Enter',\n    EXIT: 'Exit',\n    // some bad code\n    HIGHLIGHT: 'Emphasis',\n    ANNOTATION: 'Annotate',\n\n    OTHER: 'Other',\n  }","import {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {Target} from \"@/core/entities/spec/Target\";\nimport {TargetParser} from \"@/core/parser/TargetParser\";\nimport {JsonUtils} from \"@/core/utils/JsonUtils\";\n\nexport class PreviewWrapper {\n  /** @type {BaseTemplate} */\n  template\n  /** @type {PreviewerType} */\n  previewerType\n  /** @type {AnimationType} */\n  animationType\n  /** @type {String[]} */\n  templateLabels\n  /** @type {Object<String, any>} */\n  templateSettings\n  /** @type {Target} */\n  target\n  /** @type {number} */\n  staticProgress\n  /** @type {Object<String, any>} */\n  previewSettings\n\n  constructor(\n      template,\n      previewerType=PreviewerType.BLANK,\n      animationType=AnimationType.OTHER,\n      templateLabels=[],\n      templateSettings={},\n      target=undefined,\n      staticProgress=1,\n      previewSettings={},\n  ) {\n    this.type = 'previewer';\n    this.template = template;\n    this.previewerType = previewerType;\n    this.animationType = animationType;\n    this.templateLabels = templateLabels;\n    this.templateSettings = templateSettings;\n    this.previewSettings = previewSettings;\n    this.staticProgress = staticProgress;\n\n    if (!target) {\n      this.target = Target.getDefaultTarget();\n    } else if (target instanceof Target) {\n      this.target = target;\n    } else {\n      this.target = TargetParser.fromJSON(target);\n    }\n  }\n\n  /**\n   * @returns {PreviewWrapper}\n   */\n  clone() {\n    return new PreviewWrapper(\n        this.template.clone(),\n        this.previewerType,\n        this.animationType,\n        [...this.templateLabels],\n        JsonUtils.deepCopy(this.templateSettings),\n        Object.assign(new Target, this.target),\n        this.staticProgress,\n        JsonUtils.deepCopy(this.previewSettings),\n    );\n  }\n\n  /**\n   * @returns {string}\n   */\n  getTemplateName() {\n    return this.template.templateName;\n  }\n\n  /**\n   * @returns {string}\n   */\n  getTemplateType() {\n    return this.template.type;\n  }\n\n  /**\n   * @returns {ParamDefinition[]}\n   */\n  getTemplateParameters() {\n    return this.template.parameters;\n  }\n\n  /**\n   * @returns {BaseAnimation}\n   */\n  createPreviewAnimation() {\n    if (this.template != null) {\n      return this.template.instantiate(this.templateSettings);\n    } else {\n      console.warn(`Can't create animation since preview template is null`)\n      return null;\n    }\n  }\n}\n","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {RenderContext} from \"@/core/entities/context/RenderContext\";\nimport {SimpleTargetModel} from \"@/core/generator/target-model/SimpleTargetModel\";\n\nexport class PreviewerManager {\n  /** @type {TemplateLibrary} */\n  templateLib\n  /**\n   * Mapping the template name to its preview wrapper (if exit)\n   * @type {Map<String, PreviewWrapper>}\n   */\n  previewWrapperMap\n  /**\n   * Mapping previewer type to a corresponding prototype\n   * @type {Map<String, BasePreviewer>}\n   */\n  previewerMap\n\n  /**\n   * @param {TemplateLibrary} templateLib\n   */\n  constructor(templateLib) {\n    this.templateLib = templateLib;\n    this.previewWrapperMap = new Map();\n    this.previewerMap = new Map();\n  }\n\n  /**\n   * @param {PreviewWrapper} wrapper\n   */\n  registerPreviewWrapper(wrapper) {\n    this.previewWrapperMap.set(wrapper.template.templateName, wrapper);\n  }\n\n  /**\n   * @param {BasePreviewer} previewer\n   */\n  registerPreviewer(previewer) {\n    this.previewerMap.set(previewer.previewerType, previewer);\n  }\n\n  /**\n   * @param {string} templateName\n   * @param {d3.Selection} rootSel\n   * @returns {BasePreviewer}\n   */\n  createDefaultPreviewer(templateName, rootSel) {\n    const wrapper = this.getDefaultWrapper(templateName);\n\n    const renderContext = new RenderContext(rootSel, this.templateLib);\n    renderContext.targetModel = new SimpleTargetModel(renderContext.globalSelection);\n\n    const previewer = this.previewerMap.get(wrapper.previewerType).clone();\n    previewer.init(wrapper, renderContext);\n\n    return previewer;\n  }\n\n  /**\n   * @param {string} templateName\n   * @returns {PreviewWrapper}\n   */\n  getDefaultWrapper(templateName) {\n    let wrapper = this.previewWrapperMap.get(templateName)?.clone();\n    if (!wrapper) {\n      const template = this.templateLib.getTemplate(templateName);\n      wrapper = new PreviewWrapper(template);\n    }\n    return wrapper;\n  }\n}","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\n\nexport class FadeInTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Fade-in';\n    this.parameters = [\n      new ParamDefinition('duration', ParamType.NUMBER, false, 0.5),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new TemplateUsage('Fade')\n    animation.updateSettings(this.getParamValues());\n    animation.updateSettings({fadeType: 'in'});\n    return animation;\n  }\n}\n","/**\n * @enum {String}\n * @readonly\n */\nexport const Direction = {\n    TOP: 'top',\n    BOTTOM: 'bottom',\n    LEFT: 'left',\n    RIGHT: 'right',\n    CENTER: 'center',\n    UNKNOWN: 'unknown',\n    AUTO: 'auto'\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\nimport {Direction} from \"@/core/const/Direction\";\n\nexport class GrowTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Grow';\n    this.parameters = [\n      new ParamDefinition('direction', ParamType.STRING, false, Direction.BOTTOM),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new GrowAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass GrowAnimation extends NativeAnimation {\n  getDefaultSettings() {\n    return {direction: Direction.BOTTOM, ease: 'power1.out', stagger: 0, duration: 1};\n  }\n\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const {stagger} = this.settings;\n    const glyphs = context.getGlyphs(this.target);\n    const tl = gsap.timeline()\n    \n    glyphs.forEach((glyph, i) => {\n      const tw = this.createTwForOneGlyph(glyph);\n      const position = i === 0 ? 0 : ('<' + stagger);\n      tl.add(tw, position);\n    });\n    return tl;\n  }\n  /**\n   * @param {SVGGraphicsElement} glyph\n   * @returns {gsap.core.Tween|null}\n   */\n  createTwForOneGlyph(glyph) {\n    const {direction, ease, duration} = this.settings;\n    const bbox = glyph.getBBox();\n    \n    // console.log(\"glyph = \", glyph);\n    // console.log(\"glyph.width = \", glyph.getAttribute(\"width\"));\n    // console.log(\"bbox = \", bbox);\n    // if (glyph.getAttribute(\"width\")>glyph.getAttribute(\"height\") && glyph.nodeName==\"rect\"){\n    //     this.updateSettings({\n          // direction: Direction.LEFT,\n        // });\n    // }\n\n    let attrName, transFactorX, transFactorY;\n    switch (direction) {\n      case Direction.TOP:\n        attrName = 'scaleY';\n        transFactorX = 0.5;\n        transFactorY = 0;\n        break;\n      case Direction.BOTTOM:\n        attrName = 'scaleY';\n        transFactorX = 0.5;\n        transFactorY = 1;\n        break;\n      case Direction.LEFT:\n        attrName = 'scaleX';\n        transFactorX = 0;\n        transFactorY = 0.5;\n        break;\n      case Direction.RIGHT:\n        attrName = 'scaleX';\n        transFactorX = 1;\n        transFactorY = 0.5;\n        break;\n      default: return null;\n    }\n    const transformOrigin = `${transFactorX * bbox.width}px ${transFactorY * bbox.height}px`\n    const fromVars = {transformOrigin, duration, ease};\n    fromVars[attrName] = 0;\n\n    // console.log('Grow', glyph, fromVars);\n    return gsap.from(glyph, fromVars);\n  }\n}","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\n\nexport class MoveToTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Move-to';\n    this.parameters = [\n      new ParamDefinition('x', ParamType.ANY, false, '+=0'),    // number or string\n      new ParamDefinition('y', ParamType.ANY, false, '+=0'),    // number or string\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('yoyo', ParamType.OBJECT, false, null),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new TemplateUsage('move')\n    const toVars = {\n      x: this.getParamValue('x'),\n      y: this.getParamValue('y'),\n    };\n    animation.set('to', toVars);\n    animation.set('duration', this.getParamValue('duration'));\n    animation.set('ease', this.getParamValue('ease'));\n    animation.set('stagger', this.getParamValue('stagger'));\n    animation.set('yoyo', this.getParamValue('yoyo'));\n    return animation;\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\n\nexport class MoveFromTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Move-from';\n    this.parameters = [\n      new ParamDefinition('x', ParamType.ANY, false, '+=0'),    // number or string\n      new ParamDefinition('y', ParamType.ANY, false, '+=0'),    // number or string\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new TemplateUsage('move')\n    const fromVars = {\n      x: this.getParamValue('x'),\n      y: this.getParamValue('y'),\n    };\n    animation.set('from', fromVars);\n    animation.set('duration', this.getParamValue('duration'));\n    animation.set('ease', this.getParamValue('ease'));\n    animation.set('stagger', this.getParamValue('stagger'));\n    return animation;\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\nimport {Direction} from \"@/core/const/Direction\";\n\nexport class FloatTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Float';\n    this.parameters = [\n      new ParamDefinition('enterOrExit', ParamType.STRING, false, 'enter'),\n      new ParamDefinition('direction', ParamType.STRING, false, 'bottom'),\n      new ParamDefinition('distance', ParamType.NUMBER, false, 30),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new FloatAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass FloatAnimation extends NativeAnimation {\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const {enterOrExit, distance, direction, ease, stagger, duration} = this.settings;\n\n    const attr = (direction === Direction.LEFT || direction === Direction.RIGHT) ? 'x' : 'y';\n    const factor = (direction === Direction.RIGHT || direction === Direction.BOTTOM) ? 1 : -1;\n\n    let tw;\n    const glyphs = context.getGlyphs(this.target);\n    const vars = {opacity: 0, ease, duration, stagger};\n    if (enterOrExit === 'enter') {\n      vars[attr] = `+=${distance * factor}px`;\n      tw = gsap.from(glyphs, vars);\n    } else if (enterOrExit === 'exit') {\n      vars[attr] = `-=${distance * factor}px`;\n      tw = gsap.to(glyphs, vars);\n    } else {\n      console.warn(\"Wrong value of enterOrExit: \" + enterOrExit);\n      return null;\n    }\n\n    return tw;\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\n\nexport class BasicZoomTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'basic-zoom';\n    this.parameters = [\n      new ParamDefinition('enterOrExit', ParamType.STRING, false, 'enter'),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n      new ParamDefinition('ease', ParamType.STRING, false, 'back.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new BasicZoomAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass BasicZoomAnimation extends NativeAnimation {\n  getDefaultSettings() {\n    return {enterOrExit: 'enter', ease: 'power1.out', stagger: 0, duration: 1};\n  }\n\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const {enterOrExit, ease, stagger} = this.settings;\n\n    const tl = gsap.timeline();\n    const glyphs = context.getGlyphs(this.target);\n\n    glyphs.forEach((glyph) => {\n      let tw;\n      const vars = {scale: 0, transformOrigin: 'center center', ease};\n      if (enterOrExit === 'enter') {\n        tw = gsap.from(glyph, vars);\n      } else if (enterOrExit === 'exit') {\n        tw = gsap.to(glyph, vars);\n      } else {\n        console.warn(\"Wrong value of enterOrExit: \" + enterOrExit);\n        return null;\n      }\n\n      const {duration, yoyo} = this.timing.getComputedTiming();\n      tw.duration(duration);\n      if (yoyo) {\n        tw.yoyo(true);\n        tw.repeat(yoyo.repeat);\n        tw.repeatDelay(yoyo.delay);\n      }\n\n      tl.add(tw, '<' + stagger);\n    })\n\n    return tl;\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\n\nexport class ZoomTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Zoom';\n    this.parameters = [\n      new ParamDefinition('enterOrExit', ParamType.STRING, false, 'enter'),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n      new ParamDefinition('FadeEase', ParamType.STRING, false, 'power1.inOut'),\n      new ParamDefinition('zoomEase', ParamType.STRING, false, 'back.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n    ];\n  }\n\n  createAnimation() {\n    const enterOrExit = this.getParamValue('enterOrExit');\n\n    if (enterOrExit === 'enter') {\n      const fade = new TemplateUsage('Fade-in')\n          .set('ease', this.getParamValue('FadeEase'))\n          .set('duration', this.getParamValue('duration'))\n          .set('stagger', this.getParamValue('stagger'));\n      const zoom = new TemplateUsage('Basic-zoom-enter')\n          .set('ease', this.getParamValue('zoomEase'))\n          .set('duration', this.getParamValue('duration'))\n          .set('stagger', this.getParamValue('stagger'));\n      return new SyncAnimation([fade, zoom]);\n\n    } else if (enterOrExit === 'exit') {\n      const fade = new TemplateUsage('Fade-out')\n          .set('ease', this.getParamValue('FadeEase'))\n          .set('duration', this.getParamValue('duration'))\n          .set('stagger', this.getParamValue('stagger'));\n      const zoom = new TemplateUsage('basic-zoom-exit')\n          .set('ease', this.getParamValue('zoomEase'))\n          .set('duration', this.getParamValue('duration'))\n          .set('stagger', this.getParamValue('stagger'));\n      return new SyncAnimation([fade, zoom]);\n\n    } else {\n      console.warn('Wrong value of param enterOrExit', enterOrExit);\n      return null;\n    }\n\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\nimport * as d3 from 'd3';\nimport {Direction} from \"@/core/const/Direction\";\nimport {computeUUID} from \"@/core/utils/uuid\";\nimport {MASK_CLASS} from \"@/core/const/Element\";\n\nexport class WipeTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Wipe';\n    this.parameters = [\n      new ParamDefinition('enterOrExit', ParamType.STRING, false, 'enter'),\n      new ParamDefinition('direction', ParamType.STRING, false, Direction.BOTTOM),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('yoyo', ParamType.OBJECT, false, null),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new WipeAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass WipeAnimation extends NativeAnimation {\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const glyphs = context.getGlyphs(this.target);\n    const defs = context.getDefsSel();\n    const tl = gsap.timeline()\n    const {stagger} = this.settings;\n    glyphs.forEach((glyph, i) => {\n      const mask = this.addMaskRectToGlyph(defs, glyph);\n      const tw = this.createTwForMask(mask, glyph);\n      const position = i === 0 ? 0 : ('<' + stagger);\n      tl.add(tw, position);\n    })\n    return tl;\n  }\n\n  /**\n   * @param {d3.Selection} defs\n   * @param {SVGGraphicsElement} glyph\n   * @returns {SVGGraphicsElement} the mask rect of glyph\n   */\n  addMaskRectToGlyph(defs, glyph) {\n    if (!glyph.getAttribute('id')) {\n      glyph.setAttribute('id', computeUUID());\n    }\n    const maskId = 'mask-' + glyph.getAttribute('id');\n    let mask = defs.select(`#${maskId}`);\n    if (mask.empty()) {\n      mask = defs.append('mask')\n          .attr('id', maskId)\n          .classed(MASK_CLASS, true)\n          .attr('maskUnits', 'userSpaceOnUse');\n      glyph.setAttribute('mask', `url(#${maskId})`);\n    }\n\n    const {enterOrExit} = this.settings;\n    const wipeRectSel = mask.select('.wipe');\n    if (!wipeRectSel.empty() && enterOrExit === 'exit') {\n      return wipeRectSel.node();\n    }\n\n    const bbox = glyph.getBBox();\n    let strokeWidth = parseFloat(glyph.getAttribute('stroke-width') ?? '0');\n    d3.select(glyph).selectAll('*').each(function () {\n      const tempWidth = parseFloat(this.getAttribute('stroke-width') ?? '0');\n      strokeWidth = Math.max(tempWidth, strokeWidth);\n    });\n\n    let x, y, width, height;\n    width = bbox.width + strokeWidth * 2;\n    height = bbox.height + strokeWidth * 2;\n    x = bbox.x - strokeWidth;\n    y = bbox.y - strokeWidth;\n\n    const newMaskRect = mask.append('rect')\n        .attr('transform', 'translate(' + [x, y] + ')')\n        .attr('class', 'Wipe')\n        .attr('width', width)\n        .attr('height', height)\n        .attr('stroke-width', strokeWidth)\n        .attr('fill', 'white')\n        .attr('stroke', 'white')\n\n    return newMaskRect.node();\n  }\n\n  /**\n   * Same as Grow effect, but applied on mark\n   * @param {SVGGraphicsElement} mask\n   * @param {SVGGraphicsElement} glyph\n   * @returns {gsap.core.Tween|null}\n   */\n  createTwForMask(mask, glyph) {\n    const {enterOrExit, direction, ease, duration, yoyo} = this.settings;\n    const bbox = mask.getBBox();\n\n    let offsetFactorX, offsetFactorY;\n\n    switch (direction) {\n      case Direction.TOP:\n        offsetFactorX = 0;\n        offsetFactorY = -1;\n        break;\n      case Direction.BOTTOM:\n        offsetFactorX = 0;\n        offsetFactorY = 1;\n        break;\n      case Direction.LEFT:\n        offsetFactorX = -1;\n        offsetFactorY = 0;\n        break;\n      case Direction.RIGHT:\n        offsetFactorX = 1;\n        offsetFactorY = 0;\n        break;\n    }\n\n    const strokeWidth = parseFloat(glyph.getAttribute('stroke-width') || '0');\n    const vars = {\n      x: '+=' + (offsetFactorX * (bbox.width + strokeWidth)),\n      y: '+=' + (offsetFactorY * (bbox.height + strokeWidth)),\n      duration,\n      ease\n    };\n\n    if (yoyo) {\n      vars.yoyo = true;\n      vars.repeatDelay = yoyo.delay ?? 0;\n      vars.repeat = yoyo.repeat ?? 1;\n    }\n\n    // console.log('Wipe', mask, vars);\n    return enterOrExit === 'exit' ? gsap.to(mask, vars) : gsap.from(mask, vars);\n  }\n}\n","export const ORIGINAL_DATA_STORE_PREFIX = 'ac-original-data--';\n\nexport const ORIGINAL_FILL_ALIAS = '@original-fill';","import { NativeTemplate } from \"@/core/entities/spec/template/NativeTemplate\";\nimport { ParamType } from \"@/core/entities/spec/parameter/ParamType\";\nimport { ParamDefinition } from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport { NativeAnimation } from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\nimport { Timing } from \"@/core/entities/spec/Timing\";\nimport { ORIGINAL_DATA_STORE_PREFIX, ORIGINAL_FILL_ALIAS } from \"@/core/const/Data\";\n\nexport class ChangeColorTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Change-color';\n    this.parameters = [\n      new ParamDefinition('fill', ParamType.STRING, true, '#ff0000'),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('yoyo', ParamType.OBJECT, true, null),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new ChangeColorAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass ChangeColorAnimation extends NativeAnimation {\n  getDefaultSettings() {\n    return {\n      duration: 1,\n      ease: 'power1.out',\n      stagger: 0,\n      yoyo: null\n    };\n  }\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const { stagger } = this.settings;\n    const glyphs = context.getGlyphs(this.target);\n    const { duration, yoyo } = this.timing.getComputedTiming();\n    const tl = gsap.timeline()\n    glyphs.forEach((glyph, i) => {\n      const tw = this.createTwForOneGlyph(glyph);\n      if (yoyo) {\n        tw.yoyo(true);\n        tw.repeat(yoyo.repeat);\n        tw.repeatDelay(yoyo.delay);\n      }\n      const position = i === 0 ? 0 : ('<' + stagger);\n      tl.add(tw, position);\n    });\n    tl.duration(duration);\n    return tl;\n  }\n\n  /**\n   * @param {SVGGraphicsElement} glyph\n   * @returns {gsap.core.Tween|null}\n   */\n  createTwForOneGlyph(glyph) {\n    let { fill, duration, ease, yoyo } = this.settings;\n\n    const yoyoVars = {};\n    if (yoyo) {\n      if (yoyo === true) {\n        // not object, use default\n        yoyo = Timing.getDefaultYoyo();\n      }\n      yoyoVars.yoyo = true;\n      yoyoVars.repeat = yoyo.repeat;\n      yoyoVars.repeatDelay = yoyo.delay;\n      duration /= (yoyoVars.repeat + 1);\n    }\n    const originalColorAttrName = ORIGINAL_DATA_STORE_PREFIX + 'color'\n    if (fill === ORIGINAL_FILL_ALIAS) {\n      fill = glyph.getAttribute(originalColorAttrName);\n    } else {\n      const curFill = glyph.getAttribute('fill');\n      glyph.setAttribute(originalColorAttrName, curFill);\n    }\n    const strokeList = [\"line\", \"tick\", \"rule\", \"circle\"];\n    var toVars = { fill, duration, ease, ...yoyoVars };\n    if (strokeList.indexOf(glyph.tagName) > 0) {\n      toVars = {stroke: fill, duration, ease, ...yoyoVars };\n    } else if(glyph.tagName===\"path\"){\n      const glyphClass = glyph.getAttribute('class');\n      strokeList.forEach((stroke) => {\n        if (glyphClass.includes(stroke)){\n          toVars = {stroke: fill, duration, ease, ...yoyoVars };\n        }\n      })\n    }\n\n    return gsap.to(glyph, toVars);\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\n\nexport class ShowPathTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Show-path';\n    this.parameters = [\n      new ParamDefinition('reverseDirection', ParamType.BOOLEAN, false, false),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('displayTime', ParamType.NUMBER, false, 3),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new ShowPathAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass ShowPathAnimation extends NativeAnimation {\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const {displayTime, ease, stagger, duration, reverseDirection} = this.settings;\n\n    const tl = gsap.timeline();\n    const glyphs = context.getGlyphs(this.target);\n\n    glyphs.forEach((glyph, i) => {\n      let len = 0;\n      try {\n        len = glyph.getTotalLength();\n        // eslint-disable-next-line no-empty\n      } catch(e) {\n      }\n      glyph.setAttribute('stroke-dasharray', len);\n\n      let tw;\n\n      tw = gsap.fromTo(glyph, {strokeDashoffset: reverseDirection ? -len : len},\n          {strokeDashoffset: 0, ease, duration});\n      tl.add(tw, i === 0 ? 0 : ('<' + stagger));\n\n      tw = gsap.to(glyph, {strokeDashoffset: reverseDirection ? len : -len, ease, duration});\n      tl.add(tw, '+=' + displayTime);\n    });\n\n    return tl;\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport {ArrayUtils} from \"@/utils/common/ArrayUtils\";\nimport gsap from \"gsap\";\n\nexport class HighlightTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Highlight';\n    this.parameters = [\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0)\n    ];\n  }\n\n  createAnimation() {\n    const animation = new HighlightAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass HighlightAnimation extends NativeAnimation {\n  getDefaultSettings() {\n    return {\n      duration: 1,\n      ease: 'power1.out',\n      stagger: 0\n    };\n  }\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n\n    const {ease, stagger, duration} = this.settings;\n    duration\n    let tw;\n\n    const selectGlyphs = context.getGlyphs(this.target);\n    let selectType = null;\n    for (let glyph of selectGlyphs) {\n      let type = ArrayUtils.getLastItem(glyph.classList);\n      // console.log(\"ERVIN1\", type)\n      if (selectType === null) {\n        selectType = type;\n      } else if (selectType != type) {\n        selectType = null;\n        break;\n      }\n    }\n    let selector = selectType === null ? '*' : `.${selectType}, .mark`;\n\n    const glyphs = context.getExclusiveGlyphs(this.target, selector);\n    const vars = {opacity: 0.13, ease, duration: 0.5, stagger};\n    const tl = gsap.timeline()\n\n    tw = gsap.to(glyphs, vars);\n    tw.yoyo(true);\n    tw.repeat(1);\n    tw.repeatDelay(3);\n    tl.add(tw, 0)\n\n    return tl;\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\n\nexport class CameraZoomTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Camera-zoom';\n    this.parameters = [\n      new ParamDefinition('scaleFactor', ParamType.STRING, false, 1.5),\n      new ParamDefinition('transformOrigin', ParamType.STRING, false, '50% 50%'),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new CameraMoveAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass CameraMoveAnimation extends NativeAnimation {\n  getDefaultSettings() {\n    return {transformOrigin: '50% 50%', duration: 1, ease: 'power1.out'};\n  }\n\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const {scaleFactor, transformOrigin, ease, duration} = this.settings;\n\n    let tw;\n    const scene = context.renderContext.rootSel;\n    const vars = {scale: scaleFactor, transformOrigin, ease, duration};\n    tw = gsap.to(scene.node(), vars);\n    return tw;\n  }\n}\n","export default {templateName:'Zoom-exit',parameters:[{paramName:'duration',paramType:'number',required:false,defaultValue:0.5},{paramName:'zoomEase',paramType:'string',required:false,defaultValue:'back.in'},{paramName:'FadeEase',paramType:'string',required:false,defaultValue:'power1.inOut'},{paramName:'stagger',paramType:'string',required:false,defaultValue:0}],animation:{use:'Zoom',target:'*',settings:{duration:'$duration',zoomEase:'$zoomEase',fadeEase:'$fadeEase',stagger:'$stagger',enterOrExit:'exit'}}}","export default {templateName:'basic-zoom-exit',parameters:[{paramName:'duration',paramType:'number',required:false,defaultValue:1},{paramName:'ease',paramType:'string',required:false,defaultValue:'back.in'},{paramName:'stagger',paramType:'number',required:false,defaultValue:0}],animation:{use:'basic-zoom',target:'*',settings:{duration:'$duration',ease:'$ease',stagger:'$stagger',enterOrExit:'exit'}}}","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\n\nexport class FadeOutTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Fade-out';\n    this.parameters = [\n      new ParamDefinition('duration', ParamType.NUMBER, false, 0.5),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new TemplateUsage('Fade')\n    animation.updateSettings(this.getParamValues());\n    animation.updateSettings({fadeType: 'out'});\n    return animation;\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\n\nexport class ShineTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Shine';\n    this.parameters = [\n    ]\n  }\n\n  createAnimation() {\n\n    const shine = new TemplateUsage('Change-color')\n        // .setTarget('.legend')\n        .updateSettings({\n          fill: '#fff',\n          yoyo: true,\n          stagger: 0.03\n        });\n\n    return new SyncAnimation()\n        .append(shine);\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class TitleTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Title';\n    this.parameters = [\n      new ParamDefinition('titleStagger', ParamType.NUMBER, false, 0.3),\n    ]\n  }\n\n  createAnimation() {\n    const titleFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.title,.subtitle,.main-title,.sub-title')\n      .set('stagger', this.getParamValue('titleStagger'));\n\n    return new SyncAnimation()\n        .append(titleFadeIn);\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class ChartWithoutMarkFloatInTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Axes float in';\n    this.parameters = [\n      new ParamDefinition('titleStagger', ParamType.NUMBER, false, 0.2),\n      new ParamDefinition('symbolStagger', ParamType.NUMBER, false, 0.04),\n      new ParamDefinition('axisElementStagger', ParamType.NUMBER, false, 0.04),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n    ]\n  }\n\n  createAnimation() {\n    const titleFadeIn = new TemplateUsage('Float')\n      .setTarget('.title')\n      .set('stagger', this.getParamValue('titleStagger'));\n\n    const xAxisSymbolFadeIn = new TemplateUsage('Float')\n      .setTarget('.axis.symbol')\n      .set('stagger', this.getParamValue('symbolStagger'));\n\n    const xAxisGrow = new TemplateUsage('Fade-in')\n      .setTarget('.x-axis.domain')\n      .updateSettings({ease: this.getParamValue('ease')});\n      \n    const yAxisGrow = new TemplateUsage('Fade-in')\n      .setTarget('.y-axis.domain')\n      .updateSettings({ease: this.getParamValue('ease')});    // default direction is bottom\n\n    const labelFadeIn = new TemplateUsage('Float')\n      .setTarget('.axis.label')\n      .set('stagger', this.getParamValue('axisElementStagger'))\n      .updateTiming({offset: 1});\n    const tickFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.axis.tick')\n      .set('stagger', this.getParamValue('axisElementStagger'))\n      .updateTiming({offset: 1});\n\n    return new SyncAnimation()\n      .append(titleFadeIn)\n      .append(xAxisSymbolFadeIn)\n      .append(xAxisGrow)\n      .append(yAxisGrow)\n      .append(labelFadeIn)\n      .append(tickFadeIn);\n  }\n}\n","export default {templateName:'Axes fade in',animation:{target:'*',sequence:{sync:[{use:'Fade-in',target:'.title, .subtitle, .axis, .tick-group'}]}}}","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class BarChartEnterTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Bar chart';\n    this.parameters = [\n      new ParamDefinition('barDirection', ParamType.STRING, false, 'bottom'),\n      new ParamDefinition('titleStagger', ParamType.NUMBER, false, 0.2),\n      new ParamDefinition('symbolStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('axisElementStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n    ]\n  }\n\n  createAnimation() {\n    const chartFadeIn = new TemplateUsage('Axes fade in')\n      .setTarget('.chart')\n      .updateSettings(this.getParamValues());\n\n    const barGrow = new TemplateUsage('Grow')\n      .setTarget('.bar')\n      .updateTiming({offset: 1})\n      .updateSettings({\n        ease: this.getParamValue('ease'),\n        direction: this.getParamValue('barDirection'),\n      });\n\n    const barLabelFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.bar-label,.label')\n      .updateTiming({offset: 2});\n\n    return new SyncAnimation()\n      .append(chartFadeIn)\n      .append(barGrow)\n      .append(barLabelFadeIn);\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class BarChartWithLegendEnterTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Bar chart with legend';\n    this.parameters = [\n      new ParamDefinition('barDirection', ParamType.STRING, false, 'bottom'),\n      new ParamDefinition('titleStagger', ParamType.NUMBER, false, 0.2),\n      new ParamDefinition('symbolStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('axisElementStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n    ]\n  }\n\n  createAnimation() {\n    const chartFadeIn = new TemplateUsage('Axes fade in')\n      .setTarget('.chart')\n      .updateSettings(this.getParamValues());\n\n    const legendFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.legend')\n      .updateTiming({offset: 1})\n      .updateSettings({stagger: 0.25});\n\n    const barGrow = new TemplateUsage('Grow')\n      .setTarget('.bar')\n      .updateTiming({offset: 1})\n      .updateSettings({\n        ease: this.getParamValue('ease'),\n        direction: this.getParamValue('barDirection'),\n        stagger: 0.25\n      });\n\n    const barLabelFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.bar-label,.label')\n      .updateTiming({offset: 2});\n\n    return new SyncAnimation()\n      .append(chartFadeIn)\n      .append(legendFadeIn)\n      .append(barGrow)\n      .append(barLabelFadeIn);\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class CircleChartWithLegendEnterTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Scatter chart with legend';\n    this.parameters = [\n      // new ParamDefinition('barDirection', ParamType.STRING, false, 'bottom'),\n      new ParamDefinition('titleStagger', ParamType.NUMBER, false, 0.2),\n      new ParamDefinition('symbolStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('axisElementStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n    ]\n  }\n\n  createAnimation() {\n    const chartFadeIn = new TemplateUsage('Axes fade in')\n      .setTarget('.chart')\n      .updateSettings(this.getParamValues());\n\n    const legendFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.legend')\n      .updateTiming({offset: 1})\n    \n    const circleFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.circle, .point, .scatter')\n      .updateTiming({offset: 2})\n      .updateSettings({stagger: 0.02});\n\n    const circleLabelFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.circle-label')\n      .updateTiming({offset: 3});\n\n    return new SyncAnimation()\n      .append(chartFadeIn)\n      .append(legendFadeIn)\n      .append(circleFadeIn)\n      .append(circleLabelFadeIn);\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class LineChartEnterTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Line chart';\n    this.parameters = [\n      new ParamDefinition('titleStagger', ParamType.NUMBER, false, 0.2),\n      new ParamDefinition('symbolStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('axisElementStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1.5),\n    ]\n  }\n\n  createAnimation() {\n    const chartFadeIn = new TemplateUsage('Axes fade in')\n        .setTarget('.chart')\n        .updateSettings(this.getParamValues());\n    \n  \n    const circleFadeIn = new TemplateUsage('Fade-in')\n        .setTarget('.circle, .point, .scatter')\n        .updateTiming({offset: 1})\n        .set('duration', this.getParamValue('duration'));        \n\n    const lineWipe = new TemplateUsage('Wipe')\n        .setTarget('.mark.line')\n        .updateTiming({start: 1})\n        .updateSettings({\n          stagger: 0.5,\n          ease: this.getParamValue('ease'),\n          direction: 'left',\n        });\n\n    const labelFadeIn = new TemplateUsage('Fade-in')\n        .setTarget('.mark.label')\n        .updateTiming({start: 1})\n        .updateSettings({stagger: 0.1});\n\n\n    return new SyncAnimation()\n        .append(chartFadeIn)\n        .append(circleFadeIn)\n        .append(lineWipe)\n        .append(labelFadeIn)\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class LineChartbyLegendTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Line chart by legend';\n    this.parameters = [\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1.5),\n    ]\n  }\n\n  createAnimation() {\n    const chartFadeIn = new TemplateUsage('Axes fade in')\n        .setTarget('.chart')\n        .updateSettings(this.getParamValues());\n\n    const legendFadeIn = new TemplateUsage('Fade-in')\n        .setTarget('.legend')\n        .updateTiming({offset: 1})\n        .updateSettings({stagger: 0.25});\n\n    const circleFadeIn = new TemplateUsage('Fade-in')\n        .setTarget('.circle, .point, .scatter')\n        .updateTiming({offset: 1})\n        .set('duration', this.getParamValue('duration'));\n\n    const lineWipe = new TemplateUsage('Wipe')\n        .setTarget('.mark.line')\n        .updateTiming({offset: 1})\n        .updateSettings({\n          stagger: 0.5,\n          ease: this.getParamValue('ease'),\n          direction: 'left',\n        });\n\n\n\n    return new SyncAnimation()\n        .append(chartFadeIn)\n        .append(legendFadeIn)\n        .append(circleFadeIn)\n        .append(lineWipe);\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class LineChartbyOrderTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Line chart by order';\n    this.parameters = [\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1.5),\n    ]\n  }\n\n  createAnimation() {\n    const chartFadeIn = new TemplateUsage('Axes fade in')\n        .setTarget('.chart')\n        .updateSettings(this.getParamValues());\n    \n    const legendFadeIn = new TemplateUsage('Fade-in')\n        .setTarget('.legend')\n        .updateTiming({offset: 1})\n        // .updateSettings({stagger: 0.25});\n\n    const circleFadeIn = new TemplateUsage('Fade-in')\n        .setTarget('.circle, .point, .scatter')\n        .updateTiming({offset: 1})\n        .set('duration', this.getParamValue('duration'));\n      \n    const lineWipe = new TemplateUsage('Wipe')\n        .setTarget('.mark.line')\n        .updateTiming({offset: 1})\n        .updateSettings({\n          // stagger: 0.5,\n          ease: this.getParamValue('ease'),\n          direction: 'left',\n        });\n\n\n\n    return new SyncAnimation()\n        .append(chartFadeIn)\n        .append(legendFadeIn)\n        .append(circleFadeIn)\n        .append(lineWipe);\n  }\n}\n","import { NativeTemplate } from \"@/core/entities/spec/template/NativeTemplate\";\nimport { TemplateUsage } from \"@/core/entities/spec/animation/TemplateUsage\";\nimport { SyncAnimation } from \"@/core/entities/spec/animation/SyncAnimation\";\nimport { ParamType } from \"@/core/entities/spec/parameter/ParamType\";\nimport { ParamDefinition } from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class PieChartEnterTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Pie-wheel';\n    this.parameters = [\n      new ParamDefinition('titleStagger', ParamType.NUMBER, false, 0.2),\n      new ParamDefinition('sectorStagger', ParamType.NUMBER, false, 0.1),\n      new ParamDefinition('lineStagger', ParamType.NUMBER, false, 0.1),\n      new ParamDefinition('labelStagger', ParamType.NUMBER, false, 0.1),\n    ]\n  }\n\n  createAnimation() {\n    const titleFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.title')\n      .set('stagger', this.getParamValue('titleStagger'));\n\n    const sectorWheel = new TemplateUsage('simple-sector-wheel')\n    .setTarget('.sector,.arc,.pie')\n    .set('centerSelector', '.sector,.arc,.pie')\n      .set('stagger', this.getParamValue('sectorStagger'));\n\n    const drawPath = new TemplateUsage('Draw-path')\n      .setTarget('.sector-line,.arc-line')\n      .set('stagger', this.getParamValue('lineStagger'));\n\n    const labelFloat = new TemplateUsage('Fade-in')\n      .setTarget('.sector-label,.arc-label')\n      .set('stagger', this.getParamValue('labelStagger'));\n\n    return new SyncAnimation()\n      .append(titleFadeIn)\n      .append(sectorWheel)\n      .append(drawPath)\n      .append(labelFloat);\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class BarEnterTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Bar-grow';\n    this.parameters = [\n      new ParamDefinition('barDirection', ParamType.STRING, false, 'auto'),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n    ]\n  }\n\n  createAnimation() {\n    const growBar = new TemplateUsage('Grow-bar')\n      .setTarget('.bar')\n      .updateSettings({\n        ease: this.getParamValue('ease'),\n        direction: this.getParamValue('barDirection'),\n      });\n\n    const barLabelFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.bar-label,.label')\n      .updateTiming({offset: 1});\n\n    return new SyncAnimation()\n      .append(growBar)\n      .append(barLabelFadeIn);\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class BarWithLegendEnterTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Bar with legend';\n    this.parameters = [\n      new ParamDefinition('barDirection', ParamType.STRING, false, 'bottom'),\n      new ParamDefinition('titleStagger', ParamType.NUMBER, false, 0.2),\n      new ParamDefinition('symbolStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('axisElementStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n    ]\n  }\n\n  createAnimation() {\n    const legendFadeIn = new TemplateUsage('Fade-in')\n        .setTarget('.legend')\n        // .updateTiming({offset: 2})\n        .updateSettings({stagger: 0.25});\n\n    const barGrow = new TemplateUsage('Bar-grow')\n      .setTarget('.bar')\n      .updateSettings({\n        ease: this.getParamValue('ease'),\n        direction: this.getParamValue('barDirection'),\n        stagger: 0.25\n      });\n\n    const barLabelFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.bar-label,.label')\n      .updateTiming({offset: 1});\n\n    return new SyncAnimation()\n      .append(legendFadeIn)\n      .append(barGrow)\n      .append(barLabelFadeIn);\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\n// import {NormalTarget} from \"@/core/entities/spec/Target\";\n\nexport class BarSymbolLabelEnterTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Bar with axis label';\n    this.parameters = [\n      new ParamDefinition('symbol-ease', ParamType.STRING, false, 'back.out'),\n      new ParamDefinition('bar-ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1.5),\n    ]\n  }\n\n  createAnimation() {\n    const symbolZoomEnter = new TemplateUsage('basic-zoom')\n      .setTarget('.axis.symbol')\n      .updateSettings({\n        ease: this.getParamValue('symbol-ease'),\n        duration: this.getParamValue('duration'),\n      });\n\n    const axisLabelFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.x-axis.label')\n      .set('duration', this.getParamValue('duration'));\n\n    const barGrow = new TemplateUsage('Grow')\n      .setTarget('.bar')\n      .updateSettings({\n        ease: this.getParamValue('bar-ease'),\n        duration: this.getParamValue('duration'),\n      });\n\n    const barLabelFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.bar-label,.label')\n      .set('duration', this.getParamValue('duration'));\n\n    return new SyncAnimation()\n      .append(symbolZoomEnter)\n      .append(axisLabelFadeIn)\n      .append(barGrow)\n      .append(barLabelFadeIn);\n      // .setTarget(new NormalTarget('.bar,.axis.symbol,.bar-label'));\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class CircleEnterTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Scatter-fade in';\n    this.parameters = [\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1.5),\n      new ParamDefinition('titleStagger', ParamType.NUMBER, false, 0.2),\n      new ParamDefinition('symbolStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('axisElementStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n    ]\n  }\n\n  createAnimation() {\n    const circleFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.circle, .point, .scatter')\n      .set('duration', this.getParamValue('duration'));\n\n    const circleLabelFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.circle-label,.point-label,.scatter-label')\n      .set('duration', this.getParamValue('duration'));\n\n    return new SyncAnimation()\n      .append(circleFadeIn)\n      .append(circleLabelFadeIn);\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class CircleWithLegendEnterTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Scatter with legend';\n    this.parameters = [\n      // new ParamDefinition('barDirection', ParamType.STRING, false, 'bottom'),\n      new ParamDefinition('titleStagger', ParamType.NUMBER, false, 0.2),\n      new ParamDefinition('symbolStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('axisElementStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n    ]\n  }\n\n  createAnimation() {\n    const legendFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.legend')\n      // .updateTiming({offset: 1})\n    \n    const circleFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.circle, .point, .scatter')\n      .updateTiming({offset: 1})\n      .updateSettings({stagger: 0.02});\n\n    const circleLabelFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.circle-label,.point-label,.scatter-label')\n      .updateTiming({offset: 2});\n\n    return new SyncAnimation()\n      .append(legendFadeIn)\n      .append(circleFadeIn)\n      .append(circleLabelFadeIn);\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class CircleChartEnterTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Scatter chart';\n    this.parameters = [\n      // new ParamDefinition('barDirection', ParamType.STRING, false, 'bottom'),\n      new ParamDefinition('titleStagger', ParamType.NUMBER, false, 0.2),\n      new ParamDefinition('symbolStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('axisElementStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n    ]\n  }\n\n  createAnimation() {\n    const chartFadeIn = new TemplateUsage('Axes fade in')\n      .setTarget('.chart')\n      .updateSettings(this.getParamValues());\n\n    const circleFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.circle, .point, .scatter')\n      .updateTiming({offset: 1})\n\n    const circleLabelFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.circle-label')\n      .updateTiming({offset: 2});\n\n    return new SyncAnimation()\n      .append(chartFadeIn)\n      .append(circleFadeIn)\n      .append(circleLabelFadeIn);\n  }\n}\n","export function getPosition(svg, element) {\n  const rootPoint = svg.createSVGPoint();\n  const ctm = element.getCTM();\n  const elPoint = rootPoint.matrixTransform(ctm);\n  return {x: elPoint.x, y: elPoint.y};\n}\n\nexport function getSvgBox(svg, element) {\n  const pos = getPosition(svg, element);\n  const {x, y, width, height} = element.getBBox();\n  // console.log(element, pos.x, pos.y, x, y)\n  return {\n    x: x + pos.x,\n    y: y + pos.y,\n    width,\n    height,\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport {Direction} from \"@/core/const/Direction\";\nimport gsap from \"gsap\";\nimport * as SvgUtils from \"@/core/utils/SvgUtils\";\n\nexport class GrowBarTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Grow-bar';\n    this.parameters = [\n      new ParamDefinition('barDirection', ParamType.STRING, false, 'auto'),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n    ]\n  }\n\n  createAnimation() {\n    const animation = new GrowBarAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass GrowBarAnimation extends NativeAnimation {\n  getDefaultSettings() {\n    return {direction: Direction.AUTO, ease: 'power1.out', stagger: 0, duration: 1};\n  }\n\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const {stagger, direction} = this.settings;\n    const glyphs = context.getGlyphs(this.target);\n    const tl = gsap.timeline()\n\n    if (direction === Direction.AUTO) {\n      this.settings.direction = this.inferDirection(context);\n      // console.log('computed direction for bar:', this.settings.direction)\n    }\n\n    glyphs.forEach((glyph, i) => {\n      const tw = this.createTwForOneGlyph(glyph);\n      const position = i === 0 ? 0 : ('<' + stagger);\n      tl.add(tw, position);\n    });\n    return tl;\n  }\n\n  /**\n   * @param {SVGGraphicsElement} glyph\n   * @returns {gsap.core.Tween|null}\n   */\n  createTwForOneGlyph(glyph) {\n    const {ease, duration, direction} = this.settings;\n    const bbox = glyph.getBBox();\n\n    let attrName, transFactorX, transFactorY;\n    switch (direction) {\n      case Direction.TOP:\n        attrName = 'scaleY';\n        transFactorX = 0.5;\n        transFactorY = 0;\n        break;\n      case Direction.BOTTOM:\n        attrName = 'scaleY';\n        transFactorX = 0.5;\n        transFactorY = 1;\n        break;\n      case Direction.LEFT:\n        attrName = 'scaleX';\n        transFactorX = 0;\n        transFactorY = 0.5;\n        break;\n      case Direction.RIGHT:\n        attrName = 'scaleX';\n        transFactorX = 1;\n        transFactorY = 0.5;\n        break;\n      default: return null;\n    }\n    const transformOrigin = `${transFactorX * bbox.width}px ${transFactorY * bbox.height}px`\n    const fromVars = {transformOrigin, duration, ease};\n    fromVars[attrName] = 0;\n\n    // console.log('Grow', glyph, fromVars);\n    return gsap.from(glyph, fromVars);\n  }\n\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @return Direction\n   */\n  inferDirection(context) {\n    const rootSel = context.getRootSel();\n\n    const bars = rootSel.selectAll(\".bar\");\n    const xAxisElements = rootSel.selectAll(\".x-axis\");\n\n    if (xAxisElements.length !== 0 && bars.length !== 0) {\n      return this.inferDirectionByBarsAndAxis(context, bars, xAxisElements);\n    } else if (bars.length > 1) {\n      return this.inferDirectionByBars(context, bars);\n    } else {\n      return Direction.BOTTOM;\n    }\n  }\n\n  /**\n   * Compute and set the direction using the position of bars and x-axis\n   *\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @param {d3.Selection} bars\n   * @return Direction\n   */\n  inferDirectionByBars(context, bars) {\n    const barArray = Array.from(bars.nodes());\n    const barBoxes = barArray.map(b => SvgUtils.getSvgBox(context.getRootSvg(), b));\n\n    const x0List = barBoxes.map(b => b.x);\n    const x1List = barBoxes.map(b => b.x + b.width);\n    const y0List = barBoxes.map(b => b.y);\n    const y1List = barBoxes.map(b => b.y + b.height);\n\n    // let y1 (bottom) have a higher priority\n    const varianceList = [x0List, x1List, y1List, y0List].map(lst => GrowBarAnimation.getVariance(lst));\n\n    let index = 0, minVal = varianceList[0];\n    for (let i = 1; i < 4; i++) {\n      if (varianceList[i] < minVal) {\n        minVal = varianceList[i];\n        index = i;\n      }\n    }\n\n    switch (index) {\n      case 0: return Direction.LEFT;\n      case 1: return Direction.RIGHT;\n      case 2: return Direction.BOTTOM;\n      case 3: return Direction.TOP;\n    }\n  }\n\n  /**\n   * Compute and set the direction using the position of bars and x-axis\n   *\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @param {d3.Selection} bars\n   * @param {d3.Selection} xAxisElements\n   * @return Direction\n   */\n  inferDirectionByBarsAndAxis(context, bars, xAxisElements) {\n    const barArray = Array.from(bars.nodes());\n    const xElArray = Array.from(xAxisElements.nodes());\n\n    const barBoxes = barArray.map(b => SvgUtils.getSvgBox(context.getRootSvg(), b));\n    const xElBoxes = xElArray.map(el => SvgUtils.getSvgBox(context.getRootSvg(), el));\n\n    // get the avg x y of the center of x-axis elements\n    const sumX = xElBoxes.map(box => box.x + box.width / 2)\n        .reduce((a, b) => a + b, 0);\n    const sumY = xElBoxes.map(box => box.y + box.height / 2)\n        .reduce((a, b) => a + b, 0);\n    const avgX = sumX / xElBoxes.length;\n    const avgY = sumY / xElBoxes.length;\n\n    const x0List = barBoxes.map(b => b.x);\n    const x1List = barBoxes.map(b => b.x + b.width);\n    const y0List = barBoxes.map(b => b.y);\n    const y1List = barBoxes.map(b => b.y + b.height);\n\n    const lst1 = [x0List, x1List].map(lst => GrowBarAnimation.getMSE(lst, avgX));\n    // let y1 (bottom) have a higher priority\n    const lst2 = [y1List, y0List].map(lst => GrowBarAnimation.getMSE(lst, avgY));\n    const varianceList = [...lst1, ...lst2];\n\n    // console.log('>>', {xElBoxes, barBoxes, varianceList, avgX, avgY});\n    let index = 0, minVal = varianceList[0];\n    for (let i = 1; i < 4; i++) {\n      if (varianceList[i] < minVal) {\n        minVal = varianceList[i];\n        index = i;\n      }\n    }\n\n    switch (index) {\n      case 0: return Direction.LEFT;\n      case 1: return Direction.RIGHT;\n      case 2: return Direction.BOTTOM;\n      case 3: return Direction.TOP;\n    }\n  }\n\n  /**\n   * @param {number[]} array\n   */\n  static getVariance(array) {\n    let sum = array.reduce((a, b) => a + b, 0);\n    const avg = sum / array.length;\n    return GrowBarAnimation.getMSE(array, avg);\n  }\n\n  /**\n   * @param {number[]} array\n   * @param {number} val\n   */\n  static getMSE(array, val) {\n    let sum = 0;\n    for (let i = 0; i < array.length; i++) {\n      sum += Math.pow(array[i] - val, 2);\n    }\n    return sum / array.length;\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class LineEnterTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Line-wipe';\n    this.parameters = [\n      new ParamDefinition('titleStagger', ParamType.NUMBER, false, 0.2),\n      new ParamDefinition('symbolStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('axisElementStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1.5),\n    ]\n  }\n\n  createAnimation() {\n\n    const circleFadeIn = new TemplateUsage('Fade-in')\n        .setTarget('.circle, .point, .scatter')\n        .set('duration', this.getParamValue('duration'));\n\n    const lineWipe = new TemplateUsage('Wipe')\n        .setTarget('.mark.line')\n        .updateTiming({start: 0})\n        .updateSettings({\n          // stagger: 0.5,\n          ease: this.getParamValue('ease'),\n          direction: 'left',\n        });\n\n    const labelFadeIn = new TemplateUsage('Fade-in')\n        .setTarget('.mark.label')\n        .updateTiming({start: 0});\n        // .updateSettings({stagger: 0.1});\n\n    return new SyncAnimation()\n        .append(circleFadeIn)\n        .append(lineWipe)\n        .append(labelFadeIn);\n  }\n}\n","import { NativeTemplate } from \"@/core/entities/spec/template/NativeTemplate\";\nimport { TemplateUsage } from \"@/core/entities/spec/animation/TemplateUsage\";\nimport { SyncAnimation } from \"@/core/entities/spec/animation/SyncAnimation\";\nimport { ParamType } from \"@/core/entities/spec/parameter/ParamType\";\nimport { ParamDefinition } from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class LinebyLegendTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Lines by legend';\n    this.parameters = [\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1.5),\n    ]\n  }\n\n  createAnimation() {\n    const legendFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.legend')\n      .updateSettings({ stagger: 0.25 });\n\n    const circleFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.circle, .point, .scatter')\n      .set('duration', this.getParamValue('duration'));\n\n    const lineWipe = new TemplateUsage('Wipe')\n      .setTarget('.mark.line')\n      .updateSettings({\n        stagger: 0.5,\n        ease: this.getParamValue('ease'),\n        direction: 'left',\n      });\n\n    return new SyncAnimation()\n      .append(legendFadeIn)\n      .append(circleFadeIn)\n      .append(lineWipe);\n  }\n}\n","import { NativeTemplate } from \"@/core/entities/spec/template/NativeTemplate\";\nimport { TemplateUsage } from \"@/core/entities/spec/animation/TemplateUsage\";\nimport { SyncAnimation } from \"@/core/entities/spec/animation/SyncAnimation\";\nimport { ParamType } from \"@/core/entities/spec/parameter/ParamType\";\nimport { ParamDefinition } from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class LinebyOrderTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Lines by order';\n    this.parameters = [\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1.5),\n    ]\n  }\n\n  createAnimation() {\n    const legendFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.legend')\n    // .updateSettings({stagger: 0.25});\n\n    const circleFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.circle, .point, .scatter')\n      .set('duration', this.getParamValue('duration'));\n\n    const lineWipe = new TemplateUsage('Wipe')\n      .setTarget('.mark.line')\n      .updateSettings({\n        // stagger: 0.5,\n        ease: this.getParamValue('ease'),\n        direction: 'left',\n      });\n\n\n    return new SyncAnimation()\n      .append(legendFadeIn)\n      .append(circleFadeIn)\n      .append(lineWipe);\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class LineHighlightTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Line-highlight';\n    this.parameters = [\n      new ParamDefinition('titleStagger', ParamType.NUMBER, false, 0.2),\n      new ParamDefinition('symbolStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('axisElementStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      // new ParamDefinition('duration', ParamType.NUMBER, false, 1.5),\n    ]\n  }\n\n  createAnimation() {\n    const lineWipe = new TemplateUsage('Draw-path')\n        .setTarget('.mark.line');\n\n    // const linehighlight = new TemplateUsage('custom-effect')\n    //     .setTarget('.mark.line')\n    //     .updateSettings({\n    //       opacity: 0.2,\n    //       transform: {type: 'filter', expr: '@datum.name !== \"$dataName\"'},\n    //     });\n\n    return new SyncAnimation()\n        .append(lineWipe)\n        // .append(linehighlight)\n        ;\n  }\n}\n","import { NativeTemplate } from \"@/core/entities/spec/template/NativeTemplate\";\nimport { TemplateUsage } from \"@/core/entities/spec/animation/TemplateUsage\";\nimport { SyncAnimation } from \"@/core/entities/spec/animation/SyncAnimation\";\nimport { ParamType } from \"@/core/entities/spec/parameter/ParamType\";\nimport { ParamDefinition } from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class PieWithLegendEnterTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Pie with legend';\n    this.parameters = [\n      // new ParamDefinition('titleStagger', ParamType.NUMBER, false, 0.2),\n      new ParamDefinition('sectorStagger', ParamType.NUMBER, false, 1),\n      new ParamDefinition('legendStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('labelStagger', ParamType.NUMBER, false, 1),\n    ]\n  }\n\n  createAnimation() {\n    // const titleFadeIn = new TemplateUsage('Fade-in')\n    //   .setTarget('.title')\n    //   .set('stagger', this.getParamValue('titleStagger'));\n\n    const sectorWheel = new TemplateUsage('simple-sector-wheel')\n    .setTarget('.sector,.arc,.pie')\n    .set('centerSelector', '.sector,.arc,.pie')\n    // .set('stagger', this.getParamValue('sectorStagger'))\n    .set('duration', 1);\n      // .updateTiming({start: -1});\n\n    // const drawPath = new TemplateUsage('Draw-path')\n    //   .setTarget('.sector-line,.arc-line')\n    //   .set('stagger', this.getParamValue('lineStagger'));\n\n    const labelFloat = new TemplateUsage('Fade-in')\n      .setTarget('.sector-label,.arc-label,.label');\n      // .updateTiming({start: -1});\n      // .set('stagger', this.getParamValue('labelStagger'));\n\n    const legendFlyIn = new TemplateUsage('Fly-in')\n      .setTarget('.legend');\n      // .updateTiming({start: -2});\n      // .set('stagger', this.getParamValue('legendStagger'));\n\n    return new SyncAnimation()\n      // .append(titleFadeIn)\n      .append(legendFlyIn)\n      .append(sectorWheel)\n      .append(labelFloat);\n  }\n}\n","import { NativeTemplate } from \"@/core/entities/spec/template/NativeTemplate\";\nimport { TemplateUsage } from \"@/core/entities/spec/animation/TemplateUsage\";\nimport { ParamType } from \"@/core/entities/spec/parameter/ParamType\";\nimport { ParamDefinition } from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport { NormalTarget } from \"@/core/entities/spec/Target\";\nimport { ConcatAnimation } from \"@/core/entities/spec/animation/ConcatAnimation\";\n\nexport class ShowAnnoZoomTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'show-annotation-zoom';\n    this.parameters = [\n      new ParamDefinition('displayTime', ParamType.NUMBER, false, 3),\n      new ParamDefinition('enter-ease', ParamType.STRING, false, 'back.out'),\n      new ParamDefinition('exit-ease', ParamType.STRING, false, 'back.in'),\n      new ParamDefinition('effect-duration', ParamType.NUMBER, false, 1),\n    ]\n  }\n\n  createAnimation() {\n    const zoomEnter = new TemplateUsage()\n      .useTemplate('Zoom-enter')\n      .set('Zoom-ease', this.getParamValue('enter-ease'))\n      .set('duration', this.getParamValue('effect-duration'));\n\n    const zoomExit = new TemplateUsage()\n      .useTemplate('Zoom-exit')\n      .set('Zoom-ease', this.getParamValue('exit-ease'))\n      .set('duration', this.getParamValue('effect-duration'))\n      .updateTiming({ offset: this.getParamValue('displayTime') });\n\n    return new ConcatAnimation()\n      .append(zoomEnter)\n      .append(zoomExit)\n      .setTarget(new NormalTarget('.annotation'));\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NormalTarget} from \"@/core/entities/spec/Target\";\n\nexport class ShowArrowLabelAnnoTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Show-arrow-label';\n    this.parameters = [\n      new ParamDefinition('distance', ParamType.NUMBER, false, 30),\n      new ParamDefinition('displayTime', ParamType.NUMBER, false, 3),\n      new ParamDefinition('effect-duration', ParamType.NUMBER, false, 1.5),\n    ]\n  }\n\n  createAnimation() {\n    const arrowFloatEnter = new TemplateUsage()\n      .useTemplate('Float')\n      .setTarget('.arrow')\n      .set('distance', this.getParamValue('distance'))\n      .set('duration', this.getParamValue('effect-duration'));\n\n    const labelFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.label,.text')\n      .set('duration', this.getParamValue('effect-duration'));\n\n    const fadeOut = new TemplateUsage()\n      .useTemplate('Fade-out')\n      .setTarget('*')\n      .updateTiming({start: this.getParamValue('displayTime')})\n\n    return new SyncAnimation()\n      .append(arrowFloatEnter)\n      .append(labelFadeIn)\n      .append(fadeOut)\n      .setTarget(new NormalTarget('.annotation'));\n  }\n}\n","import { NativeTemplate } from \"@/core/entities/spec/template/NativeTemplate\";\nimport { ParamType } from \"@/core/entities/spec/parameter/ParamType\";\nimport { ParamDefinition } from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport { NativeAnimation } from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\nimport { computeUUID } from \"@/core/utils/uuid\";\nimport { ANNOTATION_CLASS } from \"@/core/const/Element\";\nimport * as d3 from 'd3';\n\nexport class CircleTemplate extends NativeTemplate {\n    constructor() {\n        super();\n        this.templateName = 'Circle';\n        this.parameters = [\n            new ParamDefinition('reverseDirection', ParamType.BOOLEAN, false, false),\n            new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n            new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n            new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n            new ParamDefinition('displayTime', ParamType.NUMBER, false, 3),\n            new ParamDefinition('r', ParamType.NUMBER, false, 15),\n            new ParamDefinition('stroke', ParamType.STRING, false, \"#000\"),\n        ];\n    }\n\n    createAnimation() {\n        const animation = new CircleAnimation();\n        // transfer template settings to this native animation instance\n        // as their parameters are the same\n        animation.updateSettings(this.getParamValues());\n        return animation;\n    }\n}\n\nclass CircleAnimation extends NativeAnimation {\n    /**\n     * @param {import('@/core/entities/context/Context').Context} context\n     * @returns {gsap.core.Timeline | gsap.core.Tween}\n     */\n    create(context) {\n        const {displayTime, ease, stagger, duration, reverseDirection, r, stroke} = this.settings;\n        reverseDirection\n        const glyphs = context.getGlyphs(this.target);\n        const tl = gsap.timeline()\n        glyphs.forEach((glyph, i) => {\n            const circle = this.addMaskRectToGlyph(context, glyph, r, stroke);\n\n            // const vars = {opacity: 0, ease, duration, stagger};\n            // let tw;\n            // tw = gsap.from(circle, vars);\n            // tl.add(tw, i === 0 ? 0 : ('<' + stagger));\n            // tw = gsap.to(circle, vars);\n            // tl.add(tw, '+=' + displayTime);\n\n            let len = 0;\n            try {\n                len = circle.getTotalLength();\n                // eslint-disable-next-line no-empty\n            } catch(e) {\n            }\n            circle.setAttribute('stroke-dasharray', len);\n\n            let tw;\n\n            tw = gsap.fromTo(circle, {strokeDashoffset: reverseDirection ? -len : len},\n                {strokeDashoffset: 0, ease, duration});\n            tl.add(tw, i === 0 ? 0 : ('<' + stagger));\n\n            tw = gsap.to(circle, {strokeDashoffset: reverseDirection ? len : -len, ease, duration});\n            tl.add(tw, '+=' + displayTime);\n        })\n        return tl;\n    }\n\n    /**\n     * @param {import('@/core/entities/context/Context').Context} context\n     * @param {SVGGraphicsElement} glyph\n     * @returns {SVGGraphicsElement} the mask rect of glyph\n     */\n     addMaskRectToGlyph(context, glyph, r, stroke) {\n        if (!glyph.getAttribute('id')) {\n          glyph.setAttribute('id', computeUUID());\n        }\n\n        // const {x, y, width, height} = context.getBBoxPosition(glyph);\n        // const root_sel = context.getRootSel();\n        // const el_sel = root_sel.select('svg').node() ? root_sel.select('svg') : root_sel;\n        let newMaskRect = d3.select(glyph.parentNode).append('ellipse')\n            // let a = d3.select(sel.parentNode).append('rect')\n            .attr('transform', glyph.getAttribute('transform')+ 'translate(0,0)')\n            .classed(ANNOTATION_CLASS, true)\n            .attr('rx', r-3)\n            .attr('ry', r-3)\n            .attr('stroke-width', 2.5)\n            .attr('fill', 'none')\n            .attr('stroke', stroke);\n\n        // let newMaskRect = root_sel.select('svg').append('rect')\n        //     // let a = d3.select(sel.parentNode).append('rect')\n        //     .attr('transform', 'translate(' + [x, y] + ')')\n        //     .classed(ANNOTATION_CLASS, true)\n        //     .attr('width', width)\n        //     .attr('height', height)\n        //     .attr('stroke-width', 2)\n        //     .attr('fill', 'none')\n        //     .attr('stroke', 'black')\n\n        return newMaskRect.node();\n      }\n}\n","import { NativeTemplate } from \"@/core/entities/spec/template/NativeTemplate\";\nimport { ParamType } from \"@/core/entities/spec/parameter/ParamType\";\nimport { ParamDefinition } from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport { NativeAnimation } from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\nimport { ANNOTATION_CLASS } from \"@/core/const/Element\";\n\nexport class ArrowTemplate extends NativeTemplate {\n    constructor() {\n        super();\n        this.templateName = 'Arrow';\n        this.parameters = [\n            new ParamDefinition('reverseDirection', ParamType.BOOLEAN, false, false),\n            new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n            new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n            new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n            new ParamDefinition('displayTime', ParamType.NUMBER, false, 3),\n            new ParamDefinition('x', ParamType.NUMBER, false, 50),\n            new ParamDefinition('y', ParamType.NUMBER, false, 50),\n            new ParamDefinition('color', ParamType.STRING, false, \"#000\"),\n            new ParamDefinition('scale', ParamType.NUMBER, false, 1),\n        ];\n    }\n\n    createAnimation() {\n        const animation = new ArrowAnimation();\n        // transfer template settings to this native animation instance\n        // as their parameters are the same\n        animation.updateSettings(this.getParamValues());\n        return animation;\n    }\n}\n\nclass ArrowAnimation extends NativeAnimation {\n    /**\n     * @param {import('@/core/entities/context/Context').Context} context\n     * @returns {gsap.core.Timeline | gsap.core.Tween}\n     */\n    create(context) {\n        const {displayTime, ease, duration, reverseDirection, x, y, color, scale} = this.settings;\n        reverseDirection\n        const tl = gsap.timeline()\n        const root_sel = context.getRootSel();\n        // console.log(`scale(${(reverseDirection? -1: 1)*scale}, ${scale})`)\n        const el_sel = root_sel.select('svg').node() ? root_sel.select('svg') : root_sel;\n        let newMaskRect = el_sel.append('path')\n            // let a = d3.select(sel.parentNode).append('rect')\n            .attr('transform', `translate(${x}, ${y}), scale(${scale}, ${(reverseDirection? -1: 1)*scale})`)\n            .classed(ANNOTATION_CLASS, true)\n            .attr('d', 'M16 9L12 5M12 5L8 9M12 5V19')\n            .attr('stroke-width', 2)\n            .attr('stroke-linecap', 'round')\n            .attr('fill', 'none')\n            .attr('stroke', color);\n        const arrow = newMaskRect.node()\n\n        let tw;\n        tw = gsap.fromTo(arrow, {opacity: 0}, {opacity: 1, ease, duration});\n        tl.add(tw, 0);\n        tw = gsap.to(arrow, {opacity: 0, ease, duration});\n\n        tl.add(tw, '+=' + displayTime);\n        return tl;\n    }\n}\n","import { NativeTemplate } from \"@/core/entities/spec/template/NativeTemplate\";\nimport { ParamType } from \"@/core/entities/spec/parameter/ParamType\";\nimport { ParamDefinition } from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport { NativeAnimation } from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\n\n\nexport class TextTemplate extends NativeTemplate {\n    constructor() {\n        super();\n        this.templateName = 'Text';\n        this.parameters = [\n            new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n            new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n            new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n            new ParamDefinition('displayTime', ParamType.NUMBER, false, 3),\n            new ParamDefinition('x', ParamType.NUMBER, false, 50),\n            new ParamDefinition('y', ParamType.NUMBER, false, 50),\n            new ParamDefinition('fontSize', ParamType.NUMBER, false, 20),\n            new ParamDefinition('fill', ParamType.STRING, false, \"#000\"),\n            new ParamDefinition('textContent', ParamType.STRING, false, \"text\"),\n        ];\n    }\n\n    createAnimation() {\n        const animation = new TextAnimation();\n        animation.updateSettings(this.getParamValues());\n        return  animation\n    }\n}\n\nclass TextAnimation extends NativeAnimation {\n    /**\n     * @param {import('@/core/entities/context/Context').Context} context\n     * @returns {gsap.core.Timeline | gsap.core.Tween}\n     */\n    create(context) {\n        const {displayTime, ease, duration,  x, y, fill, fontSize, textContent} = this.settings;\n        const tl = gsap.timeline()\n        const root_sel = context.getRootSel();\n        // console.log(`scale(${(reverseDirection? -1: 1)*scale}, ${scale})`)\n        const el_sel = root_sel.select('svg').node() ? root_sel.select('svg') : root_sel;\n        let newMaskRect = el_sel.append('text')\n            .text(textContent)\n            .classed(`anno-text-${textContent}`, true)\n            .attr(\"x\", x)\n            .attr(\"y\", y)\n            .attr(\"font-size\", fontSize)\n            .attr('fill', fill);\n        const text = newMaskRect.node()\n\n        let tw;\n        tw = gsap.fromTo(text, {opacity: 0}, {opacity: 1, ease, duration});\n        tl.add(tw, 0);\n        tw = gsap.to(text, {opacity: 0, ease, duration});\n\n        tl.add(tw, '+=' + displayTime);\n        return tl;\n    }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\nimport * as d3 from 'd3';\nimport { ANNOTATION_CLASS } from \"@/core/const/Element\";\n\nexport class ContourTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Contour';\n    this.parameters = [\n      new ParamDefinition('reverseDirection', ParamType.BOOLEAN, false, false),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('displayTime', ParamType.NUMBER, false, 3),\n      new ParamDefinition('stroke', ParamType.STRING, false, \"#ff0\"),\n      new ParamDefinition('customTransform', ParamType.STRING, false, \"\"),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new ContourAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass ContourAnimation extends NativeAnimation {\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const {displayTime, ease, stagger, duration, reverseDirection, stroke, customTransform} = this.settings;\n\n    const tl = gsap.timeline();\n    const glyphs = context.getGlyphs(this.target);\n\n    glyphs.forEach((glyph, i) => {\n      if(!glyph.getAttribute('id').includes('label')) {\n        const contour = this.addMaskRectToGlyph(glyph, stroke, customTransform);\n        let len = 0;\n        try {\n          len = glyph.getTotalLength();\n          // eslint-disable-next-line no-empty\n        } catch(e) {\n        }\n        contour.setAttribute('stroke-dasharray', len);\n\n        let tw;\n\n        tw = gsap.fromTo(contour, {strokeDashoffset: reverseDirection ? -len : len},\n            {strokeDashoffset: 0, ease, duration});\n        tl.add(tw, i === 0 ? 0 : ('<' + stagger));\n\n        tw = gsap.to(contour, {strokeDashoffset: reverseDirection ? len : -len, ease, duration});\n        tl.add(tw, '+=' + displayTime);\n      }\n      else{\n        return\n      }\n    });\n\n    return tl;\n  }\n  /**\n     * @param {import('@/core/entities/context/Context').Context} context\n     * @param {SVGGraphicsElement} glyph\n     * @returns {SVGGraphicsElement} the mask rect of glyph\n     */\n  addMaskRectToGlyph(glyph, stroke, customTransform) {\n    console.log(glyph)\n    let newMaskRect = d3.select(glyph.parentNode).append('path')\n        .attr('d', glyph.getAttribute('d'))\n        .classed(ANNOTATION_CLASS, true)\n        .attr('stroke-linejoin', \"round\")\n        .attr('stroke-width', 3)\n        .attr('fill', 'none')\n        .attr('stroke', stroke);\n    if(customTransform === \"\") {\n      newMaskRect.attr('transform', glyph.getAttribute('transform'))\n    }\n    else if(customTransform !== \"none\"){\n      newMaskRect.attr('transform', customTransform)\n    }\n\n    return newMaskRect.node();\n  }\n}\n","export default {templateName:'Fade-in-then-fade-out',parameters:[{paramName:'displayTime',paramType:'number',required:false,defaultValue:3}],animation:{target:'*',sequence:{sync:[{use:'Fade-in'},{use:'Fade-out',timing:{offset:'$displayTime'}}]}}}","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\n\nexport class DynamicNumberTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Dynamic-number';\n    this.parameters = [\n      new ParamDefinition('start', ParamType.NUMBER, false, 0),\n      new ParamDefinition('end', ParamType.NUMBER, false, '@num'),\n      new ParamDefinition('formatter', ParamType.STRING, false, 'auto'),\n      new ParamDefinition('toFixed', ParamType.NUMBER, false, 0),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 2),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power3.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new DynamicNumberAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass DynamicNumberAnimation extends NativeAnimation {\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const {start, end, formatter, toFixed, ease, stagger, duration} = this.settings;\n\n    const tl = gsap.timeline();\n    const glyphs = context.getGlyphs(this.target);\n    glyphs.forEach((glyph) => {\n\n      let newFormatter\n      if (formatter === 'auto') {\n        const group = glyph.innerHTML.match(/([^\\d]*)(\\d+)(.*)/)\n        if (group) {\n          newFormatter = group[1] + '@num' + group[3];\n        } else {\n          newFormatter = '@num';\n        }\n      } else if (formatter.includes('@num')) {\n        newFormatter = formatter;\n      } else {\n        newFormatter = '@num';\n      }\n\n      // console.log('>>>', {formatter, newFormatter, innerHTML: glyph.innerHTML})\n\n      // parse from html if giving a reg string\n      let computedStart = start, computedEnd = end;\n      if (start === '@num' || end === '@num') {\n        const group = glyph.innerHTML.match(newFormatter.replace('@num', '([\\\\d.]+)'))\n        if (start === '@num') {\n          computedStart = parseFloat(group[1]);\n        }\n        if (end === '@num') {\n          computedEnd = parseFloat(group[1]);\n        }\n      }\n\n      // let newToFixed;\n      // if (toFixed === 'auto') {\n      //   const group = glyph.innerHTML.match(/([\\d]+)\\.([\\d]+)/)\n      //   if (group) {\n      //     newToFixed = group[2].length\n      //   } else {\n      //     newToFixed = 0;\n      //   }\n      // } else if (typeof toFixed === 'number') {\n      //   newToFixed = toFixed\n      // } else {\n      //   newToFixed = 0;\n      // }\n\n      // console.log('>>>', {formatter, newFormatter, innerHTML: glyph.innerHTML, computedStart, computedEnd})\n\n      let tw;\n      const tempNumObj = {tempNum: computedStart};\n      const onUpdate = () => {\n        const num = tempNumObj.tempNum.toFixed(toFixed);\n        const text = newFormatter.replaceAll('@num', num);\n        glyphs.forEach(glyph => glyph.innerHTML = text);\n      }\n      onUpdate();   // call it firstly\n      tw = gsap.to(tempNumObj, {tempNum: computedEnd, ease, duration, onUpdate});\n\n      // console.log('dynamic number', glyphs, tw);\n      tl.add(tw, '<' + stagger);\n    })\n\n    return tl;\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {ConcatAnimation} from \"@/core/entities/spec/animation/ConcatAnimation\";\n\nexport class ZoomInThenZoomOutTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Zoom-in-then-zoom-out';\n    this.parameters = [\n      new ParamDefinition('displayTime', ParamType.STRING, false, 3),\n    ];\n  }\n\n  createAnimation() {\n    const zoomIn = new TemplateUsage('Zoom-enter');\n    const zoomOut = new TemplateUsage('Zoom-exit')\n      .updateTiming({offset: this.getParamValue('displayTime')});\n    return new ConcatAnimation([zoomIn, zoomOut]);\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\n\nexport class CustomEffectTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'custom-effect';\n    this.parameters = [\n      new ParamDefinition('attr', ParamType.STRING_OR_ARRAY),\n      new ParamDefinition('from', ParamType.ANY, false, null),\n      new ParamDefinition('to', ParamType.ANY, false, null),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n    ];\n  }\n\n  isValid() {\n    if (!super.isValid()) {\n      return false;\n    }\n    const p = this.getParamValues();\n    if (!p.attr) {\n      return false;\n    }\n    if (!Array.isArray(p.attr)) {\n      return p.from !== null || p.to !== null;\n    } else {\n      if (p.from !== null && p.to !== null) {\n        return Array.isArray(p.from) && p.from.length === p.attr.length\n            && Array.isArray(p.to) && p.to.length === p.attr.length;\n      } else if (p.from !== null) {\n        return Array.isArray(p.from) && p.from.length === p.attr.length;\n      } else if (p.to !== null) {\n        return Array.isArray(p.to) && p.to.length === p.attr.length;\n      }\n      return false;\n    }\n  }\n\n  createAnimation() {\n    const animation = new CustomEffectAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass CustomEffectAnimation extends NativeAnimation {\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const {attr, from, to, ease, stagger} = this.settings;\n    const {duration, yoyo} = this.timing.getComputedTiming();\n    const glyphs = context.getGlyphs(this.target);\n\n    let attrArray, fromArray, toArray;\n    let tw;\n\n    if (!Array.isArray(attr)) {\n      attrArray = [attr];\n      if (from !== null) {\n        fromArray = [from];\n      }\n      if (to !== null) {\n        toArray = [to];\n      }\n    } else {\n      attrArray = attr;\n      fromArray = from;\n      toArray = to;\n    }\n\n    const merge = (target, keys, values) => keys.forEach((k, i) => target[k] = values[i]);\n\n    if (from != null && to != null) {\n      const fromVars = {};\n      merge(fromVars, attrArray, fromArray);\n      const toVars = {ease, duration, stagger};\n      merge(toVars, attrArray, toArray);\n      tw = gsap.fromTo(glyphs, fromVars, toVars);\n\n    } else if (from != null) {\n      const fromVars = {ease, duration, stagger};\n      merge(fromVars, attrArray, fromArray);\n      tw = gsap.from(glyphs, fromVars);\n\n    } else if (to != null) {\n      const toVars = {ease, duration, stagger};\n      merge(toVars, attrArray, toArray);\n      tw = gsap.to(glyphs, toVars);\n\n    } else {\n      return null;\n    }\n\n    if (yoyo) {\n      tw.yoyo(true);\n      tw.repeat(yoyo.repeat);\n      tw.repeatDelay(yoyo.delay);\n    }\n\n    return tw;\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\n\nexport class FadeTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Fade';\n    this.parameters = [\n      new ParamDefinition('FadeType', ParamType.STRING, false, 'in'),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new FadeAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass FadeAnimation extends NativeAnimation {\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const {fadeType, ease, stagger, duration} = this.settings;\n\n    let tw;\n    const glyphs = context.getGlyphs(this.target);\n    const vars = {opacity: 0, ease, duration, stagger};\n    if (fadeType === 'in') {\n      tw = gsap.from(glyphs, vars);\n    } else if (fadeType === 'out') {\n      tw = gsap.to(glyphs, vars);\n    } else {\n      console.warn(\"Wrong value of fadeType: \" + fadeType);\n      return null;\n    }\n\n    // console.log('Fade', glyphs, vars);\n    return tw;\n  }\n}\n","export default {templateName:'Zoom-enter',parameters:[{paramName:'duration',paramType:'number',required:false,defaultValue:0.5},{paramName:'zoomEase',paramType:'string',required:false,defaultValue:'back.out'},{paramName:'FadeEase',paramType:'string',required:false,defaultValue:'power1.inOut'},{paramName:'stagger',paramType:'string',required:false,defaultValue:0}],animation:{use:'Zoom',target:'*',settings:{duration:'$duration',zoomEase:'$zoomEase',fadeEase:'$fadeEase',stagger:'$stagger',enterOrExit:'enter'}}}","export default {templateName:'Basic-zoom-enter',parameters:[{paramName:'duration',paramType:'number',required:false,defaultValue:1},{paramName:'ease',paramType:'string',required:false,defaultValue:'back.out'},{paramName:'stagger',paramType:'number',required:false,defaultValue:0}],animation:{use:'basic-zoom',target:'*',settings:{duration:'$duration',ease:'$ease',stagger:'$stagger',enterOrExit:'enter'}}}","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NormalTarget} from \"@/core/entities/spec/Target\";\n\nexport class BarSymbolLabelBounceTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Bar-bounce';\n    this.parameters = [\n      new ParamDefinition('symbol-ease', ParamType.STRING, false, 'back.out'),\n      new ParamDefinition('bar-ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1.5),\n    ]\n  }\n\n  createAnimation() {\n    // const symbolZoomEnter = new TemplateUsage('basic-zoom')\n    //   .setTarget('.axis.symbol')\n    //   .updateSettings({\n    //     ease: this.getParamValue('symbol-ease'),\n    //     duration: this.getParamValue('duration'),\n    //   });\n\n    // const axisLabelFadeIn = new TemplateUsage('Fade-in')\n    //   .setTarget('.x-axis.label')\n    //   .set('duration', this.getParamValue('duration'));\n\n    const barBonce = new TemplateUsage('Move-to')\n    .setTarget('.bar')\n    .updateSettings({\n      y: '-=15',\n      yoyo: true,\n    })\n\n    const barLabelBource = new TemplateUsage('Move-to')\n      .setTarget('.bar-label,.label')\n      .updateTiming({start: 0.4})\n      .updateSettings({\n        y: '-=15',\n        yoyo: true,\n      });\n\n    return new SyncAnimation()\n      // .append(symbolZoomEnter)\n      // .append(axisLabelFadeIn)\n      .append(barBonce)\n      .append(barLabelBource)\n      .setTarget(new NormalTarget('.bar,.axis.symbol,.bar-label,.label'));\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class BarChartWithAxisLabelEnterTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Bar chart with axis label';\n    this.parameters = [\n      new ParamDefinition('barDirection', ParamType.STRING, false, 'bottom'),\n      new ParamDefinition('titleStagger', ParamType.NUMBER, false, 0.2),\n      new ParamDefinition('symbolStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('axisElementStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n    ]\n  }\n\n  createAnimation() {\n    const chartFadeIn = new TemplateUsage('Axes fade in')\n      .setTarget('.chart')\n      .updateSettings(this.getParamValues());\n\n    const barGrow = new TemplateUsage('Grow')\n      .setTarget('.bar')\n      .updateTiming({offset: 2})\n      .updateSettings({\n        ease: this.getParamValue('ease'),\n        direction: this.getParamValue('barDirection'),\n      });\n\n    const barLabelFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.bar-label,.label')\n      .updateTiming({offset: 3});\n\n    return new SyncAnimation()\n      .append(chartFadeIn)\n      .append(barGrow)\n      .append(barLabelFadeIn);\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\nimport {Timing} from \"@/core/entities/spec/Timing\";\n\nexport class MoveTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'move';\n    this.parameters = [\n      new ParamDefinition('from', ParamType.OBJECT, false, null),\n      new ParamDefinition('to', ParamType.OBJECT, false, null),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('yoyo', ParamType.OBJECT, false, null),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new MoveAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass MoveAnimation extends NativeAnimation {\n  getDefaultSettings() {\n    return {duration: 1, ease: 'power1.out', stagger: 0, yoyo: null};\n  }\n\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const {from, to, ease, stagger} = this.settings;\n    let {duration, yoyo} = this.settings;\n\n    let tw;\n    const glyphs = context.getGlyphs(this.target);\n\n    const yoyoVars = {};\n    if (yoyo) {\n      if (yoyo === true) {\n        // not object, use default\n        yoyo = Timing.getDefaultYoyo();\n      }\n      yoyoVars.yoyo = true;\n      yoyoVars.repeat = yoyo.repeat;\n      yoyoVars.repeatDelay = yoyo.delay;\n      duration /= (yoyoVars.repeat + 1);\n    }\n\n    if (from != null && to != null) {\n      const fromVars = {...from};\n      const toVars = {...to, ease, duration, stagger, ...yoyoVars};\n      tw = gsap.fromTo(glyphs, fromVars, toVars);\n\n    } else if (from != null) {\n      const fromVars = {...from, ease, duration, stagger, ...yoyoVars};\n      tw = gsap.from(glyphs, fromVars);\n\n    } else if (to != null) {\n      const toVars = {...to, ease, duration, stagger, ...yoyoVars};\n      tw = gsap.to(glyphs, toVars);\n\n    } else {\n      return null;\n    }\n\n    return tw;\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\nimport * as d3 from 'd3';\nimport {computeUUID} from \"@/core/utils/uuid\";\nimport {CLIP_PATH_CLASS} from \"@/core/const/Element\";\n\nexport class WheelTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'wheel';\n    this.parameters = [\n      new ParamDefinition('enterOrExit', ParamType.STRING, false, 'enter'),\n      new ParamDefinition('direction', ParamType.STRING, false, 'clockwise'),\n      new ParamDefinition('center', ParamType.STRING, false, '50% 50%'),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('startAngle', ParamType.NUMBER, false, 0),\n      new ParamDefinition('sweepAngle', ParamType.NUMBER, false, 360),\n      new ParamDefinition('grouped', ParamType.BOOLEAN, false, false),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new WheelAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass WheelAnimation extends NativeAnimation {\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const glyphs = context.getGlyphs(this.target);\n    const defs = context.getDefsSel();\n    const tl = gsap.timeline()\n    const {grouped, stagger} = this.settings;\n\n    if (glyphs.length === 0) {\n      return null;\n    }\n\n    if (!grouped || glyphs.length === 1) {\n      glyphs.forEach((glyph, i) => {\n        const clip = this.addClipPathToGlyph(defs, glyph);\n        const tw = this.createTwForClip(clip, glyph);\n        const position = i === 0 ? 0 : ('<' + stagger);\n        tl.add(tw, position);\n      })\n    } else {\n      // need to be regard as an entirety\n      const clip = this.addClipPathToEntirety(defs, glyphs);\n      const tw = this.createTwForClipEntirety(clip, glyphs);\n      tl.add(tw);\n    }\n\n    return tl;\n  }\n\n  /**\n   * @param {d3.Selection} defs\n   * @param {SVGGraphicsElement} glyph\n   * @returns {SVGGraphicsElement} the clip path of glyph\n   */\n  addClipPathToGlyph(defs, glyph) {\n    if (!glyph.getAttribute('id')) {\n      glyph.setAttribute('id', computeUUID());\n    }\n    const clipId = 'clip-path-' + glyph.getAttribute('id');\n    let clip = defs.select(`#${clipId}`);\n    if (clip.empty()) {\n      clip = defs.append('clipPath')\n          .attr('id', clipId)\n          .classed(CLIP_PATH_CLASS, true);\n      glyph.setAttribute('clip-path', `url(#${clipId})`);\n    }\n    const wheelPathSel = clip.select('.wheel');\n    if (!wheelPathSel.empty()) {\n      return wheelPathSel.node();\n    }\n\n    let strokeWidth = parseFloat(glyph.getAttribute('stroke-width') ?? '0');\n    d3.select(glyph).selectAll('*').each(function () {\n      const tempWidth = parseFloat(this.getAttribute('stroke-width') ?? '0');\n      strokeWidth = Math.max(tempWidth, strokeWidth);\n    });\n\n    const newClipPath = clip.append('path')\n        .attr('class', 'wheel')\n        .attr('d', '')\n\n    return newClipPath.node();\n  }\n\n  /**\n   * @param {d3.Selection} defs\n   * @param {SVGGraphicsElement[]} glyphs\n   * @returns {SVGGraphicsElement} the clip path of glyph\n   */\n  // eslint-disable-next-line no-unused-vars\n  addClipPathToEntirety(defs, glyphs) {\n    // let x = Infinity, y = Infinity, width = 0, height = 0;\n    // glyphs.forEach(glyph => {\n    //   const bbox = glyph.getBBox();\n    //   x = Math.min(bbox.x);\n    //   y = Math.min(bbox.y);\n    //   width = Math.max(bbox.x + bbox.width - x);\n    //   height = Math.max(bbox.y + bbox.height - y);\n    // });\n    //\n    // const clipId = 'clip-path-' + glyph.getAttribute('id');\n    // let clip = defs.select(`#${clipId}`);\n    // if (clip.empty()) {\n    //   clip = defs.append('clipPath')\n    //       .attr('id', clipId)\n    //       .classed(CLIP_PATH_CLASS, true);\n    //   glyph.setAttribute('clip-path', `url(#${clipId})`);\n    // }\n    //\n    // let strokeWidth = parseFloat(glyph.getAttribute('stroke-width') ?? '0');\n    // d3.select(glyph).selectAll('*').each(function () {\n    //   const tempWidth = parseFloat(this.getAttribute('stroke-width') ?? '0');\n    //   strokeWidth = Math.max(tempWidth, strokeWidth);\n    // });\n    //\n    // const newClipPath = clip.append('path')\n    //     .attr('class', 'clip-path')\n    //     .attr('d', '')\n    //\n    // return newClipPath.node();\n  }\n\n  /**\n   * Same as Grow effect, but applied on mark\n   * @param {SVGGraphicsElement} clip\n   * @param {SVGGraphicsElement} glyph\n   * @returns {gsap.core.Tween|null}\n   */\n  createTwForClip(clip, glyph) {\n    const {ease, duration, startAngle, sweepAngle} = this.settings;\n\n    const bbox = glyph.getBBox();\n    let strokeWidth = parseFloat(glyph.getAttribute('stroke-width') ?? '0');\n    d3.select(glyph).selectAll('*').each(function () {\n      const tempWidth = parseFloat(this.getAttribute('stroke-width') ?? '0');\n      strokeWidth = Math.max(tempWidth, strokeWidth);\n    });\n\n    let width, height, x, y;\n    width = bbox.width + strokeWidth * 2;\n    height = bbox.height + strokeWidth * 2;\n    x = bbox.x - strokeWidth;\n    y = bbox.y - strokeWidth;\n\n    let arc, finalSweepAngle;\n    arc = {\n      startAngle: startAngle ?? 0,\n      sweepAngle: 0,\n      cx: x + width / 2,\n      cy: y + height / 2,\n      rx: width,\n      ry: height,\n    };\n    finalSweepAngle = sweepAngle;\n\n    const updatePath = function updatePath() {\n      const path = getArcPath(\n          arc.cx,\n          arc.cy,\n          arc.rx,\n          arc.ry,\n          arc.startAngle,\n          arc.sweepAngle\n      );\n      clip.setAttribute('d', path);\n    };\n\n    updatePath();\n\n    // set animation\n    return gsap.to(arc, {\n      sweepAngle: finalSweepAngle,\n      ease,\n      onUpdate: updatePath,\n      duration,\n    });\n  }\n\n  /**\n   * Same as Grow effect, but applied on mark\n   * @param {SVGGraphicsElement} clip\n   * @param {SVGGraphicsElement} glyphs\n   * @returns {gsap.core.Tween|null}\n   */\n  createTwForClipEntirety(clip, glyphs) {\n    const {ease, duration, startAngle, sweepAngle} = this.settings;\n\n    const bbox = glyphs.getBBox();\n    let strokeWidth = parseFloat(glyphs.getAttribute('stroke-width') ?? '0');\n    d3.select(glyphs).selectAll('*').each(function () {\n      const tempWidth = parseFloat(this.getAttribute('stroke-width') ?? '0');\n      strokeWidth = Math.max(tempWidth, strokeWidth);\n    });\n\n    let width, height, x, y;\n    width = bbox.width + strokeWidth * 2;\n    height = bbox.height + strokeWidth * 2;\n    x = bbox.x - strokeWidth;\n    y = bbox.y - strokeWidth;\n\n    let arc, finalSweepAngle;\n    arc = {\n      startAngle: startAngle ?? 0,\n      sweepAngle: 0,\n      cx: x + width / 2,\n      cy: y + height / 2,\n      rx: width,\n      ry: height,\n    };\n    finalSweepAngle = sweepAngle;\n\n    const updatePath = function updatePath() {\n      const path = getArcPath(\n          arc.cx,\n          arc.cy,\n          arc.rx,\n          arc.ry,\n          arc.startAngle,\n          arc.sweepAngle\n      );\n      clip.setAttribute('d', path);\n    };\n\n    updatePath();\n\n    // set animation\n    return gsap.to(arc, {\n      sweepAngle: finalSweepAngle,\n      ease,\n      onUpdate: updatePath,\n      duration,\n    });\n  }\n}\n\n/* cite: https://greensock.com/forums/topic/17566-create-a-radial-wipe/?tab=comments#comment-79421 */\nfunction getArcPath(cx, cy, rx, ry, startAngle, sweepAngle) {\n  // 0 degrees, no path\n  if (!sweepAngle) return `M${cx} ${cy}`;\n\n  // mod angles to 360 degrees\n  startAngle %= 360;\n  sweepAngle %= 360;\n\n  // If arc is 360 degrees, the sweep angle is 0 due to mod\n  const isClosed = sweepAngle === 0;\n\n  // If closed, we'll need to use 2 arcs with an angle of 180 degrees\n  if (isClosed) {\n    sweepAngle = 180;\n  }\n\n  // Make angle positive to simplify large arc flag\n  if (sweepAngle < 0) {\n    sweepAngle += 360;\n  }\n\n  const largeArc = sweepAngle > 180 ? 1 : 0;\n\n  // Convert degrees to radians\n  const a1 = (startAngle * Math.PI) / 180;\n  const a2 = ((startAngle + sweepAngle) * Math.PI) / 180;\n\n  // Calculate start and end coords for arc. Starts at 12 o'clock\n  const x1 = cx + rx * Math.sin(a1);\n  const y1 = cy - ry * Math.cos(a1);\n\n  const x2 = cx + rx * Math.sin(a2);\n  const y2 = cy - ry * Math.cos(a2);\n\n  /*\n  NOTE: To orient the starting point to 3 o'clock instead of 12 o'clock,\n  add 90 degrees to the start angle, or change the code above to this...\n\n  var x1 = cx + rx * Math.cos(a1);\n  var y1 = cy + ry * Math.sin(a1);\n\n  var x2 = cx + rx * Math.cos(a2);\n  var y2 = cy + ry * Math.sin(a2);\n  */\n\n  // Related demo using arc path\n  // https://codepen.io/osublake/pen/VbWKMj/\n  if (isClosed) {\n    return `\n      M ${x1} ${y1}\n      A ${rx} ${ry} 0 1 1 ${x2} ${y2}\n      A ${rx} ${ry} 0 1 1 ${x1} ${y1}z`;\n  }\n\n  return `\n    M ${x1} ${y1}\n    A ${rx} ${ry} 0 ${largeArc} 1 ${x2} ${y2}\n    L ${cx} ${cy}z`;\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\n\nexport class DrawPathTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Draw-path';\n    this.parameters = [\n      new ParamDefinition('enterOrExit', ParamType.STRING, false, 'enter'),\n      new ParamDefinition('reverseDirection', ParamType.BOOLEAN, false, false),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new DrawPathAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass DrawPathAnimation extends NativeAnimation {\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const {enterOrExit, ease, stagger, duration, reverseDirection} = this.settings;\n\n    const tl = gsap.timeline();\n    const glyphs = context.getGlyphs(this.target);\n\n    glyphs.forEach((glyph, i) => {\n      let len = 0;\n      try {\n        len = glyph.getTotalLength();\n        // eslint-disable-next-line no-empty\n      } catch(e) {\n      }\n      glyph.setAttribute('stroke-dasharray', len);\n      let tw;\n      if (enterOrExit === 'enter') {\n        tw = gsap.fromTo(glyph, {strokeDashoffset: reverseDirection ? -len : len},\n            {strokeDashoffset: 0, ease, duration});\n      } else if (enterOrExit === 'exit') {\n        tw = gsap.fromTo(glyph, {strokeDashoffset: 0},\n            {strokeDashoffset: reverseDirection ? len : -len, ease, duration});\n      } else {\n        console.warn(\"Wrong value of enterOrExit: \" + enterOrExit);\n        return;\n      }\n      tl.add(tw, i === 0 ? 0 : ('<' + stagger));\n    });\n\n    return tl;\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class HighlightSectorTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Highlight-sector';\n    this.parameters = [\n        new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n    ]\n  }\n\n  createAnimation() {\n    // const sectorLineDrawPath = new TemplateUsage('Draw-path')\n    //   .setTarget('.sector-line');\n\n    // const sectorLabelFloat = new TemplateUsage('Float')\n    //   .setTarget('.sector-label');\n\n    const annoLabelDynamicNumber = new TemplateUsage('show-dynamic-number')\n        .setTarget('.anno-label,.sector-label')\n        .set('start', '@num')\n        .set('end', '@num')\n        .set('formatter', '@num%');\n\n    const sectorHighlight = new TemplateUsage('Highlight')\n        .setTarget('.sector,.arc,.pie')\n        .set('centerSelector', '.sector,.arc,.pie');\n\n    return new SyncAnimation()\n      // .append(sectorLineDrawPath)\n      // .append(sectorLabelFloat)\n      .append(annoLabelDynamicNumber)\n      .append(sectorHighlight)\n      ;\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\n\nexport class ArcWheelWithLegendTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'arc-wheel-with-legend';\n    this.parameters = [\n    ]\n  }\n\n  createAnimation() {\n\n    const arcWheel = new TemplateUsage('simple-sector-wheel')\n        .setTarget('.arc')\n        .updateSettings({\n          centerSelector: '.arc',\n          endAngle: 360,\n          startAngle: 0,\n        });\n\n    const legendFlyIn = new TemplateUsage('Fly-in')\n        .setTarget('.legend')\n        .updateSettings({\n            direction: 'right',\n        });\n\n    return new SyncAnimation()\n        .append(arcWheel)\n        .append(legendFlyIn);\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {ConcatAnimation} from \"@/core/entities/spec/animation/ConcatAnimation\";\n\nexport class ShowDynamicNumberTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'show-dynamic-number';\n    this.parameters = [\n      new ParamDefinition('start', ParamType.NUMBER, false, 0),\n      new ParamDefinition('end', ParamType.NUMBER, false, 100),\n      new ParamDefinition('formatter', ParamType.STRING, false, '@num'),\n      new ParamDefinition('toFixed', ParamType.NUMBER, false, 0),\n      new ParamDefinition('numChangeDuration', ParamType.NUMBER, false, 1.9),\n      new ParamDefinition('FadeInDuration', ParamType.NUMBER, false, 0.1),\n      new ParamDefinition('FadeOutDuration', ParamType.NUMBER, false, 1),\n      new ParamDefinition('notExit', ParamType.BOOLEAN, false, false),\n      new ParamDefinition('displayTime', ParamType.NUMBER, false, 3),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power3.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n    ];\n  }\n\n  createAnimation() {\n    const fadeIn = new TemplateUsage('Fade-in')\n        .set('duration', this.getParamValue('FadeInDuration'));\n\n    const dynamicNumber = new TemplateUsage('Dynamic-number');\n    const params = {...this.getParamValues()};\n    params['duration'] = params['numChangeDuration'];\n    delete params['numChangeDuration'];\n    delete params['FadeInDuration'];\n    delete params['FadeOutDuration'];\n    dynamicNumber.updateSettings(this.getParamValues());\n\n    const concat = [fadeIn, dynamicNumber];\n\n    if (!this.getParamValue('notExit')) {\n      // exit\n      const fadeOut = new TemplateUsage('Fade-out')\n          .set('duration', this.getParamValue('FadeOutDuration'))\n          .updateTiming({'offset': this.getParamValue('displayTime')});\n      concat.push(fadeOut);\n    }\n\n    return new ConcatAnimation(concat);\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\n\nexport class ShowAnnoAutoEffectTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Show-annotation-auto-effect';\n    this.parameters = [\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n    ]\n  }\n\n  createAnimation() {\n    const animation = new ShowAnnoAutoEffectAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass ShowAnnoAutoEffectAnimation extends NativeAnimation {\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const {stagger, duration} = this.settings;\n\n    const tl = gsap.timeline();\n\n    const glyphs = context.getGlyphs(this.target);\n\n    glyphs.forEach((glyph) => {\n      let ani;\n      switch (glyph.tagName) {\n        case 'text': ani = new TemplateUsage('Float'); break;\n        case 'circle': ani = new TemplateUsage('wheel'); break;\n        case 'path':\n        case 'line':\n          ani = new TemplateUsage('Draw-path'); break;\n        default: ani = new TemplateUsage('Fade-in');\n      }\n      ani.setTarget('#' + glyph.id)\n         .set('duration', duration);\n      const tw = ani.create(context);\n      tw.yoyo(true);\n      tw.repeat(1);\n      tl.add(tw, '<' + stagger);\n    });\n\n    return tl;\n  }\n}","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\nimport {Timing} from \"@/core/entities/spec/Timing\";\n\nexport class CameraMoveTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Camera-move';\n    this.parameters = [\n      new ParamDefinition('x', ParamType.ANY, false, '+=50'),    // number or string\n      new ParamDefinition('y', ParamType.ANY, false, '+=50'),    // number or string\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('yoyo', ParamType.OBJECT, false, null),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new CameraMoveAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass CameraMoveAnimation extends NativeAnimation {\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const {x, y, ease} = this.settings;\n    let {duration, yoyo} = this.settings;\n\n    let tw;\n    const scene = context.renderContext.rootSel;\n\n    const yoyoVars = {};\n    if (yoyo) {\n      if (yoyo === true) {\n        // not object, use default\n        yoyo = Timing.getDefaultYoyo();\n      }\n      yoyoVars.yoyo = true;\n      yoyoVars.repeat = yoyo.repeat;\n      yoyoVars.repeatDelay = yoyo.delay;\n      duration /= (yoyoVars.repeat + 1);\n    }\n\n    // // change percentage to pixel\n    // [from, to].forEach(vars => {\n    //   if (vars != null && typeof from === 'object') {\n    //     let {x, y} = vars;\n    //     if (typeof from === 'string' && x.match(/.*([\\d.]*%).*/)) {\n    //       x = parseFloat(from.replace('%', ''));\n    //       vars.x = x * scene.getBoundingClientRect().width;\n    //     }\n    //     if (typeof from === 'string' && y.match(/\\s*(\\d*)\\.%\\s*/)) {\n    //       y = parseFloat(vars.replace('%', ''));\n    //       vars.y = y * scene.getBoundingClientRect().height;\n    //     }\n    //   }\n    // });\n\n    const translateX = x.replace('+', '-').replace('-', '+');\n    const translateY = y.replace('+', '-').replace('-', '+');\n\n    const vars = {translateX, translateY, ease, duration};\n    tw = gsap.to(scene.node(), vars);\n\n    // console.log('camera move', scene, this.settings, tw);\n    return tw;\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\nimport * as d3 from 'd3';\nimport {computeUUID} from \"@/core/utils/uuid\";\nimport {CLIP_PATH_CLASS} from \"@/core/const/Element\";\n\nexport class SimpleSectorWheelTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'simple-sector-wheel';\n    this.parameters = [\n      new ParamDefinition('enterOrExit', ParamType.STRING, false, 'enter'),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('centerSelector', ParamType.STRING, false, null),\n      new ParamDefinition('startAngle', ParamType.NUMBER, false, 0),\n      new ParamDefinition('endAngle', ParamType.NUMBER, false, 360),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new SingleSectorWheelAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass SingleSectorWheelAnimation extends NativeAnimation {\n  x\n  y\n  width\n  height\n\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const glyphs = context.getGlyphs(this.target);\n    const defs = context.getDefsSel();\n    const tl = gsap.timeline()\n    const {stagger, centerSelector, startAngle, endAngle} = this.settings;\n\n    // compute center\n    let x = Infinity, y = Infinity, width = 0, height = 0;\n    let centerObjs;\n    if (centerSelector != null) {\n      centerObjs = context.getRootSel().selectAll(centerSelector).nodes();\n    } else {\n      centerObjs = glyphs;\n    }\n    centerObjs.forEach(glyph => {\n      const bbox = glyph.getBBox();\n      x = Math.min(x, bbox.x);\n      y = Math.min(y ,bbox.y);\n    });\n    this.x = x;\n    this.y = y;\n\n    // compute width and height\n    centerObjs.forEach(glyph => {\n      const bbox = glyph.getBBox();\n      width = Math.max(width, bbox.x + bbox.width - x);\n      height = Math.max(height, bbox.y + bbox.height - y);\n    });\n    this.width = width;\n    this.height = height;\n\n    // console.log('sector', x, y, width, height);\n\n    glyphs.forEach((glyph, i) => {\n      const clip = this.addClipPathToGlyph(defs, glyph);\n      const tw = this.createTwForClip(clip, glyph, startAngle, endAngle);\n      const position = i === 0 ? 0 : ('<' + stagger);\n      tl.add(tw, position);\n    });\n\n    return tl;\n  }\n\n  /**\n   * @param {d3.Selection} defs\n   * @param {SVGGraphicsElement} glyph\n   * @returns {SVGGraphicsElement} the clip path of glyph\n   */\n  addClipPathToGlyph(defs, glyph) {\n    if (!glyph.getAttribute('id')) {\n      glyph.setAttribute('id', computeUUID());\n    }\n    const clipId = 'clip-path-' + glyph.getAttribute('id');\n    let clip = defs.select(`#${clipId}`);\n    if (clip.empty()) {\n      clip = defs.append('clipPath')\n          .attr('id', clipId)\n          .classed(CLIP_PATH_CLASS, true);\n      glyph.setAttribute('clip-path', `url(#${clipId})`);\n    }\n    const wheelPathSel = clip.select('.sector-wheel');\n    if (!wheelPathSel.empty()) {\n      return wheelPathSel.node();\n    }\n\n    let strokeWidth = parseFloat(glyph.getAttribute('stroke-width') ?? '0');\n    d3.select(glyph).selectAll('*').each(function () {\n      const tempWidth = parseFloat(this.getAttribute('stroke-width') ?? '0');\n      strokeWidth = Math.max(tempWidth, strokeWidth);\n    });\n\n    const newClipPath = clip.append('path')\n        .attr('class', 'sector-wheel')\n        .attr('d', '')\n\n    return newClipPath.node();\n  }\n\n  /**\n   * Same as Grow effect, but applied on mark\n   * @param {SVGGraphicsElement} clip\n   * @param {SVGGraphicsElement} glyph\n   * @param startDegree\n   * @param endDegree\n   * @returns {gsap.core.Tween|null}\n   */\n  createTwForClip(clip, glyph, startDegree, endDegree) {\n    const {ease, duration} = this.settings;\n    const startAngle = startDegree, sweepAngle = endDegree - startDegree;\n\n    let arc, finalSweepAngle;\n    arc = {\n      startAngle: startAngle ?? 0,\n      sweepAngle: 0,\n      cx: this.x + this.width / 2,\n      cy: this.y + this.height / 2,\n      rx: Math.max(this.width, this.height),\n      ry: Math.max(this.width, this.height),\n    };\n    // console.log(arc.cx, arc.cy, arc)\n    finalSweepAngle = sweepAngle;\n\n    const updatePath = function updatePath() {\n      const path = getArcPath(\n          arc.cx,\n          arc.cy,\n          arc.rx,\n          arc.ry,\n          arc.startAngle,\n          arc.sweepAngle\n      );\n      clip.setAttribute('d', path);\n    };\n\n    updatePath();\n\n    // set animation\n    return gsap.to(arc, {\n      sweepAngle: finalSweepAngle,\n      ease,\n      onUpdate: updatePath,\n      duration,\n    });\n  }\n}\n\n/* cite: https://greensock.com/forums/topic/17566-create-a-radial-wipe/?tab=comments#comment-79421 */\nfunction getArcPath(cx, cy, rx, ry, startAngle, sweepAngle) {\n  // 0 degrees, no path\n  if (!sweepAngle) return `M${cx} ${cy}`;\n\n  // mod angles to 360 degrees\n  startAngle %= 360;\n  sweepAngle %= 360;\n\n  // If arc is 360 degrees, the sweep angle is 0 due to mod\n  const isClosed = sweepAngle === 0;\n\n  // If closed, we'll need to use 2 arcs with an angle of 180 degrees\n  if (isClosed) {\n    sweepAngle = 180;\n  }\n\n  // Make angle positive to simplify large arc flag\n  if (sweepAngle < 0) {\n    sweepAngle += 360;\n  }\n\n  const largeArc = sweepAngle > 180 ? 1 : 0;\n\n  // Convert degrees to radians\n  const a1 = (startAngle * Math.PI) / 180;\n  const a2 = ((startAngle + sweepAngle) * Math.PI) / 180;\n\n  // Calculate start and end coords for arc. Starts at 12 o'clock\n  const x1 = cx + rx * Math.sin(a1);\n  const y1 = cy - ry * Math.cos(a1);\n\n  const x2 = cx + rx * Math.sin(a2);\n  const y2 = cy - ry * Math.cos(a2);\n\n  /*\n  NOTE: To orient the starting point to 3 o'clock instead of 12 o'clock,\n  add 90 degrees to the start angle, or change the code above to this...\n\n  var x1 = cx + rx * Math.cos(a1);\n  var y1 = cy + ry * Math.sin(a1);\n\n  var x2 = cx + rx * Math.cos(a2);\n  var y2 = cy + ry * Math.sin(a2);\n  */\n\n  // Related demo using arc path\n  // https://codepen.io/osublake/pen/VbWKMj/\n  if (isClosed) {\n    return `\n      M ${x1} ${y1}\n      A ${rx} ${ry} 0 1 1 ${x2} ${y2}\n      A ${rx} ${ry} 0 1 1 ${x1} ${y1}z`;\n  }\n\n  return `\n    M ${x1} ${y1}\n    A ${rx} ${ry} 0 ${largeArc} 1 ${x2} ${y2}\n    L ${cx} ${cy}z`;\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\nimport {Direction} from \"@/core/const/Direction\";\n\nexport class FlyInTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Fly-in';\n    this.parameters = [\n      new ParamDefinition('direction', ParamType.STRING, false, Direction.RIGHT),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 0.2),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new GrowAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass GrowAnimation extends NativeAnimation {\n  rootBBox\n\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const {stagger} = this.settings;\n    const glyphs = context.getGlyphs(this.target);\n    this.rootBBox = context.getRootSel().node().getBBox();\n    const tl = gsap.timeline()\n    glyphs.forEach((glyph, i) => {\n      const tw = this.createTwForOneGlyph(glyph);\n      const position = i === 0 ? 0 : ('<' + stagger);\n      tl.add(tw, position);\n    });\n    return tl;\n  }\n  /**\n   * @param {SVGGraphicsElement} glyph\n   * @returns {gsap.core.Tween|null}\n   */\n  createTwForOneGlyph(glyph) {\n    const {direction, ease, duration} = this.settings;\n\n    let transFactorX, transFactorY;\n    switch (direction) {\n      case Direction.TOP:\n        transFactorX = 0;\n        transFactorY = -1;\n        break;\n      case Direction.BOTTOM:\n        transFactorX = 0;\n        transFactorY = 1;\n        break;\n      case Direction.LEFT:\n        transFactorX = -1;\n        transFactorY = 0;\n        break;\n      case Direction.RIGHT:\n        transFactorX = 1;\n        transFactorY = 0;\n        break;\n      default: return null;\n    }\n    const translateX = '+=' + (transFactorX * this.rootBBox.width*0.5);\n    const translateY = '+=' + (transFactorY * this.rootBBox.height*0.5);\n    const fromVars = {translateX, translateY, duration, ease};\n\n    // console.log('fly in:', glyph, fromVars);\n    return gsap.from(glyph, fromVars);\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\n\nexport class HideTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Hide';\n  }\n\n  createAnimation() {\n    return new HideAnimation();\n  }\n}\n\nclass HideAnimation extends NativeAnimation {\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const glyphs = context.getGlyphs(this.target);\n    // gsap.set(glyphs, {opacity: 0});\n    // return gsap.timeline();\n\n    const vars = {opacity: 0};\n    const tl = gsap.timeline()\n    let tw;\n    tw = gsap.to(glyphs, vars);\n    tw.yoyo(true);\n    tw.repeat(1);\n    tw.repeatDelay(10);\n    tl.add(tw, 0)\n\n    return tl;\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\n\nexport class EmptyTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'empty';\n    this.parameters = [\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new EmptyAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass EmptyAnimation extends NativeAnimation {\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  // eslint-disable-next-line no-unused-vars\n  create(context) {\n    const {duration} = this.settings;\n    return gsap.to('empty-selector', {duration});\n  }\n}\n","export default {templateName:'show number',parameters:[{paramName:'dataName',paramType:'string'}],animation:{target:{selector:'.annotation',transform:{type:'filter',expr:'@datum.name === \"$dataName\"'}},sequence:{sync:[{use:'Dynamic-number',target:'.label'},{use:'Float',target:'.label',settings:{distance:10}}]}}}","// general 15\nimport { FadeInTemplate } from \"@/core/build-in/templates/general/FadeInTemplate\";\nimport { GrowTemplate } from \"@/core/build-in/templates/general/GrowTemplate\";\nimport { MoveToTemplate } from \"@/core/build-in/templates/general/MoveToTemplate\";\nimport { MoveFromTemplate } from \"@/core/build-in/templates/general/MoveFromTemplate\";\nimport { FloatTemplate } from \"@/core/build-in/templates/general/FloatTemplate\";\nimport { BasicZoomTemplate } from \"@/core/build-in/templates/general/BasicZoomTemplate\";\nimport { ZoomTemplate } from \"@/core/build-in/templates/general/ZoomTemplate\";\nimport { WipeTemplate } from \"@/core/build-in/templates/general/WipeTemplate\";\nimport { ChangeColorTemplate } from \"@/core/build-in/templates/general/ChangeColorTemplate\";\nimport { ShowPathTemplate } from \"@/core/build-in/templates/path/ShowPathTemplate\";\nimport { HighlightTemplate } from \"@/core/build-in/templates/general/HighlightTemplate\";\nimport { CameraZoomTemplate } from \"@/core/build-in/templates/camera/CameraZoomTemplate\";\nimport ZoomExitTemplate from \"@/core/build-in/templates/general/ZoomExitTemplate.json5\";\nimport BasicZoomExitTemplate from \"@/core/build-in/templates/general/BasicZoomExitTemplate.json5\";\nimport { FadeOutTemplate } from \"@/core/build-in/templates/general/FadeOutTemplate\";\nimport { ShineTemplate } from \"@/core/build-in/templates/general/ShineTemplate\";\n\n// chart 10\nimport { TitleTemplate } from \"@/core/build-in/templates/text/TitleTemplate\";\nimport { ChartWithoutMarkFloatInTemplate } from \"@/core/build-in/templates/chart/ChartWithoutMarkFloatInTemplate\";\nimport ChartWithoutMarkFadeInTemplate from \"@/core/build-in/templates/chart/ChartWithoutMarkFadeInTemplate.json5\";\nimport { BarChartEnterTemplate } from \"@/core/build-in/templates/bar-chart/BarChartEnterTemplate\";\nimport { BarChartWithLegendEnterTemplate } from \"@/core/build-in/templates/bar-chart/BarChartWithLegendEnterTemplate\";\nimport { CircleChartWithLegendEnterTemplate } from \"@/core/build-in/templates/circle-chart/CircleChartWithLegendEnterTemplate\";\nimport { LineChartEnterTemplate } from \"@/core/build-in/templates/line-chart/LineChartEnterTemplate\";\nimport { LineChartbyLegendTemplate } from \"@/core/build-in/templates/line-chart/LineChartbyLegendTemplate\";\nimport { LineChartbyOrderTemplate } from \"@/core/build-in/templates/line-chart/LineChartbyOrderTemplate\";\nimport { PieChartEnterTemplate } from \"@/core/build-in/templates/pie-chart/PieChartEnterTemplate\";\n\n// mark 9 + 1\nimport { BarEnterTemplate } from \"@/core/build-in/templates/bar-chart/BarEnterTemplate\";\nimport { BarWithLegendEnterTemplate } from \"@/core/build-in/templates/bar-chart/BarWithLegendEnterTemplate\";\nimport { BarSymbolLabelEnterTemplate } from \"@/core/build-in/templates/bar-chart/BarSymbolLabelEnterTemplate\";\nimport { CircleEnterTemplate } from \"@/core/build-in/templates/circle-chart/CircleEnterTemplate\";\nimport { CircleWithLegendEnterTemplate } from \"@/core/build-in/templates/circle-chart/CircleWithLegendEnterTemplate\";\nimport { CircleChartEnterTemplate } from \"@/core/build-in/templates/circle-chart/CircleChartEnterTemplate\";\nimport { GrowBarTemplate } from \"@/core/build-in/templates/bar-chart/GrowBarTemplate\";\nimport { LineEnterTemplate } from \"@/core/build-in/templates/line-chart/LineEnterTemplate\";\nimport { LinebyLegendTemplate } from \"@/core/build-in/templates/line-chart/LinebyLegendTemplate\";\nimport { LinebyOrderTemplate } from \"@/core/build-in/templates/line-chart/LinebyOrderTemplate\";\nimport { LineHighlightTemplate } from \"@/core/build-in/templates/line-chart/LineHighlightTemplate\";\nimport { PieWithLegendEnterTemplate } from \"@/core/build-in/templates/pie-chart/PieWithLegendEnterTemplate\";\n\n// annotation 5\nimport { ShowAnnoZoomTemplate } from \"@/core/build-in/templates/annotation/ShowAnnoZoomTemplate\";\nimport { ShowArrowLabelAnnoTemplate } from \"@/core/build-in/templates/annotation/ShowArrowLabelAnnoTemplate\";\nimport { CircleTemplate } from \"@/core/build-in/templates/general/CircleTemplate\";\nimport { ArrowTemplate } from \"@/core/build-in/templates/general/ArrowTemplate\";\nimport { TextTemplate } from \"@/core/build-in/templates/general/TextTemplate\";\nimport { ContourTemplate } from \"@/core/build-in/templates/general/ContourTemplate\";\n\nimport FadeInThenFadeOutTemplate from \"@/core/build-in/templates/general/FadeInThenFadeOutTemplate.json5\";\nimport { DynamicNumberTemplate } from \"@/core/build-in/templates/text/DynamicNumberTemplate\";\nimport {ZoomInThenZoomOutTemplate} from \"@/core/build-in/templates/general/ZoomInThenZoomOutTemplate\";\n\n// others\nimport { TemplateParser } from \"@/core/parser/TemplateParser\";\nimport { CustomEffectTemplate } from \"@/core/build-in/templates/general/CustomEffectTemplate\";\nimport { FadeTemplate } from \"@/core/build-in/templates/general/FadeTemplate\";\nimport ZoomEnterTemplate from \"@/core/build-in/templates/general/ZoomEnterTemplate.json5\";\nimport BasicZoomEnterTemplate from \"@/core/build-in/templates/general/BasicZoomEnterTemplate.json5\";\nimport { BarSymbolLabelBounceTemplate } from \"@/core/build-in/templates/bar-chart/BarSymbolLabelBounceTemplate\";\nimport { BarChartWithAxisLabelEnterTemplate } from \"@/core/build-in/templates/bar-chart/BarChartWithAxisLabelEnterTemplate\";\nimport { MoveTemplate } from \"@/core/build-in/templates/general/MoveTemplate\";\nimport { WheelTemplate } from \"@/core/build-in/templates/general/WheelTemplate\";\nimport { SectorWheelTemplate } from \"@/core/build-in/templates/pie-chart/SectorWheelTemplate\";\nimport { DrawPathTemplate } from \"@/core/build-in/templates/path/DrawPathTemplate\";\nimport { HighlightSectorTemplate } from \"@/core/build-in/templates/pie-chart/HighlightSectorTemplate\";\nimport { ArcWheelWithLegendTemplate } from \"@/core/build-in/templates/pie-chart/ArcWheelWithLegendTemplate\";\n\nimport { ShowDynamicNumberTemplate } from \"@/core/build-in/templates/text/ShowDynamicNumberTemplate\";\nimport { ShowAnnoAutoEffectTemplate } from \"@/core/build-in/templates/annotation/ShowAnnoAutoEffectTemplate\";\nimport { CameraMoveTemplate } from \"@/core/build-in/templates/camera/CameraMoveTemplate\";\nimport { SimpleSectorWheelTemplate } from \"@/core/build-in/templates/pie-chart/SimpleSectorWheelTemplate\";\nimport { FlyInTemplate } from \"@/core/build-in/templates/general/FlyInTemplate\";\nimport { HideTemplate } from \"@/core/build-in/templates/general/HideTemplate\";\nimport { EmptyTemplate } from \"@/core/build-in/templates/general/EmptyTemplate\";\nimport ShowNumber from \"@/core/build-in/templates/text/ShowNumber.json5\";\n\n\n\n/** @type {BaseTemplate[]} */\nexport const buildInTemplates = [\n  /* general */\n  new CustomEffectTemplate(),\n  new GrowTemplate(),\n\n  new FadeTemplate(),\n  new FadeInTemplate(),\n  new FadeOutTemplate(),\n  // new FadeInThenFadeOutTemplate(),\n  new WipeTemplate(),\n  new CircleTemplate(),\n  new ArrowTemplate(),\n  new TextTemplate(),\n  new ContourTemplate(),\n  new HighlightTemplate(),\n  new ShineTemplate(),\n\n  new ZoomTemplate(),\n  TemplateParser.fromJSON(ZoomEnterTemplate),\n  TemplateParser.fromJSON(ZoomExitTemplate),\n\n  new BasicZoomTemplate(),\n  TemplateParser.fromJSON(BasicZoomEnterTemplate),\n  TemplateParser.fromJSON(BasicZoomExitTemplate),\n\n  new MoveTemplate(),\n  new MoveFromTemplate(),\n  new MoveToTemplate(),\n\n  new FloatTemplate(),\n\n  TemplateParser.fromJSON(FadeInThenFadeOutTemplate),\n\n  new ChangeColorTemplate(),\n\n  new WheelTemplate(),\n\n  new FlyInTemplate(),\n\n  new HideTemplate(),\n  new EmptyTemplate(),\n\n  /* camera */\n  new CameraZoomTemplate(),\n  new CameraMoveTemplate(),\n\n  /* chart */\n  TemplateParser.fromJSON(ChartWithoutMarkFadeInTemplate),\n  // new ChartWithoutMarkFadeIn2Template(),\n  new ChartWithoutMarkFloatInTemplate(),\n\n  /* bar-chart */\n  new BarChartEnterTemplate(),\n  new BarSymbolLabelBounceTemplate(),\n  new BarSymbolLabelEnterTemplate(),\n  new BarChartWithAxisLabelEnterTemplate(),\n  new BarChartWithLegendEnterTemplate(),\n  new BarWithLegendEnterTemplate(),\n  new BarEnterTemplate(),\n  new GrowBarTemplate(),\n\n  /* line-chart */\n  new LineEnterTemplate(),\n  new LineChartEnterTemplate(),\n  new LineChartbyLegendTemplate(),\n  new LineChartbyOrderTemplate(),\n  new LinebyLegendTemplate(),\n  new LinebyOrderTemplate(),\n  new LineHighlightTemplate(),\n\n  /* circle-chart */\n  new CircleChartEnterTemplate(),\n  new CircleEnterTemplate(),\n  new CircleChartWithLegendEnterTemplate(),\n  new CircleWithLegendEnterTemplate(),\n\n  /* path */\n  new DrawPathTemplate(),\n  new ShowPathTemplate(),\n\n  /* pie-chart */\n  new SectorWheelTemplate(),\n  new SimpleSectorWheelTemplate(),\n  new PieChartEnterTemplate(),\n  new HighlightSectorTemplate(),\n  new ArcWheelWithLegendTemplate(),\n  new PieWithLegendEnterTemplate(),\n\n  /* annotation */\n  new ShowArrowLabelAnnoTemplate(),\n  new ShowAnnoZoomTemplate(),\n  new ZoomInThenZoomOutTemplate(),\n\n  /* text */\n  new DynamicNumberTemplate(),\n  new ShowDynamicNumberTemplate(),\n\n  new ShowAnnoAutoEffectTemplate(),\n  TemplateParser.fromJSON(ShowNumber),\n  new TitleTemplate(),\n];\n\n// console.log('buildInTemplates', buildInTemplates);\n","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {FadeTemplate} from \"@/core/build-in/templates/general/FadeTemplate\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\n\nexport const fadeWrapper = new PreviewWrapper(\n    new FadeTemplate(),\n    PreviewerType.GENERAL,\n    AnimationType.OTHER,\n    ['general', 'any', 'opacity', 'enter', 'exit'],\n    {},\n    '.second,.forth',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {TemplateParser} from \"@/core/parser/TemplateParser\";\nimport BasicZoomEnterTemplate from \"@/core/build-in/templates/general/BasicZoomEnterTemplate.json5\";\n\nexport const basicZoomEnterWrapper = new PreviewWrapper(\n    TemplateParser.fromJSON(BasicZoomEnterTemplate),\n    PreviewerType.GENERAL,\n    AnimationType.ENTER,\n    ['general', 'any', 'zoom', 'enter'],\n    {},\n    '.second,.forth',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {TemplateParser} from \"@/core/parser/TemplateParser\";\nimport BasicZoomExitTemplate from \"@/core/build-in/templates/general/BasicZoomExitTemplate.json5\";\n\nexport const basicZoomExitWrapper = new PreviewWrapper(\n    TemplateParser.fromJSON(BasicZoomExitTemplate),\n    PreviewerType.GENERAL,\n    AnimationType.EXIT,\n    ['general', 'any', 'zoom', 'exit'],\n    {},\n    '.second,.forth',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {BasicZoomTemplate} from \"@/core/build-in/templates/general/BasicZoomTemplate\";\n\nexport const basicZoomWrapper = new PreviewWrapper(\n    new BasicZoomTemplate(),\n    PreviewerType.GENERAL,\n    AnimationType.OTHER,\n    ['general', 'any', 'zoom', 'enter', 'exit'],\n    {},\n    '.second,.forth',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {ChangeColorTemplate} from \"@/core/build-in/templates/general/ChangeColorTemplate\";\n\nexport const changeColorWrapper = new PreviewWrapper(\n    new ChangeColorTemplate(),\n    PreviewerType.GENERAL,\n    AnimationType.HIGHLIGHT,\n    ['general', 'any', 'color', 'emphasize'],\n    {fill: '#2171b5', duration:2},\n    '.second,.first',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {CustomEffectTemplate} from \"@/core/build-in/templates/general/CustomEffectTemplate\";\n\nexport const customEffectWrapper = new PreviewWrapper(\n    new CustomEffectTemplate(),\n    PreviewerType.MOVE,\n    AnimationType.OTHER,\n    ['general', 'any', 'custom', 'enter', 'exit'],\n    {attr: ['fill', 'x'], to: ['#fb9b5b', '+=70px'], ease: 'power1.inOut'},\n    '.target',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {FadeInTemplate} from \"@/core/build-in/templates/general/FadeInTemplate\";\n\nexport const fadeInWrapper = new PreviewWrapper(\n    new FadeInTemplate(),\n    PreviewerType.GENERAL,\n    AnimationType.ENTER,\n    ['general', 'any', 'opacity', 'enter'],\n    {},\n    '.second,.forth',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {FadeOutTemplate} from \"@/core/build-in/templates/general/FadeOutTemplate\";\n\nexport const fadeOutWrapper = new PreviewWrapper(\n    new FadeOutTemplate(),\n    PreviewerType.GENERAL,\n    AnimationType.EXIT,\n    ['general', 'any', 'opacity', 'exit'],\n    {},\n    '.second,.forth',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {FloatTemplate} from \"@/core/build-in/templates/general/FloatTemplate\";\n\nexport const floatWrapper = new PreviewWrapper(\n    new FloatTemplate(),\n    PreviewerType.GENERAL,\n    AnimationType.ENTER,\n    ['general', 'any', 'move', 'opacity', 'enter', 'exit'],\n    {},\n    '.second,.forth',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {FlyInTemplate} from \"@/core/build-in/templates/general/FlyInTemplate\";\n\nexport const flyinWrapper = new PreviewWrapper(\n    new FlyInTemplate(),\n    PreviewerType.GENERAL,\n    AnimationType.ENTER,\n    ['general', 'any', 'move', 'opacity', 'enter', 'exit'],\n    {},\n    '.second,.forth',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {GrowTemplate} from \"@/core/build-in/templates/general/GrowTemplate\";\n\nexport const growWrapper = new PreviewWrapper(\n    new GrowTemplate(),\n    PreviewerType.GENERAL,\n    AnimationType.ENTER,\n    ['general', 'any', 'width', 'height', 'enter'],\n    {},\n    '.second,.forth',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {MoveTemplate} from \"@/core/build-in/templates/general/MoveTemplate\";\n\nexport const moveWrapper = new PreviewWrapper(\n    new MoveTemplate(),\n    PreviewerType.MOVE,\n    AnimationType.OTHER,\n    ['general', 'any', 'move', 'from', 'to'],\n    {to: {x: '+=70'}, ease: 'power1.inOut'},\n    '.target',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {MoveFromTemplate} from \"@/core/build-in/templates/general/MoveFromTemplate\";\n\nexport const moveFromWrapper = new PreviewWrapper(\n    new MoveFromTemplate(),\n    PreviewerType.MOVE,\n    AnimationType.ENTER,\n    ['general', 'any', 'move', 'from'],\n    {x: '+=70', ease: 'power1.inOut'},\n    '.target',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {MoveToTemplate} from \"@/core/build-in/templates/general/MoveToTemplate\";\n\nexport const moveToWrapper = new PreviewWrapper(\n    new MoveToTemplate(),\n    PreviewerType.MOVE,\n    AnimationType.ENTER,\n    ['general', 'any', 'move', 'to'],\n    {x: '+=70', ease: 'power1.inOut'},\n    '.target',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {WipeTemplate} from \"@/core/build-in/templates/general/WipeTemplate\";\n\nexport const wipeWrapper = new PreviewWrapper(\n    new WipeTemplate(),\n    PreviewerType.GENERAL,\n    AnimationType.ENTER,\n    ['general', 'any', 'mask', 'enter', 'exit'],\n    {},\n    '.second',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {TemplateParser} from \"@/core/parser/TemplateParser\";\nimport ZoomEnterTemplate from \"@/core/build-in/templates/general/ZoomEnterTemplate.json5\";\n\nexport const zoomEnterWrapper = new PreviewWrapper(\n    TemplateParser.fromJSON(ZoomEnterTemplate),\n    PreviewerType.GENERAL,\n    AnimationType.ENTER,\n    ['general', 'any', 'zoom', 'enter'],\n    {},\n    '.second,.forth',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {TemplateParser} from \"@/core/parser/TemplateParser\";\nimport ZoomExitTemplate from \"@/core/build-in/templates/general/ZoomExitTemplate.json5\";\n\nexport const zoomExitWrapper = new PreviewWrapper(\n    TemplateParser.fromJSON(ZoomExitTemplate),\n    PreviewerType.GENERAL,\n    AnimationType.EXIT,\n    ['general', 'any', 'zoom', 'exit'],\n    {},\n    '.second,.forth',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {HideTemplate} from \"@/core/build-in/templates/general/HideTemplate\";\n\nexport const hideWrapper = new PreviewWrapper(\n    new HideTemplate(),\n    PreviewerType.GENERAL,\n    AnimationType.EXIT,\n    ['general', 'any', 'opacity', 'exit'],\n    {},\n    '.second,.forth',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {ZoomTemplate} from \"@/core/build-in/templates/general/ZoomTemplate\";\n\nexport const zoomWrapper = new PreviewWrapper(\n    new ZoomTemplate(),\n    PreviewerType.GENERAL,\n    AnimationType.OTHER,\n    ['general', 'any', 'zoom', 'enter', 'exit'],\n    {},\n    '.second,.forth',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {ShineTemplate} from \"@/core/build-in/templates/general/ShineTemplate\";\n\nexport const shineWrapper = new PreviewWrapper(\n    new ShineTemplate(),\n    PreviewerType.GENERAL,\n    AnimationType.HIGHLIGHT,\n    ['general', 'any', 'color', 'emphasize'],\n    {},\n    '.second,.first',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {ZoomInThenZoomOutTemplate} from \"@/core/build-in/templates/general/ZoomInThenZoomOutTemplate\";\n\nexport const showAnnoZoomWrapper = new PreviewWrapper(\n    new ZoomInThenZoomOutTemplate(),\n    PreviewerType.GENERAL,\n    AnimationType.HIGHLIGHT,\n    ['annotation', 'zoom', 'show'],\n    {displayTime:0.5},\n    '.second',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {ShowArrowLabelAnnoTemplate} from \"@/core/build-in/templates/annotation/ShowArrowLabelAnnoTemplate\";\n\nexport const showArrowLabelAnnoWrapper = new PreviewWrapper(\n    new ShowArrowLabelAnnoTemplate(),\n    PreviewerType.ANNOTATION_ARROW,\n    AnimationType.HIGHLIGHT,\n    ['annotation', 'arrow', 'label', 'zoom', 'float', 'show'],\n    {},\n    '.annotation',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {CameraZoomTemplate} from \"@/core/build-in/templates/camera/CameraZoomTemplate\";\n\nexport const cameraZoomWrapper = new PreviewWrapper(\n    new CameraZoomTemplate(),\n    PreviewerType.CAMERA,\n    AnimationType.HIGHLIGHT,\n    ['camera', 'zoom'],\n    {scaleFactor: 1.5, transformOrigin: '50% 0%'},\n    '*',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {CameraMoveTemplate} from \"@/core/build-in/templates/camera/CameraMoveTemplate\";\n\nexport const cameraMoveWrapper = new PreviewWrapper(\n    new CameraMoveTemplate(),\n    PreviewerType.CAMERA,\n    AnimationType.HIGHLIGHT,\n    ['camera', 'zoom'],\n    {scaleFactor: 1.5, transformOrigin: '50% 0%'},\n    '*',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {BarChartEnterTemplate} from \"@/core/build-in/templates/bar-chart/BarChartEnterTemplate\";\n\nexport const barChartEnterWrapper = new PreviewWrapper(\n    new BarChartEnterTemplate(),\n    PreviewerType.BAR_CHART,\n    AnimationType.ENTER,\n    ['chart', 'enter'],\n    {},\n    '.chart',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {BarSymbolLabelEnterTemplate} from \"@/core/build-in/templates/bar-chart/BarSymbolLabelEnterTemplate\";\n\nexport const barSymbolLabelEnterWrapper = new PreviewWrapper(\n    new BarSymbolLabelEnterTemplate(),\n    PreviewerType.BAR_CHART,\n    AnimationType.ENTER,\n    ['mark', 'label', 'enter'],\n    {},\n    {selector: '.chart', transform: {type: 'filter', expr: '@datum.name === \"A\"'}},\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {BarSymbolLabelBounceTemplate} from \"@/core/build-in/templates/bar-chart/BarSymbolLabelBounceTemplate\";\n\nexport const barSymbolLabelBounceWrapper = new PreviewWrapper(\n    new BarSymbolLabelBounceTemplate(),\n    PreviewerType.BAR_CHART,\n    AnimationType.HIGHLIGHT,\n    ['mark', 'label', 'enter'],\n    {},\n    {selector: '.chart', transform: {type: 'filter', expr: '@datum.name === \"A\"'}},\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {BarEnterTemplate} from \"@/core/build-in/templates/bar-chart/BarEnterTemplate\";\n\nexport const barEnterWrapper = new PreviewWrapper(\n    new BarEnterTemplate(),\n    PreviewerType.BAR_CHART,\n    AnimationType.ENTER,\n    ['chart', 'enter'],\n    {},\n    '.mark',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {BarChartWithLegendEnterTemplate} from \"@/core/build-in/templates/bar-chart/BarChartWithLegendEnterTemplate\";\n\nexport const barChartWithLegendEnterWrapper = new PreviewWrapper(\n    new BarChartWithLegendEnterTemplate(),\n    PreviewerType.BAR_CHART_WITH_LEGEND,\n    AnimationType.ENTER,\n    ['chart', 'enter'],\n    {},\n    '.chart',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {BarWithLegendEnterTemplate} from \"@/core/build-in/templates/bar-chart/BarWithLegendEnterTemplate\";\n\nexport const barWithLegendEnterWrapper = new PreviewWrapper(\n    new BarWithLegendEnterTemplate(),\n    PreviewerType.BAR_CHART_WITH_LEGEND,\n    AnimationType.ENTER,\n    ['chart', 'enter'],\n    {},\n    '.mark',\n    1,\n);","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {SyncAnimation} from \"@/core/entities/spec/animation/SyncAnimation\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\n\nexport class ChartWithoutMarkFadeIn2Template extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Axes fade in';\n    this.parameters = [\n      new ParamDefinition('titleStagger', ParamType.NUMBER, false, 0.2),\n      new ParamDefinition('symbolStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('axisElementStagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n    ]\n  }\n\n  createAnimation() {\n    const titleFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.title,.subtitle,.main-title,.sub-title')\n      .set('stagger', this.getParamValue('titleStagger'));\n\n    const xAxisSymbolFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.x-axis.symbol')\n      .set('stagger', this.getParamValue('symbolStagger'));\n    const xAxisGrow = new TemplateUsage('Grow')\n      .setTarget('.x-axis.domain')\n      .updateSettings({direction: 'left', ease: this.getParamValue('ease')});\n    const yAxisGrow = new TemplateUsage('Grow')\n      .setTarget('.y-axis.domain')\n      .updateSettings({ease: this.getParamValue('ease')});    // default direction is bottom\n\n    const labelFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.axis.label')\n      .set('stagger', this.getParamValue('axisElementStagger'))\n      .updateTiming({offset: 1});\n    const tickFadeIn = new TemplateUsage('Fade-in')\n      .setTarget('.axis.tick')\n      .set('stagger', this.getParamValue('axisElementStagger'))\n      .updateTiming({offset: 1});\n\n    return new SyncAnimation()\n      .append(titleFadeIn)\n      .append(xAxisSymbolFadeIn)\n      .append(xAxisGrow)\n      .append(yAxisGrow)\n      .append(labelFadeIn)\n      .append(tickFadeIn);\n  }\n}\n","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\n// import {TemplateParser} from \"@/core/parser/TemplateParser\";\n// import ChartWithoutMarkFadeInTemplate from \"@/core/build-in/templates/chart/ChartWithoutMarkFadeInTemplate.json5\";\nimport {ChartWithoutMarkFadeIn2Template} from \"@/core/build-in/templates/chart/ChartWithoutMarkFadeIn2Template\";\n\nexport const chartWithoutMarkFadeInWrapper = new PreviewWrapper(\n    // TemplateParser.fromJSON(ChartWithoutMarkFadeInTemplate),\n    new ChartWithoutMarkFadeIn2Template(),\n    PreviewerType.CHART_FRAMEWORK,\n    AnimationType.ENTER,\n    ['chart', 'without-mark', 'enter'],\n    {},\n    '.chart',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {ChartWithoutMarkFloatInTemplate} from \"@/core/build-in/templates/chart/ChartWithoutMarkFloatInTemplate\";\n\nexport const chartWithoutMarkFloatInWrapper = new PreviewWrapper(\n    new ChartWithoutMarkFloatInTemplate(),\n    PreviewerType.CHART_FRAMEWORK,\n    AnimationType.ENTER,\n    ['chart', 'without-mark', 'enter'],\n    {},\n    '.chart',\n    1,\n);","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {TemplateUsage} from \"@/core/entities/spec/animation/TemplateUsage\";\nimport {ConcatAnimation} from \"@/core/entities/spec/animation/ConcatAnimation\";\n\nexport class FadeInThenFadeOutTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'Fade-in-then-fade-out';\n    this.parameters = [\n      new ParamDefinition('displayTime', ParamType.STRING, false, 2),\n    ];\n  }\n\n  createAnimation() {\n    const fadeIn = new TemplateUsage('Fade-in');\n    const fadeOut = new TemplateUsage('Fade-out')\n      .updateTiming({offset: this.getParamValue('displayTime')});\n    return new ConcatAnimation([fadeIn, fadeOut]);\n  }\n}\n","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {FadeInThenFadeOutTemplate} from \"@/core/build-in/templates/general/FadeInThenFadeOutTemplate\";\n\nexport const fadeInThenFadeOutWrapper = new PreviewWrapper(\n    new FadeInThenFadeOutTemplate(),\n    PreviewerType.GENERAL,\n    AnimationType.HIGHLIGHT,\n    ['general', 'any', 'opacity', 'show'],\n    {displayTime:0.5},\n    '.second,.forth',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {CircleTemplate} from \"@/core/build-in/templates/general/CircleTemplate\";\n\nexport const circleWrapper = new PreviewWrapper(\n    new CircleTemplate(),\n    PreviewerType.CHART_FRAMEWORK,\n    AnimationType.HIGHLIGHT,\n    ['general', 'any', 'annotation', 'circle'],\n    {},\n    {selector: '.chart', transform: {type: 'filter', expr: '@datum === 20'}},\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {ArrowTemplate} from \"@/core/build-in/templates/general/ArrowTemplate\";\n\nexport const arrowWrapper = new PreviewWrapper(\n    new ArrowTemplate(),\n    PreviewerType.CHART_FRAMEWORK,\n    AnimationType.HIGHLIGHT,\n    ['general', 'any', 'annotation', 'Arrow'],\n    {scale: 2, color: \"#f00\", reverseDirection: true},\n    {selector: '.chart', transform: {type: 'filter', expr: '@datum === 20'}},\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {TextTemplate} from \"@/core/build-in/templates/general/TextTemplate\";\n\nexport const textWrapper = new PreviewWrapper(\n    new TextTemplate(),\n    PreviewerType.CHART_FRAMEWORK,\n    AnimationType.HIGHLIGHT,\n    ['general', 'any', 'annotation', 'Text'],\n    {},\n    '.chart',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {ShowPathTemplate} from '@/core/build-in/templates/path/ShowPathTemplate';\n\nexport const showPathWrapper = new PreviewWrapper(\n    new ShowPathTemplate(),\n    PreviewerType.PATH,\n    AnimationType.HIGHLIGHT,\n    ['general', 'any', 'show', 'path', 'enter'],\n    {},\n    '.annotation',\n    0.5,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {HighlightTemplate} from \"@/core/build-in/templates/general/HighlightTemplate\";\n\nexport const highlightWrapper = new PreviewWrapper(\n    new HighlightTemplate(),\n    PreviewerType.GENERAL,\n    AnimationType.HIGHLIGHT,\n    ['general', 'any', 'highlight'],\n    {},\n    '.first,.second',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {CircleChartEnterTemplate} from \"@/core/build-in/templates/circle-chart/CircleChartEnterTemplate\";\n\nexport const CircleChartEnterWrapper = new PreviewWrapper(\n    new CircleChartEnterTemplate(),\n    PreviewerType.CIRCLE_CHART,\n    AnimationType.ENTER,\n    [],\n    {},\n    '.chart',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {CircleEnterTemplate} from \"@/core/build-in/templates/circle-chart/CircleEnterTemplate\";\n\nexport const CircleEnterWrapper = new PreviewWrapper(\n    new CircleEnterTemplate(),\n    PreviewerType.CIRCLE_CHART,\n    AnimationType.ENTER,\n    [],\n    {},\n    '.mark',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {CircleChartWithLegendEnterTemplate} from \"@/core/build-in/templates/circle-chart/CircleChartWithLegendEnterTemplate\";\n\nexport const CircleChartWithLegendEnterWrapper = new PreviewWrapper(\n    new CircleChartWithLegendEnterTemplate(),\n    PreviewerType. CIRCLE_CHART_WITH_LEGEND,\n    AnimationType.ENTER,\n    [],\n    {},\n    '.chart',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {CircleWithLegendEnterTemplate} from \"@/core/build-in/templates/circle-chart/CircleWithLegendEnterTemplate\";\n\nexport const CircleWithLegendEnterWrapper = new PreviewWrapper(\n    new CircleWithLegendEnterTemplate(),\n    PreviewerType. CIRCLE_CHART_WITH_LEGEND,\n    AnimationType.ENTER,\n    [],\n    {},\n    '.mark',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {PieChartEnterTemplate} from \"@/core/build-in/templates/pie-chart/PieChartEnterTemplate\";\n\nexport const PieChartEnterWrapper = new PreviewWrapper(\n    new PieChartEnterTemplate(),\n    PreviewerType.PIE_CHART,\n    AnimationType.ENTER,\n    [],\n    {},\n    '.third',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {PieWithLegendEnterTemplate} from \"@/core/build-in/templates/pie-chart/PieWithLegendEnterTemplate\";\n\nexport const PieWithLegendEnterWrapper = new PreviewWrapper(\n    new PieWithLegendEnterTemplate(),\n    PreviewerType.PIE_WITH_LEGEND,\n    AnimationType.ENTER,\n    [],\n    {},\n    '.third',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {HighlightSectorTemplate} from \"@/core/build-in/templates/pie-chart/HighlightSectorTemplate\";\n\nexport const SectorHighlightWrapper = new PreviewWrapper(\n    new HighlightSectorTemplate(),\n    PreviewerType.PIE_CHART,\n    AnimationType.HIGHLIGHT,\n    [],\n    {},\n    '.third',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {TitleTemplate} from \"@/core/build-in/templates/text/TitleTemplate\";\n\nexport const TitleWrapper = new PreviewWrapper(\n    new TitleTemplate(),\n    PreviewerType.TITLE,\n    AnimationType.ENTER,\n    [],\n    {},\n    '.chart',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\n// import {TemplateParser} from \"@/core/parser/TemplateParser\";\nimport {DynamicNumberTemplate} from \"@/core/build-in/templates/text/DynamicNumberTemplate\";\n\nexport const ShowDynamicNumberWrapper = new PreviewWrapper(\n    // TemplateParser.fromJSON(ShowNumber),\n    new DynamicNumberTemplate(),\n    PreviewerType.TEXT,\n    AnimationType.HIGHLIGHT,\n    ['chart', 'without-mark', 'enter'],\n    {},\n    '.annotation',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {LineChartbyLegendTemplate} from \"@/core/build-in/templates/line-chart/LineChartbyLegendTemplate\";\n\n\nexport const LineChartbyLegendEnterWrapper = new PreviewWrapper(\n    new LineChartbyLegendTemplate(),\n    PreviewerType.LINE_CHART_WITH_LEGEND,\n    AnimationType.ENTER,\n    [],\n    {},\n    '.chart',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {LinebyLegendTemplate} from \"@/core/build-in/templates/line-chart/LinebyLegendTemplate\";\n\n\nexport const LinebyLegendEnterWrapper = new PreviewWrapper(\n    new LinebyLegendTemplate(),\n    PreviewerType.LINE_CHART_WITH_LEGEND,\n    AnimationType.ENTER,\n    [],\n    {},\n    '.mark',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {LineChartbyOrderTemplate} from \"@/core/build-in/templates/line-chart/LineChartbyOrderTemplate\";\n\n\nexport const LineChartbyOrderEnterWrapper = new PreviewWrapper(\n    new LineChartbyOrderTemplate(),\n    PreviewerType.LINE_CHART_WITH_LEGEND,\n    AnimationType.ENTER,\n    [],\n    {},\n    '.chart',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {LinebyOrderTemplate} from \"@/core/build-in/templates/line-chart/LinebyOrderTemplate\";\n\n\nexport const LinebyOrderEnterWrapper = new PreviewWrapper(\n    new LinebyOrderTemplate(),\n    PreviewerType.LINE_CHART_WITH_LEGEND,\n    AnimationType.ENTER,\n    [],\n    {},\n    '.mark',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {LineChartEnterTemplate} from \"@/core/build-in/templates/line-chart/LineChartEnterTemplate\";\n\nexport const LineChartEnterWrapper = new PreviewWrapper(\n    new LineChartEnterTemplate(),\n    PreviewerType.LINE_CHART,\n    AnimationType.ENTER,\n    [],\n    {},\n    '.chart',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {LineEnterTemplate} from \"@/core/build-in/templates/line-chart/LineEnterTemplate\";\n\nexport const LineEnterWrapper = new PreviewWrapper(\n    new LineEnterTemplate(),\n    PreviewerType.LINE_CHART,\n    AnimationType.ENTER,\n    [],\n    {},\n    '.mark',\n    1,\n);","import {PreviewWrapper} from \"@/core/previewer/PreviewWrapper\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport {AnimationType} from \"@/core/const/AnimationType\";\nimport {LineHighlightTemplate} from \"@/core/build-in/templates/line-chart/LineHighlightTemplate\";\n\nexport const LineHighlightWrapper = new PreviewWrapper(\n    new LineHighlightTemplate(),\n    PreviewerType.LINE_CHART_WITH_LEGEND,\n    AnimationType.HIGHLIGHT,\n    [],\n    {},\n    '.first',\n    1,\n);","import { fadeWrapper } from \"@/core/previewer/build-in-wrapper/general/FadeWrapper\";\nimport { basicZoomEnterWrapper } from \"@/core/previewer/build-in-wrapper/general/BasicZoomEnterWrapper\";\nimport { basicZoomExitWrapper } from \"@/core/previewer/build-in-wrapper/general/BasicZoomExitWrapper\";\nimport { basicZoomWrapper } from \"@/core/previewer/build-in-wrapper/general/BasicZoomWrapper\";\nimport { changeColorWrapper } from \"@/core/previewer/build-in-wrapper/general/ChangeColorWrapper\";\nimport { customEffectWrapper } from \"@/core/previewer/build-in-wrapper/general/CustomEffectWrapper\";\nimport { fadeInWrapper } from \"@/core/previewer/build-in-wrapper/general/FadeInWrapper\";\nimport { fadeOutWrapper } from \"@/core/previewer/build-in-wrapper/general/FadeOutWrapper\";\nimport { floatWrapper } from \"@/core/previewer/build-in-wrapper/general/FloatWrapper\";\nimport { flyinWrapper } from \"@/core/previewer/build-in-wrapper/general/FlyinWrapper\";\nimport { growWrapper } from \"@/core/previewer/build-in-wrapper/general/GrowWrapper\";\nimport { moveWrapper } from \"@/core/previewer/build-in-wrapper/general/MoveWrapper\";\nimport { moveFromWrapper } from \"@/core/previewer/build-in-wrapper/general/MoveFromWrapper\";\nimport { moveToWrapper } from \"@/core/previewer/build-in-wrapper/general/MoveToWrapper\";\nimport { wipeWrapper } from \"@/core/previewer/build-in-wrapper/general/WipeWrapper\";\nimport { zoomEnterWrapper } from \"@/core/previewer/build-in-wrapper/general/ZoomEnterWrapper\";\nimport { zoomExitWrapper } from \"@/core/previewer/build-in-wrapper/general/ZoomExitWrapper\";\nimport { hideWrapper } from \"@/core/previewer/build-in-wrapper/general/HideWrapper\";\nimport { zoomWrapper } from \"@/core/previewer/build-in-wrapper/general/ZoomWrapper\";\nimport { shineWrapper } from \"@/core/previewer/build-in-wrapper/general/ShineWrapper\";\nimport { showAnnoZoomWrapper } from \"@/core/previewer/build-in-wrapper/annotation/ZoomInThenZoomOutWrapper\";\nimport { showArrowLabelAnnoWrapper } from \"@/core/previewer/build-in-wrapper/annotation/ShowArrowLabelAnnoWrapper\";\nimport { cameraZoomWrapper } from \"@/core/previewer/build-in-wrapper/camera/CameraZoomWrapper\";\nimport { cameraMoveWrapper } from \"@/core/previewer/build-in-wrapper/camera/CameraMoveWrapper\";\n\nimport { barChartEnterWrapper } from \"@/core/previewer/build-in-wrapper/bar-chart/BarChartEnterWrapper\";\nimport { barSymbolLabelEnterWrapper } from \"@/core/previewer/build-in-wrapper/bar-chart/BarSymbolLabelEnterWrapper\";\nimport { barSymbolLabelBounceWrapper } from \"@/core/previewer/build-in-wrapper/bar-chart/BarSymbolLabelBounceWrapper\";\nimport { barEnterWrapper } from \"@/core/previewer/build-in-wrapper/bar-chart/BarEnterWrapper\";\n// import {barChartWithAxisLabelEnterWrapper} from \"@/core/previewer/build-in-wrapper/bar-chart/BarChartWithAxisLabelEnterWrapper\";\nimport { barChartWithLegendEnterWrapper } from \"@/core/previewer/build-in-wrapper/bar-chart/BarChartWithLegendEnterWrapper\";\nimport { barWithLegendEnterWrapper } from \"@/core/previewer/build-in-wrapper/bar-chart/BarWithLegendEnterWrapper\";\n\nimport { chartWithoutMarkFadeInWrapper } from \"@/core/previewer/build-in-wrapper/chart/ChartWithoutMarkFadeInWrapper\";\nimport { chartWithoutMarkFloatInWrapper } from \"@/core/previewer/build-in-wrapper/chart/ChartWithoutMarkFloatInWrapper\";\n\nimport { fadeInThenFadeOutWrapper } from \"@/core/previewer/build-in-wrapper/general/FadeInThenFadeOutWrapper\";\nimport { circleWrapper } from \"@/core/previewer/build-in-wrapper/general/CircleWrapper\";\nimport { arrowWrapper } from \"@/core/previewer/build-in-wrapper/general/ArrowWrapper\";\nimport { textWrapper } from \"@/core/previewer/build-in-wrapper/general/TextWrapper\";\n// import { contourWrapper } from \"@/core/previewer/build-in-wrapper/general/ContourWrapper\";\n\nimport { showPathWrapper } from \"@/core/previewer/build-in-wrapper/path/ShowPathWrapper\";\nimport { highlightWrapper } from \"@/core/previewer/build-in-wrapper/general/HighlightWrapper\";\n\nimport { CircleChartEnterWrapper } from \"@/core/previewer/build-in-wrapper/circle-chart/CircleChartEnterWrapper\";\nimport { CircleEnterWrapper } from \"@/core/previewer/build-in-wrapper/circle-chart/CircleEnterWrapper\";\nimport { CircleChartWithLegendEnterWrapper } from \"@/core/previewer/build-in-wrapper/circle-chart/CircleChartWithLegendEnterWrapper\";\nimport { CircleWithLegendEnterWrapper } from \"@/core/previewer/build-in-wrapper/circle-chart/CircleWithLegendEnterWrapper\";\n\nimport { PieChartEnterWrapper } from \"@/core/previewer/build-in-wrapper/arc-chart/PieChartEnterWrapper\";\nimport { PieWithLegendEnterWrapper } from \"@/core/previewer/build-in-wrapper/arc-chart/PieWithLegendEnterWrapper\";\nimport { SectorHighlightWrapper } from \"@/core/previewer/build-in-wrapper/arc-chart/SectorHighlightWrapper\";\n\n// import { ShowNumberWrapper } from \"@/core/previewer/build-in-wrapper/Text/ShowNumberWrapper\";\nimport { TitleWrapper } from \"@/core/previewer/build-in-wrapper/Text/TitleWrapper\";\nimport { ShowDynamicNumberWrapper } from \"@/core/previewer/build-in-wrapper/Text/ShowDynamicNumberWrapper\";\n\nimport { LineChartbyLegendEnterWrapper } from \"@/core/previewer/build-in-wrapper/line-chart/LineChartbyLegendEnterWrapper\";\nimport { LinebyLegendEnterWrapper } from \"@/core/previewer/build-in-wrapper/line-chart/LinebyLegendEnterWrapper\";\nimport { LineChartbyOrderEnterWrapper } from \"@/core/previewer/build-in-wrapper/line-chart/LineChartbyOrderEnterWrapper\";\nimport { LinebyOrderEnterWrapper } from \"@/core/previewer/build-in-wrapper/line-chart/LinebyOrderEnterWrapper\";\nimport { LineChartEnterWrapper } from \"@/core/previewer/build-in-wrapper/line-chart/LineChartEnterWrapper\";\nimport { LineEnterWrapper } from \"@/core/previewer/build-in-wrapper/line-chart/LineEnterWrapper\";\nimport { LineHighlightWrapper } from \"@/core/previewer/build-in-wrapper/line-chart/LineHighlightWrapper\";\n\n/**\n * @type {PreviewWrapper[]}\n */\nexport const buildInWrappers = [\n  // general\n  fadeInWrapper,\n  growWrapper,\n  moveToWrapper,\n  moveFromWrapper,\n  floatWrapper,\n  basicZoomWrapper,\n  zoomWrapper,\n  shineWrapper,\n  wipeWrapper,\n  changeColorWrapper,\n  showPathWrapper,\n  highlightWrapper,\n  cameraZoomWrapper,\n  cameraMoveWrapper,\n  zoomEnterWrapper,\n  basicZoomExitWrapper,\n  fadeOutWrapper,\n  flyinWrapper,\n\n  // annotation 5\n\n  showArrowLabelAnnoWrapper,\n  circleWrapper,\n  arrowWrapper,\n  textWrapper,\n  // contourWrapper,\n\n  fadeInThenFadeOutWrapper,\n  showAnnoZoomWrapper,\n  ShowDynamicNumberWrapper,\n\n  // chart 10\n  TitleWrapper,\n  chartWithoutMarkFadeInWrapper,\n  chartWithoutMarkFloatInWrapper,\n  barChartEnterWrapper,\n  barChartWithLegendEnterWrapper,\n  CircleChartWithLegendEnterWrapper,\n  LineChartEnterWrapper,\n  LineChartbyLegendEnterWrapper,\n  LineChartbyOrderEnterWrapper,\n  PieChartEnterWrapper,\n\n  // mark\n  barEnterWrapper,\n  barWithLegendEnterWrapper,\n  barSymbolLabelEnterWrapper, // bar with axis label\n  CircleEnterWrapper, // scatter\n  CircleWithLegendEnterWrapper, // scatter with legend\n  CircleChartEnterWrapper, // scatter chart\n  PieWithLegendEnterWrapper,\n  SectorHighlightWrapper,\n\n  // others not in animation library\n  basicZoomEnterWrapper,\n  customEffectWrapper,\n  fadeWrapper,\n  moveWrapper,\n  zoomExitWrapper,\n  hideWrapper,\n  barSymbolLabelBounceWrapper,\n  LineEnterWrapper,\n  LinebyOrderEnterWrapper,\n  LinebyLegendEnterWrapper,\n  LineHighlightWrapper,\n];\n","import {PreviewerType} from \"@/core/const/PreviewerType\";\nimport gsap from 'gsap';\nimport _ from \"lodash\";\n\nexport class BasePreviewer {\n  /** @type {PreviewerType} */\n  previewerType\n\n  /** @type {PreviewWrapper} */\n  previewWrapper\n  /** @type {import('@/core/entities/context/RenderContext').RenderContext} */\n  previewerContext\n\n  /** @type {gsap.core.Timeline | gsap.core.Tween} */\n  timeline\n\n  constructor() {\n    this.previewerType = PreviewerType.BLANK;\n  }\n\n  /**\n   * @param {PreviewWrapper} previewWrapper\n   * @param {import('@/core/entities/context/RenderContext').RenderContext} renderContext\n   */\n  init(previewWrapper, renderContext) {\n    this.previewerContext = renderContext;\n    this.previewWrapper = previewWrapper;\n  }\n\n  /**\n   * @returns {BasePreviewer}\n   */\n  clone() {\n    return _.cloneDeep(this);\n    // return this.constructor();\n  }\n\n  render() {\n    this.clear();\n\n    const {width, height} = this.getCanvasSize();\n    this.previewerContext.rootSel.attr('viewBox', `0 0 ${width} ${height}`);\n\n    this.draw();\n\n    setTimeout(() => this.apply(), 0);\n  }\n\n  /**\n   * Clear the previewer\n   */\n  clear() {\n    this.previewerContext.rootSel.selectAll('*').remove();\n    this.previewerContext.globalSelection = null;\n  }\n\n  draw() {\n    throw 'This previewer is abstract';\n  }\n\n  /**\n   * @returns {{width: number, height: number}}\n   */\n  getCanvasSize() {\n    return {width: 200, height: 150};\n  }\n\n  apply() {\n    if (this.previewerType === PreviewerType.BLANK) {\n      this.timeline = gsap.timeline();\n      return;\n    }\n    this.previewerContext.globalSelection = this.previewerContext.rootSel.selectAll('*');\n    const animation = this.previewWrapper.createPreviewAnimation();\n    const rootContext = this.previewerContext.createRootContext();\n    const context = rootContext.deriveBy(this.previewWrapper.target);\n    this.timeline = animation.create(context);\n    this.timeline\n        .repeat(-1)\n        .repeatDelay(1)\n        .pause()\n        .progress(this.previewWrapper.staticProgress);\n  }\n\n  pause() {\n    if (!this.timeline) {\n      console.warn('Previewer timeline is not ready');\n      return;\n    }\n    this.timeline\n        .pause()\n        .progress(this.previewWrapper.staticProgress);\n  }\n\n  getDuration() {\n    if (!this.timeline) {\n      console.warn('Previewer timeline is not ready');\n      return;\n    }\n    return this.timeline.duration();\n  }\n\n  restart() {\n    if (!this.timeline) {\n      console.warn('Previewer timeline is not ready');\n      return;\n    }\n    this.timeline.restart();\n  }\n}\n","import {BasePreviewer} from \"@/core/previewer/BasePreviewer\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\n\nexport class BlankPreviewer extends BasePreviewer {\n  constructor() {\n    super();\n    this.previewerType = PreviewerType.BLANK;\n  }\n\n  draw() {\n    const rootSel = this.previewerContext.rootSel;\n    const {width, height} = this.getCanvasSize();\n    rootSel.append('text')\n        .attr('transform', 'translate(' + [width / 2, height / 2] + ')')\n        .attr('text-anchor', 'middle')\n        .attr('fill', 'gray')\n        .attr('opacity', 0.5)\n        .style('font-family', 'Verdana, Arial, Helvetica, sans-serif')\n        .text('No preview is available');\n  }\n}\n","import {BasePreviewer} from \"@/core/previewer/BasePreviewer\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport * as d3 from 'd3';\n\nexport class GeneralPreviewer extends BasePreviewer {\n  constructor() {\n    super();\n    this.previewerType = PreviewerType.GENERAL;\n  }\n\n  // barGap*2 barWidth barGap barWidth barGap*2\n  draw() {\n    const rootSel = this.previewerContext.rootSel;\n    const {width, height} = this.getCanvasSize();\n    const barWidth = 25, barGap = 5;\n    const barHeightList = [70, 70];\n    const graphWidth = barHeightList.length * barWidth + (barHeightList.length + 3) * barGap;\n    const left = (width - graphWidth) / 2;\n    const bottom = (height + Math.max(...barHeightList)) / 2;\n    const numTexts = ['first', 'second', 'third', 'forth'];\n\n    const chartGrp = rootSel.append('g')\n        .classed('chart group', true);\n\n    const barGrp = chartGrp.append('g')\n        .classed('mark group', true);\n    barGrp.selectAll('.bar.glyph').data(barHeightList).enter().append('rect')\n        .each(function(d, i) {\n          d3.select(this).classed(`bar glyph ${numTexts[i]}`, true);\n        })\n        .attr('width', barWidth)\n        .attr('height', d => d)\n        .attr('x', (d, i) => left + (i + 2) * barGap + i * barWidth)\n        .attr('y',  (d) => bottom - d)\n        .attr('fill', '#409eff')\n        .attr('rx', 5)\n        .attr('ry', 5);\n\n    // chartGrp.append('line')\n    //     .classed('line axis domain', true)\n    //     .attr('x1', left)\n    //     .attr('y1', bottom)\n    //     .attr('x2', left + graphWidth)\n    //     .attr('y2', bottom)\n    //     .attr('stroke', '#808080')\n    //     .attr('stroke-width', 4)\n    //     .attr('stroke-linecap', 'round');\n  }\n}\n","import {BasePreviewer} from \"@/core/previewer/BasePreviewer\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\n\nexport class MovePreviewer extends BasePreviewer {\n  constructor() {\n    super();\n    this.previewerType = PreviewerType.MOVE;\n  }\n\n  draw() {\n    const rootSel = this.previewerContext.rootSel;\n    const {width, height} = this.getCanvasSize();\n    const radius = 20;\n    const distance = 70;\n\n    rootSel.append('circle')\n        .classed('start circle shadow', true)\n        .attr('fill', '#409eff')\n        .attr('r', radius)\n        .attr('cx', (width - distance) / 2)\n        .attr('cy', height / 2)\n        .attr('opacity', 0.5);\n    rootSel.append('circle')\n        .classed('target circle', true)\n        .attr('fill', '#409eff')\n        .attr('r', radius)\n        .attr('cx', (width - distance) / 2)\n        .attr('cy', height / 2);\n  }\n}\n","import {BasePreviewer} from \"@/core/previewer/BasePreviewer\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport * as d3 from \"d3\";\n\nexport class AnnotationArrowPreviewer extends BasePreviewer {\n  constructor() {\n    super();\n    this.previewerType = PreviewerType.ANNOTATION_ARROW;\n  }\n\n  draw() {\n    const rootSel = this.previewerContext.rootSel;\n    const {width, height} = this.getCanvasSize();\n\n    const barWidth = 25, barGap = 5;\n    const barHeightList = [70, 83, 70, 110];\n    const graphWidth = barHeightList.length * barWidth + (barHeightList.length + 3) * barGap;\n    const left = (width - graphWidth) / 2;\n    const bottom = (height + Math.max(...barHeightList)) / 2;\n    const numTexts = ['first', 'second', 'third', 'forth'];\n\n    const chartGrp = rootSel.append('g')\n        .classed('chart group', true)\n        .attr('transform', 'scale(1.4)')\n        .style('transform-origin', `${width/2}px 0px`);\n\n    const barGrp = chartGrp.append('g')\n        .classed('mark-group', true);\n    barGrp.selectAll('.bar.mark').data(barHeightList).enter().append('rect')\n        .each(function(d, i) {\n          d3.select(this).classed(`mark bar ${numTexts[i]}`, true);\n        })\n        .attr('width', barWidth)\n        .attr('height', d => d)\n        .attr('x', (d, i) => left + (i + 2) * barGap + i * barWidth)\n        .attr('y',  (d) => bottom - d)\n        .attr('fill', '#409eff')\n        .attr('rx', 5)\n        .attr('ry', 5);\n\n    chartGrp.append('line')\n        .classed('line axis domain', true)\n        .attr('x1', left)\n        .attr('y1', bottom)\n        .attr('x2', left + graphWidth)\n        .attr('y2', bottom)\n        .attr('stroke', '#808080')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n\n    const annoGrp = chartGrp.append('g')\n        .classed('annotation-group', true);\n\n    const bar1TopX = left + barGap*2 + barWidth/2,\n        bar2TopY = bottom - barHeightList[0];\n\n    annoGrp.append('text')\n        .classed('annotation label', true)\n        .attr('transform', `translate(${bar1TopX},${bar2TopY - 30})`)\n        .style('text-anchor', 'middle')\n        .attr('font-size', 20)\n        .attr('font-weight', 'bold')\n        .attr('font-family', 'system-ui')\n        .attr('fill', '#3b3b3b')\n        .text('21');\n\n    annoGrp.append('g')\n        .classed('annotation arrow', true)\n        .attr('transform', `translate(${bar1TopX - 16},${bar2TopY - 30})`)\n        .append('svg')\n        .attr('width', 30)\n        .attr('height', 30)\n        .attr('viewBox', '0 0 1024 1024')\n        .append('path')\n        .attr('d', 'M819.07712 636.39552l-225.4848 191.488a81.73568 81.73568 0 0 1-53.0432 19.47648 81.77664 81.77664 0 0 1-53.02272-19.47648l-225.4848-191.488a81.92 81.92 0 1 1 106.06592-124.86656l90.5216 76.88192v-329.8304a81.92 81.92 0 0 1 163.84 0v329.8304l90.54208-76.88192a81.89952 81.89952 0 1 1 106.06592 124.86656z')\n        .attr('stroke', '#3b3b3b')\n  }\n}\n","import {BasePreviewer} from \"@/core/previewer/BasePreviewer\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport * as d3 from 'd3';\n\nexport class CameraPreviewer extends BasePreviewer {\n  constructor() {\n    super();\n    this.previewerType = PreviewerType.CAMERA;\n  }\n\n  // barGap*2 barWidth barGap barWidth barGap*2\n  draw() {\n    const rootSel = this.previewerContext.rootSel;\n    const {width, height} = this.getCanvasSize();\n    const barWidth = 25, barGap = 5;\n    const barHeightList = [70, 83, 70, 110];\n    const graphWidth = barHeightList.length * barWidth + (barHeightList.length + 3) * barGap;\n    const left = (width - graphWidth) / 2;\n    const bottom = (height + Math.max(...barHeightList)) / 2;\n    const numTexts = ['first', 'second', 'third', 'forth'];\n\n    const chartGrp = rootSel.append('g')\n        .classed('scene chart-group group container', true);\n\n    const barGrp = chartGrp.append('g')\n        .classed('mark group', true);\n    barGrp.selectAll('.bar.glyph').data(barHeightList).enter().append('rect')\n        .each(function(d, i) {\n          d3.select(this).classed(`chart mark bar ${numTexts[i]}`, true);\n        })\n        .attr('width', barWidth)\n        .attr('height', d => d)\n        .attr('x', (d, i) => left + (i + 2) * barGap + i * barWidth)\n        .attr('y',  (d) => bottom - d)\n        .attr('fill', '#409eff')\n        .attr('rx', 5)\n        .attr('ry', 5);\n\n    chartGrp.append('line')\n        .classed('chart line axis domain', true)\n        .attr('x1', left)\n        .attr('y1', bottom)\n        .attr('x2', left + graphWidth)\n        .attr('y2', bottom)\n        .attr('stroke', '#808080')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n\n    // const decorationGrp = rootSel.append('g')\n    //     .classed('decoration group', true);\n    //\n    // const strokeWidth = 6;\n    // const lineLen = 30;   // the half len of each L symbol\n    //\n    // const mask = rootSel.append('defs')\n    //     .append('mask')\n    //     .attr('id', 'decoration-mask')\n    // mask.append('rect')\n    //     .attr('x', 0)\n    //     .attr('y', 0)\n    //     .attr('width', width)\n    //     .attr('height', height)\n    //     .attr('fill', 'white');\n    // mask.append('rect')\n    //     .attr('x', lineLen)\n    //     .attr('y', 0)\n    //     .attr('width', width - 2 * lineLen)\n    //     .attr('height', height);\n    // mask.append('rect')\n    //     .attr('x', 0)\n    //     .attr('y', lineLen)\n    //     .attr('width', width)\n    //     .attr('height', height - 2 * lineLen);\n    //\n    // decorationGrp.append('rect')\n    //     .attr('mask', 'url(#decoration-mask)')\n    //     .attr('x', strokeWidth * 1.2)\n    //     .attr('y', strokeWidth * 1.2)\n    //     .attr('width', width - 2.4 * strokeWidth)\n    //     .attr('height', height - 2.4 * strokeWidth)\n    //     .attr('rx', strokeWidth)\n    //     .attr('ry', strokeWidth)\n    //     .attr('fill', 'none')\n    //     .attr('stroke', '#454545')\n    //     .attr('stroke-width', strokeWidth)\n  }\n}\n","export class ChartLayout {\n  width\n  height\n  topRatio\n  bottomRatio\n  leftRatio\n  rightRatio\n\n  origin\n  top\n  bottom\n  left\n  right\n  chartHeight\n  chartWidth\n\n  constructor({width, height,\n                topRatio, bottomRatio,leftRatio, rightRatio}) {\n    this.width = width\n    this.height = height\n    this.topRatio = topRatio\n    this.bottomRatio = bottomRatio\n    this.leftRatio = leftRatio\n    this.rightRatio = rightRatio\n    this.initLayout()\n  }\n\n  initLayout() {\n    this.origin = {\n      x: this.width * this.leftRatio,\n      y: this.height * (1 - this.bottomRatio)\n    }\n    this.top = this.height * this.topRatio\n    this.bottom = this.height * this.bottomRatio\n    this.left = this.width * this.leftRatio\n    this.right = this.width * this.rightRatio\n\n    this.chartHeight = this.height - this.top - this.bottom\n    this.chartWidth = this.width - this.left - this.right\n  }\n}\n","import {BasePreviewer} from \"@/core/previewer/BasePreviewer\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport * as d3 from 'd3';\nimport {ChartLayout} from \"@/core/utils/ChartLayout\";\n\nexport class BarChartPreviewer extends BasePreviewer {\n  constructor() {\n    super();\n    this.previewerType = PreviewerType.BAR_CHART;\n  }\n\n  draw() {\n    const rootSel = this.previewerContext.rootSel;\n    const {width, height} = this.getCanvasSize();\n\n    const data = [\n      {name: 'A', value: 22},\n      {name: 'B', value: 37},\n    ];\n    const yLabels = [0, 20, 40];\n    const layout = new ChartLayout({\n      width, height,\n      topRatio: 0.30,\n      bottomRatio: 0.17,\n      leftRatio: 0.2,\n      rightRatio: 0.2\n    });\n    const barWidthRatio = 0.3;\n    const barHeightRatio = 0.8;\n\n    const xScale = d3.scaleBand()\n        .domain(data.map(d => d.name))\n        .range([0, layout.chartWidth])\n        .padding(barWidthRatio);\n    const yScale = d3.scaleLinear()\n        .domain([0, d3.max(data, d => d.value) / barHeightRatio])\n        .range([0, layout.chartHeight])\n\n    const chartGrp = rootSel.append('g')\n        .classed('chart-group', true);\n\n    // create axis\n    const axisGrp = chartGrp.append('g')\n        .classed('axis-group', true);\n\n    const xAxisGrp = axisGrp.append('g')\n        .classed('x-axis-group', true)\n        .attr('transform', `translate(${layout.origin.x},${layout.origin.y})`);\n\n    xAxisGrp.selectAll('text').data(data).enter().append('text')\n        .classed(`chart axis x-axis label`, true)\n        .attr('ac-data', d => JSON.stringify(d))\n        .attr('transform', d => `translate(${xScale(d.name) + xScale.bandwidth()/2},0)`)\n        .attr('dy', 18)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text((d, i) => ['A', 'B'][i]);\n\n    xAxisGrp.append('text')\n        .classed(`chart axis x-axis title`, true)\n        .attr('transform', `translate(${layout.chartWidth},0)`)\n        .attr('dx', 10)\n        .attr('dy', 5)\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('X');\n\n    xAxisGrp.append('line')\n        .classed('chart axis x-axis domain', true)\n        .attr('x1', 0)\n        .attr('y1', 0)\n        .attr('x2', layout.chartWidth)\n        .attr('y2', 0)\n        .attr('stroke', '#808080')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n\n    const yAxisGrp = axisGrp.append('g')\n        .classed('y-axis-group', true)\n        .attr('transform', `translate(${layout.origin.x},${layout.top})`);\n\n    yAxisGrp.selectAll('line.tick').data(yLabels.slice(1)).enter().append('line')\n        .classed(`chart axis y-axis tick`, true)\n        .attr('transform', d => `translate(0,${layout.chartHeight - yScale(d)})`)\n        .attr('x1', 0)\n        .attr('y1', 0)\n        .attr('x2', layout.chartWidth)\n        .attr('y2', 0)\n        .attr('stroke', '#d9d9d9')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n\n    yAxisGrp.selectAll('text').data(yLabels).enter().append('text')\n        .classed(`chart axis y-axis label`, true)\n        .attr('transform', d => `translate(0,${layout.chartHeight - yScale(d)})`)\n        .attr('dx', -14)\n        .attr('dy', 17/2)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text(d => d);\n\n    yAxisGrp.append('line')\n        .classed('chart axis y-axis domain', true)\n        .attr('x1', 0)\n        .attr('y1', 0)\n        .attr('x2', 0)\n        .attr('y2', layout.chartHeight)\n        .attr('stroke', '#808080')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n\n    yAxisGrp.append('text')\n        .classed(`chart axis y-axis title`, true)\n        .attr('dy', -5)\n        .attr('dx', -8)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('Y');\n\n    // create bars\n    const markGrp = chartGrp.append('g')\n        .classed('mark-group', true)\n        .attr('transform', `translate(${layout.left},${layout.top})`)\n    markGrp.selectAll('rect').data(data).enter().append('rect')\n        .classed('chart mark bar', true)\n        .attr('ac-data', d => JSON.stringify(d))\n        .attr('width', xScale.bandwidth())\n        .attr('height', d => yScale(d.value))\n        .attr('x', d => xScale(d.name))\n        .attr('y',  d => layout.chartHeight - yScale(d.value))\n        .attr('fill', '#409eff')\n        .attr('rx', 5)\n        .attr('ry', 5);\n    markGrp.selectAll('text').data(data).enter().append('text')\n        .attr('ac-data', d => JSON.stringify(d))\n        .classed('chart mark label bar-label', true)\n        .attr('transform', d =>\n            `translate(${xScale(d.name) + xScale.bandwidth()/2},${layout.chartHeight - yScale(d.value)})`)\n        .attr('dy', -10)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text(d => d.value);\n\n    // create title\n    const titleGrp = chartGrp.append('g')\n        .classed('title-group', true)\n    titleGrp.append('text')\n        .classed('chart title main-title', true)\n        .attr('transform', `translate(${layout.left + layout.chartWidth / 2},${layout.top})`)\n        .attr('dy', -20)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('Bar Chart');\n  }\n}\n","import {BasePreviewer} from \"@/core/previewer/BasePreviewer\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport * as d3 from 'd3';\nimport {ChartLayout} from \"@/core/utils/ChartLayout\";\n\nexport class BarChartWithLegendPreviewer extends BasePreviewer {\n  constructor() {\n    super();\n    this.previewerType = PreviewerType.BAR_CHART_WITH_LEGEND;\n  }\n\n  draw() {\n    const rootSel = this.previewerContext.rootSel;\n    const {width, height} = this.getCanvasSize();\n\n    const data = [\n      {name: 'A', value: 22},\n      {name: 'B', value: 37},\n    ];\n\n    const data0 = [\n        {name: 'A', value: 30},\n        {name: 'B', value: 15},\n    ];\n    const yLabels = [0, 20, 40];\n    const layout = new ChartLayout({\n      width, height,\n      topRatio: 0.30,\n      bottomRatio: 0.17,\n      leftRatio: 0.2,\n      rightRatio: 0.2\n    });\n    const barWidthRatio = 0.3;\n    const barHeightRatio = 0.8;\n\n    const xScale = d3.scaleBand()\n        .domain(data.map(d => d.name))\n        .range([0, layout.chartWidth])\n        .padding(barWidthRatio);\n    const yScale = d3.scaleLinear()\n        .domain([0, d3.max(data, d => d.value) / barHeightRatio])\n        .range([0, layout.chartHeight])\n\n    const chartGrp = rootSel.append('g')\n        .classed('chart-group', true);\n\n    // create axis\n    const axisGrp = chartGrp.append('g')\n        .classed('axis-group', true);\n\n    const xAxisGrp = axisGrp.append('g')\n        .classed('x-axis-group', true)\n        .attr('transform', `translate(${layout.origin.x},${layout.origin.y})`);\n\n    xAxisGrp.selectAll('text').data(data).enter().append('text')\n        .classed(`chart axis x-axis label`, true)\n        .attr('ac-data', d => JSON.stringify(d))\n        .attr('transform', d => `translate(${xScale(d.name) + xScale.bandwidth()/2},0)`)\n        .attr('dy', 18)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text((d, i) => ['A', 'B'][i]);\n\n    xAxisGrp.append('text')\n        .classed(`chart axis x-axis title`, true)\n        .attr('transform', `translate(${layout.chartWidth},0)`)\n        .attr('dx', 10)\n        .attr('dy', 5)\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('X');\n\n    xAxisGrp.append('line')\n        .classed('chart axis x-axis domain', true)\n        .attr('x1', 0)\n        .attr('y1', 0)\n        .attr('x2', layout.chartWidth)\n        .attr('y2', 0)\n        .attr('stroke', '#808080')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n\n    const yAxisGrp = axisGrp.append('g')\n        .classed('y-axis-group', true)\n        .attr('transform', `translate(${layout.origin.x},${layout.top})`);\n\n    yAxisGrp.selectAll('line.tick').data(yLabels.slice(1)).enter().append('line')\n        .classed(`chart axis y-axis tick`, true)\n        .attr('transform', d => `translate(0,${layout.chartHeight - yScale(d)})`)\n        .attr('x1', 0)\n        .attr('y1', 0)\n        .attr('x2', layout.chartWidth)\n        .attr('y2', 0)\n        .attr('stroke', '#d9d9d9')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n\n    yAxisGrp.selectAll('text').data(yLabels).enter().append('text')\n        .classed(`chart axis y-axis label`, true)\n        .attr('transform', d => `translate(0,${layout.chartHeight - yScale(d)})`)\n        .attr('dx', -14)\n        .attr('dy', 17/2)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text(d => d);\n\n    yAxisGrp.append('line')\n        .classed('chart axis y-axis domain', true)\n        .attr('x1', 0)\n        .attr('y1', 0)\n        .attr('x2', 0)\n        .attr('y2', layout.chartHeight)\n        .attr('stroke', '#808080')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n\n    yAxisGrp.append('text')\n        .classed(`chart axis y-axis title`, true)\n        .attr('dy', -5)\n        .attr('dx', -8)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('Y');\n\n    // create bars\n    const markGrp = chartGrp.append('g')\n        .classed('mark-group', true)\n        .attr('transform', `translate(${layout.left},${layout.top})`)\n    const markGrp1 = markGrp.append('g')\n        .classed('mark-1-group', true)\n    markGrp1.selectAll('rect').data(data).enter().append('rect')\n        .classed('chart mark bar', true)\n        .attr('ac-data', d => JSON.stringify(d))\n        .attr('width', xScale.bandwidth()/2)\n        .attr('height', d => yScale(d.value))\n        .attr('x', d => xScale(d.name)-1)\n        .attr('y',  d => layout.chartHeight - yScale(d.value))\n        .attr('fill', '#409eff')\n        .attr('rx', 5)\n        .attr('ry', 5);\n    markGrp1.selectAll('text').data(data).enter().append('text')\n        .attr('ac-data', d => JSON.stringify(d))\n        .classed('chart mark label bar-label', true)\n        .attr('transform', d =>`translate(${xScale(d.name) + xScale.bandwidth()/4-3},${layout.chartHeight - yScale(d.value)})`)\n        .attr('dy', -4)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text(d => d.value);\n\n    const markGrp2 = markGrp.append('g')\n        .classed('mark-2-group', true)\n    markGrp2.selectAll('rect').data(data0).enter().append('rect')\n        .classed('chart mark bar', true)\n        .attr('ac-data', d => JSON.stringify(d))\n        .attr('width', xScale.bandwidth()/2)\n        .attr('height', d => yScale(d.value))\n        .attr('x', d => xScale(d.name)+xScale.bandwidth()/2+1)\n        .attr('y',  d => layout.chartHeight - yScale(d.value))\n        .attr('fill', '#9ecae1')\n        .attr('rx', 5)\n        .attr('ry', 5);\n    markGrp2.selectAll('text').data(data0).enter().append('text')\n        .attr('ac-data', d => JSON.stringify(d))\n        .classed('chart mark label bar-label', true)\n        .attr('transform', d =>`translate(${xScale(d.name) + xScale.bandwidth()*0.75+1},${layout.chartHeight - yScale(d.value)})`)\n        .attr('dy', -4)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text(d => d.value);\n\n    // create legend\n    const legendGrp = chartGrp.append('g')\n    .classed('mark-group', true)\n    // .attr('transform', `translate(${layout.right},${layout.top})`);\n\n    legendGrp.append('text')\n        .classed(`chart mark legend`, true)\n        .attr('transform', `translate(${width-layout.right},${layout.top})`)\n        .attr('dx', 0)\n        .attr('dy', 8)\n        .attr('font-weight', 'bold')\n        .attr('fill', '#409eff')\n        .text('ta');\n\n    legendGrp.append('rect')\n        .classed('chart mark legend', true)\n        .attr('transform', `translate(${width-layout.right},${layout.top})`)\n        .attr('width', 18)\n        .attr('height', 8)\n        .attr('x', 20)\n        .attr('y', 0)\n        .attr('fill', '#409eff');\n    \n    legendGrp.append('text')\n        .classed(`chart mark legend`, true)\n        .attr('transform', `translate(${width-layout.right},${layout.top})`)\n        .attr('dx', 0)\n        .attr('dy', 26)\n        .attr('font-weight', 'bold')\n        .attr('fill', '#9ecae1')\n        .text('tb');\n\n    legendGrp.append('rect')\n        .classed('chart mark legend', true)\n        .attr('transform', `translate(${width-layout.right},${layout.top})`)\n        .attr('width', 18)\n        .attr('height', 8)\n        .attr('x', 20)\n        .attr('y', 18)\n        .attr('fill', '#9ecae1');\n\n    // create title\n    const titleGrp = chartGrp.append('g')\n        .classed('title-group', true)\n    titleGrp.append('text')\n        .classed('chart title main-title', true)\n        .attr('transform', `translate(${layout.left + layout.chartWidth / 2},${layout.top})`)\n        .attr('dy', -20)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('Bar Chart with Legend');\n  }\n}\n","import {BasePreviewer} from \"@/core/previewer/BasePreviewer\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport * as d3 from 'd3';\nimport {ChartLayout} from \"@/core/utils/ChartLayout\";\n\nexport class ChartFrameworkPreviewer extends BasePreviewer {\n  constructor() {\n    super();\n    this.previewerType = PreviewerType.CHART_FRAMEWORK;\n  }\n\n  draw() {\n    const rootSel = this.previewerContext.rootSel;\n    const {width, height} = this.getCanvasSize();\n\n    const data = [\n      {name: 'A', value: 22},\n      {name: 'B', value: 37},\n    ];\n    const yLabels = [0, 20, 40];\n    const layout = new ChartLayout({\n      width, height,\n      topRatio: 0.30,\n      bottomRatio: 0.17,\n      leftRatio: 0.2,\n      rightRatio: 0.2\n    });\n    const barWidthRatio = 0.3;\n    const barHeightRatio = 0.8;\n\n    const xScale = d3.scaleBand()\n        .domain(data.map(d => d.name))\n        .range([0, layout.chartWidth])\n        .padding(barWidthRatio);\n    const yScale = d3.scaleLinear()\n        .domain([0, d3.max(data, d => d.value) / barHeightRatio])\n        .range([0, layout.chartHeight])\n\n    const chartGrp = rootSel.append('g')\n        .classed('chart-group', true);\n\n    // create axis\n    const axisGrp = chartGrp.append('g')\n        .classed('axis-group', true);\n\n    const xAxisGrp = axisGrp.append('g')\n        .classed('x-axis-group', true)\n        .attr('transform', `translate(${layout.origin.x},${layout.origin.y})`);\n\n    xAxisGrp.selectAll('text').data(data).enter().append('text')\n        .classed(`chart axis x-axis label`, true)\n        .attr('ac-data', d => JSON.stringify(d))\n        .attr('transform', d => `translate(${xScale(d.name) + xScale.bandwidth()/2},0)`)\n        .attr('dy', 18)\n        .attr('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text((d, i) => ['A', 'B'][i]);\n\n    xAxisGrp.append('text')\n        .classed(`chart axis x-axis title`, true)\n        .attr('transform', `translate(${layout.chartWidth},0)`)\n        .attr('dx', 10)\n        .attr('dy', 5)\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('X');\n\n    xAxisGrp.append('line')\n        .classed('chart axis x-axis domain', true)\n        .attr('x1', 0)\n        .attr('y1', 0)\n        .attr('x2', layout.chartWidth)\n        .attr('y2', 0)\n        .attr('stroke', '#808080')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n\n    const yAxisGrp = axisGrp.append('g')\n        .classed('y-axis-group', true)\n        .attr('transform', `translate(${layout.origin.x},${layout.top})`);\n\n    yAxisGrp.selectAll('line.tick').data(yLabels.slice(1)).enter().append('line')\n        .classed(`chart axis y-axis tick`, true)\n        .attr('transform', d => `translate(0,${layout.chartHeight - yScale(d)})`)\n        .attr('x1', 0)\n        .attr('y1', 0)\n        .attr('x2', layout.chartWidth)\n        .attr('y2', 0)\n        .attr('stroke', '#d9d9d9')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n\n    yAxisGrp.selectAll('text').data(yLabels).enter().append('text')\n        .classed(`chart axis y-axis label`, true)\n        .attr('ac-data', d => d)\n        .attr('transform', d => `translate(0,${layout.chartHeight - yScale(d)})`)\n        .attr('dx', -14)\n        .attr('dy', 17/2)\n        .attr('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text(d => d);\n\n    yAxisGrp.append('line')\n        .classed('chart axis y-axis domain', true)\n        .attr('x1', 0)\n        .attr('y1', 0)\n        .attr('x2', 0)\n        .attr('y2', layout.chartHeight)\n        .attr('stroke', '#808080')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n\n    yAxisGrp.append('text')\n        .classed(`chart axis y-axis title`, true)\n        .attr('dy', -5)\n        .attr('dx', -8)\n        .attr('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('Y');\n\n    // // create bars\n    // const markGrp = chartGrp.append('g')\n    //     .classed('mark-group', true)\n    //     .attr('transform', `translate(${layout.left},${layout.top})`)\n    // markGrp.selectAll('rect').data(data).enter().append('rect')\n    //     .classed('chart mark bar', true)\n    //     .attr('ac-data', d => JSON.stringify(d))\n    //     .attr('width', xScale.bandwidth())\n    //     .attr('height', d => yScale(d.value))\n    //     .attr('x', d => xScale(d.name))\n    //     .attr('y',  d => layout.chartHeight - yScale(d.value))\n    //     .attr('fill', '#d9d9d9')\n    //     .attr('rx', 5)\n    //     .attr('ry', 5);\n    // markGrp.selectAll('text').data(data).enter().append('text')\n    //     .attr('ac-data', d => JSON.stringify(d))\n    //     .classed('chart mark label bar-label', true)\n    //     .attr('transform', d =>\n    //         `translate(${xScale(d.name) + xScale.bandwidth()/2},${layout.chartHeight - yScale(d.value)})`)\n    //     .attr('dy', -10)\n    //     .style('text-anchor', 'middle')\n    //     .attr('font-weight', 'bold')\n    //     .attr('fill', '#d9d9d9')\n    //     .text(d => d.value);\n\n    // create title\n    const titleGrp = chartGrp.append('g')\n        .classed('title-group', true)\n    titleGrp.append('text')\n        .classed('chart title main-title', true)\n        .attr('transform', `translate(${layout.left + layout.chartWidth / 2},${layout.top})`)\n        .attr('dy', -20)\n        .attr('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('Chart Title');\n  }\n}\n","import {BasePreviewer} from \"@/core/previewer/BasePreviewer\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport * as d3 from 'd3';\nimport {ChartLayout} from \"@/core/utils/ChartLayout\";\n\nexport class CirclePreviewer extends BasePreviewer {\n  constructor() {\n    super();\n    this.previewerType = PreviewerType.CIRCLE_CHART;\n  }\n\n  draw() {\n    const rootSel = this.previewerContext.rootSel;\n    const {width, height} = this.getCanvasSize();\n\n    const scatterdata=[\n        [22,11],\n        [16,39],\n        [22,20],\n        [5,5],\n        [29,39],\n        [30,20],\n        [10,18],\n    ];\n    const xLabels = [0, 15, 30];\n    const yLabels = [20, 40];\n    const layout = new ChartLayout({\n      width, height,\n      topRatio: 0.30,\n      bottomRatio: 0.17,\n      leftRatio: 0.2,\n      rightRatio: 0.2\n    });\n    const barWidthRatio = 0.8;\n    const barHeightRatio = 0.8;\n\n    const xScale = d3.scaleLinear()\n        .domain([0, d3.max(scatterdata, d => d[0]) / barWidthRatio])\n        .range([0, layout.chartWidth])\n        // .padding(barWidthRatio);\n    const yScale = d3.scaleLinear()\n        .domain([0, d3.max(scatterdata, d => d[1]) / barHeightRatio])\n        .range([0, layout.chartHeight])\n\n    const chartGrp = rootSel.append('g')\n        .classed('chart-group', true);\n\n    // create axis\n    const axisGrp = chartGrp.append('g')\n        .classed('axis-group', true);\n\n    const xAxisGrp = axisGrp.append('g')\n        .classed('x-axis-group', true)\n        .attr('transform', `translate(${layout.origin.x},${layout.origin.y})`);\n\n    xAxisGrp.selectAll('text').data(xLabels).enter().append('text')\n        .classed(`chart axis y-axis label`, true)\n        .attr('transform', d => `translate(${xScale(d)},0)`)\n        .attr('dx', 0)\n        .attr('dy', 17)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text(d => d);\n\n    xAxisGrp.append('text')\n        .classed(`chart axis x-axis title`, true)\n        .attr('transform', `translate(${layout.chartWidth},0)`)\n        .attr('dx', 10)\n        .attr('dy', 5)\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('X');\n\n    xAxisGrp.append('line')\n        .classed('chart axis x-axis domain', true)\n        .attr('x1', 0)\n        .attr('y1', 0)\n        .attr('x2', layout.chartWidth)\n        .attr('y2', 0)\n        .attr('stroke', '#808080')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n\n    const yAxisGrp = axisGrp.append('g')\n        .classed('y-axis-group', true)\n        .attr('transform', `translate(${layout.origin.x},${layout.top})`);\n\n    yAxisGrp.selectAll('text').data(yLabels).enter().append('text')\n        .classed(`chart axis y-axis label`, true)\n        .attr('transform', d => `translate(0,${layout.chartHeight - yScale(d)})`)\n        .attr('dx', -14)\n        .attr('dy', 0)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text(d => d);\n\n    yAxisGrp.append('line')\n        .classed('chart axis y-axis domain', true)\n        .attr('x1', 0)\n        .attr('y1', 0)\n        .attr('x2', 0)\n        .attr('y2', layout.chartHeight)\n        .attr('stroke', '#808080')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n\n    yAxisGrp.append('text')\n        .classed(`chart axis y-axis title`, true)\n        .attr('dy', -10)\n        .attr('dx', -5)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('Y');\n\n    // create scatter\n    const markGrp = chartGrp.append('g')\n        .classed('mark-group', true)\n        .attr('transform', `translate(${layout.left},${layout.top})`)\n    markGrp.selectAll('circle').data(scatterdata).enter().append('circle')\n        .classed('chart mark circle', true)\n        .attr('cx', d => xScale(d[0]))\n        .attr('cy', d => layout.chartHeight-yScale(d[1]))\n        .attr('r', 5)\n        .attr('fill', '#409eff');\n\n    // create title\n    const titleGrp = chartGrp.append('g')\n        .classed('title-group', true)\n    titleGrp.append('text')\n        .classed('chart title main-title', true)\n        .attr('transform', `translate(${layout.left + layout.chartWidth / 2},${layout.top})`)\n        .attr('dy', -20)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('Scatter Chart');\n  }\n}\n","import {BasePreviewer} from \"@/core/previewer/BasePreviewer\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport * as d3 from 'd3';\nimport {ChartLayout} from \"@/core/utils/ChartLayout\";\n\nexport class CircleWithLegendPreviewer extends BasePreviewer {\n  constructor() {\n    super();\n    this.previewerType = PreviewerType. CIRCLE_CHART_WITH_LEGEND;\n  }\n\n  draw() {\n    const rootSel = this.previewerContext.rootSel;\n    const {width, height} = this.getCanvasSize();\n\n    // const data = [\n    //   {name: 'A', value: 22},\n    //   {name: 'B', value: 37},\n    //   {name: 'C', value: 30},\n    //   {name: 'D', value: 15},\n    // ];\n\n    const scatterdata=[\n        [22,11],\n        [16,39],\n        [22,20],\n        [5,5],\n        [29,39],\n        [30,20],\n        [10,18],\n    ];\n    const scatterdata1=[\n        [29,39],\n        [30,20],\n        [10,18],\n    ];\n    const scatterdata2=[\n        [22,11],\n        [16,39],\n        [22,20],\n        [5,5],\n    ];\n    const xLabels = [0, 15, 30];\n    const yLabels = [20, 40];\n    const layout = new ChartLayout({\n      width, height,\n      topRatio: 0.30,\n      bottomRatio: 0.17,\n      leftRatio: 0.2,\n      rightRatio: 0.35\n    });\n    const barWidthRatio = 0.8;\n    const barHeightRatio = 0.8;\n\n    const xScale = d3.scaleLinear()\n        .domain([0, d3.max(scatterdata, d => d[0]) / barWidthRatio])\n        .range([0, layout.chartWidth])\n        // .padding(barWidthRatio);\n    const yScale = d3.scaleLinear()\n        .domain([0, d3.max(scatterdata, d => d[1]) / barHeightRatio])\n        .range([0, layout.chartHeight])\n\n    const chartGrp = rootSel.append('g')\n        .classed('chart-group', true);\n\n    // create legend\n    const legendGrp = chartGrp.append('g')\n        .classed('mark-group', true)\n        // .attr('transform', `translate(${layout.right},${layout.top})`);\n\n    legendGrp.append('text')\n        .classed(`chart mark legend`, true)\n        .attr('transform', `translate(${width-layout.right},${layout.top})`)\n        .attr('dx', 0)\n        .attr('dy', 8)\n        .attr('font-weight', 'bold')\n        .attr('fill', '#409eff')\n        .text('ta');\n\n    legendGrp.append('rect')\n        .classed('chart mark legend', true)\n        .attr('transform', `translate(${width-layout.right},${layout.top})`)\n        .attr('width', 18)\n        .attr('height', 8)\n        .attr('x', 20)\n        .attr('y', 0)\n        .attr('fill', '#409eff');\n    \n    legendGrp.append('text')\n        .classed(`chart mark legend`, true)\n        .attr('transform', `translate(${width-layout.right},${layout.top})`)\n        .attr('dx', 0)\n        .attr('dy', 26)\n        .attr('font-weight', 'bold')\n        .attr('fill', '#9ecae1')\n        .text('tb');\n\n    legendGrp.append('rect')\n        .classed('chart mark legend', true)\n        .attr('transform', `translate(${width-layout.right},${layout.top})`)\n        .attr('width', 18)\n        .attr('height', 8)\n        .attr('x', 20)\n        .attr('y', 18)\n        .attr('fill', '#9ecae1');\n\n    // create axis\n    const axisGrp = chartGrp.append('g')\n        .classed('axis-group', true);\n\n    const xAxisGrp = axisGrp.append('g')\n        .classed('x-axis-group', true)\n        .attr('transform', `translate(${layout.origin.x},${layout.origin.y})`);\n\n    xAxisGrp.selectAll('text').data(xLabels).enter().append('text')\n        .classed(`chart axis y-axis label`, true)\n        .attr('transform', d => `translate(${xScale(d)},0)`)\n        .attr('dx', 0)\n        .attr('dy', 17)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text(d => d);\n\n    xAxisGrp.append('text')\n        .classed(`chart axis x-axis title`, true)\n        .attr('transform', `translate(${layout.chartWidth},0)`)\n        .attr('dx', 10)\n        .attr('dy', 5)\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('X');\n\n    xAxisGrp.append('line')\n        .classed('chart axis x-axis domain', true)\n        .attr('x1', 0)\n        .attr('y1', 0)\n        .attr('x2', layout.chartWidth)\n        .attr('y2', 0)\n        .attr('stroke', '#808080')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n\n    const yAxisGrp = axisGrp.append('g')\n        .classed('y-axis-group', true)\n        .attr('transform', `translate(${layout.origin.x},${layout.top})`);\n\n    // yAxisGrp.selectAll('line.tick').data(yLabels.slice(1)).enter().append('line')\n    //     .classed(`chart axis y-axis tick`, true)\n    //     .attr('transform', d => `translate(0,${layout.chartHeight - yScale(d)})`)\n    //     .attr('x1', 0)\n    //     .attr('y1', 0)\n    //     .attr('x2', layout.chartWidth)\n    //     .attr('y2', 0)\n    //     .attr('stroke', '#d9d9d9')\n    //     .attr('stroke-width', 4)\n    //     .attr('stroke-linecap', 'round');\n\n    yAxisGrp.selectAll('text').data(yLabels).enter().append('text')\n        .classed(`chart axis y-axis label`, true)\n        .attr('transform', d => `translate(0,${layout.chartHeight - yScale(d)})`)\n        .attr('dx', -14)\n        .attr('dy', 0)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text(d => d);\n\n    yAxisGrp.append('line')\n        .classed('chart axis y-axis domain', true)\n        .attr('x1', 0)\n        .attr('y1', 0)\n        .attr('x2', 0)\n        .attr('y2', layout.chartHeight)\n        .attr('stroke', '#808080')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n\n    yAxisGrp.append('text')\n        .classed(`chart axis y-axis title`, true)\n        .attr('dy', -10)\n        .attr('dx', -5)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('Y');\n\n    // create scatter\n    const markGrp = chartGrp.append('g')\n        .classed('mark-group', true)\n    \n    const tamarkGrp = markGrp.append('g')\n        .classed('x-axis-group', true)\n        .attr('transform', `translate(${layout.left},${layout.top})`)\n\n    tamarkGrp.selectAll('circle').data(scatterdata1).enter().append('circle')\n        .classed('chart mark circle', true)\n        .attr('cx', d => xScale(d[0]))\n        .attr('cy', d => layout.chartHeight-yScale(d[1]))\n        .attr('r', 5)\n        .attr('fill', '#409eff');\n\n    const tbmarkGrp = markGrp.append('g')\n        .classed('x-axis-group', true)\n        .attr('transform', `translate(${layout.left},${layout.top})`)\n\n    tbmarkGrp.selectAll('circle').data(scatterdata2).enter().append('circle')\n        .classed('chart mark circle', true)\n        .attr('cx', d => xScale(d[0]))\n        .attr('cy', d => layout.chartHeight-yScale(d[1]))\n        .attr('r', 5)\n        .attr('fill', '#9ecae1');\n    // markGrp.selectAll('text').data(data).enter().append('text')\n    //     .attr('ac-data', d => JSON.stringify(d))\n    //     .classed('chart mark label bar-label', true)\n    //     .attr('transform', d =>\n    //         `translate(${xScale(d.name) + xScale.bandwidth()/2},${layout.chartHeight - yScale(d.value)})`)\n    //     .attr('dy', -10)\n    //     .style('text-anchor', 'middle')\n    //     .attr('font-weight', 'bold')\n    //     .attr('fill', '#3d3d3d')\n    //     .text(d => d.value);\n\n    // create title\n    const titleGrp = chartGrp.append('g')\n        .classed('title-group', true)\n    titleGrp.append('text')\n        .classed('chart title main-title', true)\n        .attr('transform', `translate(${layout.left + layout.chartWidth / 2},${layout.top})`)\n        .attr('dy', -30)\n        .attr('dx', 5)\n        .attr('font-size', 13)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('Scatter Chart with Legend');\n  }\n}\n","import {BasePreviewer} from \"@/core/previewer/BasePreviewer\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport * as d3 from 'd3';\n// import {ChartLayout} from \"@/core/utils/ChartLayout\";\n\nexport class ArcPreviewer extends BasePreviewer {\n  constructor() {\n    super();\n    this.previewerType = PreviewerType.PIE_CHART;\n  }\n\n  draw() {\n    const rootSel = this.previewerContext.rootSel;\n    const {width, height} = this.getCanvasSize();\n\n    const  dataset = [ 20 , 25, 55] \n    const outerRadius = 55; \n    const innerRadius = 20; \n\n    // const layout = new ChartLayout({\n    //   width, height,\n    //   topRatio: 0.30,\n    //   bottomRatio: 0.17,\n    //   leftRatio: 0.2,\n    //   rightRatio: 0.35\n    // });\n\n    const piedata = d3.pie()(dataset);\n    const colorlist = ['#409eff','#9ecae1','#2171b5'];\n    const color = d3.scaleOrdinal(colorlist);\n    const numTexts = ['first', 'second', 'third'];\n\n    const arc = d3.arc()\n        .innerRadius(innerRadius)\n        .outerRadius(outerRadius)\n        .padAngle(0.02);\n\n    const chartGrp = rootSel.append('g')\n        .classed('chart-group', true);\n\n    const arcs = chartGrp.append('g')\n        .classed('mark-group', true)\n\n    arcs.selectAll('path').data(piedata).enter().append('path')\n        .each(function(d, i) {\n          d3.select(this).classed(`chart mark sector sector-wheel ${numTexts[i]}`, true);\n        })\n        .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2+10)+')')\n        .attr('fill', (d, i) => {\n            return color(i);\n        })\n        .attr('d', (d) => {\n            return arc(d);\n        });\n\n    const arcslabel = chartGrp.append('g')\n        .classed('label-group', true)\n\n    arcslabel.selectAll('text').data(piedata).enter().append('text')\n        .each(function(d, i) {\n          d3.select(this).classed(`cchart label sector-label ${numTexts[i]}`, true);\n        })\n        // .classed('chart label sector-label', true)\n        .attr('transform', (d) => {\n          return 'translate(' + arc.centroid(d) + ')';\n        })\n        .attr('dx', 100)\n        .attr('dy', 90)\n        .attr('fill', 'white')\n        .attr('text-anchor', 'middle')\n        .text((d) => {\n          return d.data + '%';\n        });\n\n\n    // create title\n    // const titleGrp = chartGrp.append('g')\n    //     .classed('title-group', true)\n    // titleGrp.append('text')\n    //     .classed('chart title main-title', true)\n    //     .attr('transform', `translate(${layout.left + layout.chartWidth / 2},${layout.top})`)\n    //     .attr('dy', -30)\n    //     .attr('dx', 5)\n    //     .attr('font-size', 13)\n    //     .style('text-anchor', 'middle')\n    //     .attr('font-weight', 'bold')\n    //     .attr('fill', '#3d3d3d')\n    //     .text('Arc Chart');\n  }\n}\n","import {BasePreviewer} from \"@/core/previewer/BasePreviewer\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport * as d3 from 'd3';\nimport {ChartLayout} from \"@/core/utils/ChartLayout\";\n\nexport class ArcWithLegendPreviewer extends BasePreviewer {\n  constructor() {\n    super();\n    this.previewerType = PreviewerType.PIE_WITH_LEGEND;\n  }\n\n  draw() {\n    const rootSel = this.previewerContext.rootSel;\n    const {width, height} = this.getCanvasSize();\n\n    const  dataset = [ 20 , 25, 55] \n    const outerRadius = 55; \n    const innerRadius = 20; \n\n    const layout = new ChartLayout({\n      width, height,\n      topRatio: 0.30,\n      bottomRatio: 0.17,\n      leftRatio: 0.2,\n      rightRatio: 0.35\n    });\n\n    const piedata = d3.pie()(dataset);\n    const colorlist = ['#409eff','#9ecae1','#2171b5'];\n    const color = d3.scaleOrdinal(colorlist);\n    const arc = d3.arc()\n        .innerRadius(innerRadius)\n        .outerRadius(outerRadius)\n        .padAngle(0.02);\n    const numTexts = ['first', 'second', 'third'];\n\n    const chartGrp = rootSel.append('g')\n        .classed('chart-group', true);\n\n    const arcs = chartGrp.append('g')\n        .classed('mark-group', true)\n    \n    const arcslabel = chartGrp.append('g')\n        .classed('label-group', true)\n\n    const legendGrp = chartGrp.append('g')\n        .classed('mark-group', true)\n        // .attr('transform', `translate(${layout.right},${layout.top})`);\n\n    // arcs.selectAll('path').data(piedata).enter().append('path')\n    //     .classed('chart mark sector sector-wheel', true)\n    //     .attr('transform', 'translate(' + (width / 2-20) + ',' + (height / 2+10)+')')\n    //     .attr('fill', (d, i) => {\n    //         return color(i);\n    //     })\n    //     .attr('d', (d) => {\n    //         return arc(d);\n    //     });\n\n    // arcslabel.selectAll('text').data(piedata).enter().append('text')\n    //     .classed('chart label arc-label', true)\n    //     .attr('transform', (d) => {\n    //       return 'translate(' + arc.centroid(d) + ')';\n    //     })\n    //     .attr('dx', 80)\n    //     .attr('dy', 90)\n    //     .attr('fill', 'white')\n    //     .attr('text-anchor', 'middle')\n    //     .text((d) => {\n    //       return d.data;\n    //     });\n\n    for (var i=0;i<dataset.length;i++){\n      // if (i===dataset.length-1){\n        arcs.append('path')\n            .classed('chart mark sector sector-wheel ' + numTexts[i], true)\n            .attr('transform', 'translate(' + (width / 2-20) + ',' + (height / 2+10)+')')\n            .attr('fill', color(i))\n            .attr('d', arc(piedata[i]));\n\n        arcslabel.append('text')\n            .classed('chart mark arc-label ' + numTexts[i], true)\n            .attr('transform', 'translate(' + arc.centroid(piedata[i]) + ')')\n            .attr('dx', 80)\n            .attr('dy', 90)\n            .attr('fill', 'white')\n            .attr('text-anchor', 'middle')\n            .text(piedata[i].data+'%');\n      \n        legendGrp.append('text')\n            .classed(`chart mark legend legend-label ` + numTexts[i], true)\n            .attr('transform', `translate(${width-40},${layout.top})`)\n            .attr('dx', 0)\n            .attr('dy', 13*(i+1)-4)\n            .attr('font-weight', 'bold')\n            .attr('fill', color(i))\n            .text('ta');\n    \n         legendGrp.append('rect')\n            .classed('chart mark legend legend-symbol '  + numTexts[i], true)\n            .attr('transform', `translate(${width-40},${layout.top})`)\n            .attr('width', 18)\n            .attr('height', 8)\n            .attr('x', 20)\n            .attr('y', 13*i)\n            .attr('fill', color(i));\n      // }\n      // else{\n      //   arcs.append('path')\n      //   .classed('chart mark sector sector-wheel', true)\n      //     .attr('transform', 'translate(' + (width / 2-20) + ',' + (height / 2+10)+')')\n      //     .attr('fill', color(i))\n      //     .attr('d', arc(piedata[i]));\n\n      //   arcslabel.append('text')\n      //     .classed('chart label arc-label', true)\n      //     .attr('transform', 'translate(' + arc.centroid(piedata[i]) + ')')\n      //     .attr('dx', 80)\n      //     .attr('dy', 90)\n      //     .attr('fill', 'white')\n      //     .attr('text-anchor', 'middle')\n      //     .text(piedata[i].data);\n\n      //   legendGrp.append('text')\n      //     .classed(`chart mark legend legend-label`, true)\n      //     .attr('transform', `translate(${width-40},${layout.top})`)\n      //     .attr('dx', 0)\n      //     .attr('dy', 13*(i+1)-4)\n      //     .attr('font-weight', 'bold')\n      //     .attr('fill', color(i))\n      //     .text('ta');\n  \n      //  legendGrp.append('rect')\n      //     .classed('chart mark legend legend-symbol', true)\n      //     .attr('transform', `translate(${width-40},${layout.top})`)\n      //     .attr('width', 18)\n      //     .attr('height', 8)\n      //     .attr('x', 20)\n      //     .attr('y', 13*i)\n      //     .attr('fill', color(i));\n      // }\n\n    }\n\n\n\n  // for (var i=0;i<dataset.length;i++){\n  //   legendGrp.append('text')\n  //       .classed(`chart mark legend legend-label`, true)\n  //       .attr('transform', `translate(${width-40},${layout.top})`)\n  //       .attr('dx', 0)\n  //       .attr('dy', 13*(i+1)-4)\n  //       .attr('font-weight', 'bold')\n  //       .attr('fill', color(i))\n  //       .text('ta');\n\n  //    legendGrp.append('rect')\n  //       .classed('chart mark legend legend-symbol', true)\n  //       .attr('transform', `translate(${width-40},${layout.top})`)\n  //       .attr('width', 18)\n  //       .attr('height', 8)\n  //       .attr('x', 20)\n  //       .attr('y', 13*i)\n  //       .attr('fill', color(i));\n  // }\n\n\n    // create title\n    // const titleGrp = chartGrp.append('g')\n    //     .classed('title-group', true)\n    // titleGrp.append('text')\n    //     .classed('chart title main-title', true)\n    //     .attr('transform', `translate(${layout.left + layout.chartWidth / 2},${layout.top})`)\n    //     .attr('dy', -30)\n    //     .attr('dx', 5)\n    //     .attr('font-size', 13)\n    //     .style('text-anchor', 'middle')\n    //     .attr('font-weight', 'bold')\n    //     .attr('fill', '#3d3d3d')\n    //     .text('Arc Chart');\n  }\n}\n","import {BasePreviewer} from \"@/core/previewer/BasePreviewer\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\n// import * as d3 from 'd3';\n// import {ChartLayout} from \"@/core/utils/ChartLayout\";\n\nexport class TextPreviewer extends BasePreviewer {\n  constructor() {\n    super();\n    this.previewerType = PreviewerType.TEXT;\n  }\n\n  draw() {\n    const rootSel = this.previewerContext.rootSel;\n    const {width, height} = this.getCanvasSize();\n\n    const chartGrp = rootSel.append('g')\n        .classed('chart-group', true);\n\n    const annotationGrp = chartGrp.append('g')\n        .classed('annotation-group', true);\n\n\n    // create text\n    annotationGrp.append('text')\n        .classed('annotation label number', true)\n        .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2+10)+')')\n        .attr('dy', 0)\n        .attr('dx', 0)\n        .attr('font-size', 35)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('66%');\n  }\n}\n","import {BasePreviewer} from \"@/core/previewer/BasePreviewer\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\n// import * as d3 from 'd3';\n// import {ChartLayout} from \"@/core/utils/ChartLayout\";\n\nexport class TitlePreviewer extends BasePreviewer {\n  constructor() {\n    super();\n    this.previewerType = PreviewerType.TITLE;\n  }\n\n  draw() {\n    const rootSel = this.previewerContext.rootSel;\n    const {width, height} = this.getCanvasSize();\n\n\n    const chartGrp = rootSel.append('g')\n        .classed('chart-group', true);\n\n    const titleGrp = chartGrp.append('g')\n        .classed('title-group', true);\n\n    // create text\n    titleGrp.append('text')\n        .classed('chart title main-title', true)\n        .attr('transform', 'translate(' + (width / 3) + ',' + (height / 3)+')')\n        .attr('dy', 0)\n        .attr('dx', 0)\n        .attr('font-size', 25)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('main title');\n\n    titleGrp.append('text')\n        .classed('chart title sub-title', true)\n        .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2+10)+')')\n        .attr('dy', 0)\n        .attr('dx', 0)\n        .attr('font-size', 20)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text(' sub title');\n  }\n}\n","import {BasePreviewer} from \"@/core/previewer/BasePreviewer\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport * as d3 from 'd3';\nimport {ChartLayout} from \"@/core/utils/ChartLayout\";\n\nexport class LinePreviewer extends BasePreviewer {\n  constructor() {\n    super();\n    this.previewerType = PreviewerType.LINE_CHART;\n  }\n\n  draw() {\n    const rootSel = this.previewerContext.rootSel;\n    const {width, height} = this.getCanvasSize();\n\n    const scatterdata=[\n        [5,15],\n        [15,18],\n        [22,20],\n        [29,39],\n\n    ];\n    const xLabels = [0, 15, 30];\n    const yLabels = [20, 40];\n    const layout = new ChartLayout({\n      width, height,\n      topRatio: 0.30,\n      bottomRatio: 0.17,\n      leftRatio: 0.2,\n      rightRatio: 0.2\n    });\n    const barWidthRatio = 0.8;\n    const barHeightRatio = 0.8;\n\n    const xScale = d3.scaleLinear()\n        .domain([0, d3.max(scatterdata, d => d[0]) / barWidthRatio])\n        .range([0, layout.chartWidth])\n        // .padding(barWidthRatio);\n    const yScale = d3.scaleLinear()\n        .domain([0, d3.max(scatterdata, d => d[1]) / barHeightRatio])\n        .range([0, layout.chartHeight])\n\n    const chartGrp = rootSel.append('g')\n        .classed('chart-group', true);\n\n    // create axis\n    const axisGrp = chartGrp.append('g')\n        .classed('axis-group', true);\n\n    const xAxisGrp = axisGrp.append('g')\n        .classed('x-axis-group', true)\n        .attr('transform', `translate(${layout.origin.x},${layout.origin.y})`);\n\n    xAxisGrp.selectAll('text').data(xLabels).enter().append('text')\n        .classed(`chart axis y-axis label`, true)\n        .attr('transform', d => `translate(${xScale(d)},0)`)\n        .attr('dx', 0)\n        .attr('dy', 17)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text(d => d);\n\n    xAxisGrp.append('text')\n        .classed(`chart axis x-axis title`, true)\n        .attr('transform', `translate(${layout.chartWidth},0)`)\n        .attr('dx', 10)\n        .attr('dy', 5)\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('X');\n\n    xAxisGrp.append('line')\n        .classed('chart axis x-axis domain', true)\n        .attr('x1', 0)\n        .attr('y1', 0)\n        .attr('x2', layout.chartWidth)\n        .attr('y2', 0)\n        .attr('stroke', '#808080')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n\n    const yAxisGrp = axisGrp.append('g')\n        .classed('y-axis-group', true)\n        .attr('transform', `translate(${layout.origin.x},${layout.top})`);\n\n    yAxisGrp.selectAll('text').data(yLabels).enter().append('text')\n        .classed(`chart axis y-axis label`, true)\n        .attr('transform', d => `translate(0,${layout.chartHeight - yScale(d)})`)\n        .attr('dx', -14)\n        .attr('dy', 0)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text(d => d);\n\n    yAxisGrp.append('line')\n        .classed('chart axis y-axis domain', true)\n        .attr('x1', 0)\n        .attr('y1', 0)\n        .attr('x2', 0)\n        .attr('y2', layout.chartHeight)\n        .attr('stroke', '#808080')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n\n    yAxisGrp.append('text')\n        .classed(`chart axis y-axis title`, true)\n        .attr('dy', -10)\n        .attr('dx', -5)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('Y');\n\n\n    // create mark\n    const markGrp = chartGrp.append('g')\n        .classed('mark-group', true);\n    \n    const labelGrp = markGrp.append('g')\n        .classed('label-group', true)\n        .attr('transform', `translate(${layout.left},${layout.top})`);\n\n    labelGrp.selectAll('text').data(scatterdata).enter().append('text')\n        .classed('chart mark label', true)\n        // .attr('transform', d =>`translate(${xScale(d[0])},${layout.chartHeight-yScale(d[1])})`)\n        .attr('dx', d =>xScale(d[0]))\n        .attr('dy', d =>layout.chartHeight-yScale(d[1])-15)\n        .style('text-anchor', 'middle')\n        // .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text(d => d[1]);\n    \n    const scatterGrp = markGrp.append('g')\n        .classed('mark-group', true)\n        .attr('transform', `translate(${layout.left},${layout.top})`)\n\n    scatterGrp.selectAll('circle').data(scatterdata).enter().append('circle')\n        .classed('chart mark circle', true)\n        .attr('cx', d => xScale(d[0]))\n        .attr('cy', d => layout.chartHeight-yScale(d[1]))\n        .attr('r', 5)\n        .attr('fill', '#409eff');\n\n\n    const lineGrp = markGrp.append('g')\n        .classed('line-group', true)\n\n    for (var i=0;i<scatterdata.length;i++){\n        scatterdata[i][0]=xScale(scatterdata[i][0]);\n        scatterdata[i][1]=layout.chartHeight-yScale(scatterdata[i][1]);\n    }\n\n    lineGrp.append('polyline')\n        .classed('chart mark line', true)\n        .attr('transform', `translate(${layout.left},${layout.top})`)\n        .attr(\"points\",scatterdata)\n        .attr('fill','none')\n        .attr('stroke', '#409eff')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n        \n\n    // for (var i=0;i<scatterdata.length-1;i++){\n    //     lineGrp.append('line')\n    //     .classed('chart mark line', true)\n    //     .attr('transform', `translate(${layout.left},${layout.top})`)\n    //     .attr('x1', xScale(scatterdata[i][0]))\n    //     .attr('y1', layout.chartHeight-yScale(scatterdata[i][1]))\n    //     .attr('x2', xScale(scatterdata[i+1][0]))\n    //     .attr('y2', layout.chartHeight-yScale(scatterdata[i+1][1]))\n    //     .attr('stroke', '#808080')\n    //     .attr('stroke-width', 4)\n    //     .attr('stroke-linecap', 'round');\n    // }\n\n\n\n    // create title\n    const titleGrp = chartGrp.append('g')\n        .classed('title-group', true)\n    titleGrp.append('text')\n        .classed('chart title main-title', true)\n        .attr('transform', `translate(${layout.left + layout.chartWidth / 2},${layout.top})`)\n        .attr('dy', -20)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('Line Chart');\n  }\n}\n","import {BasePreviewer} from \"@/core/previewer/BasePreviewer\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport * as d3 from 'd3';\nimport {ChartLayout} from \"@/core/utils/ChartLayout\";\n\nexport class LineWithLegendPreviewer extends BasePreviewer {\n  constructor() {\n    super();\n    this.previewerType = PreviewerType.LINE_CHART_WITH_LEGEND;\n  }\n\n  draw() {\n    const rootSel = this.previewerContext.rootSel;\n    const {width, height} = this.getCanvasSize();\n\n    const data1=[\n        [5,15],\n        [15,18],\n        [22,20],\n        [29,39],\n    ];\n    const data2=[\n        [5,26],\n        [15,28],\n        [22,36],\n        [29,10],\n    ];\n    const xLabels = [0, 15, 30];\n    const yLabels = [20, 40];\n    const layout = new ChartLayout({\n      width, height,\n      topRatio: 0.30,\n      bottomRatio: 0.17,\n      leftRatio: 0.2,\n      rightRatio: 0.2\n    });\n    const barWidthRatio = 0.8;\n    const barHeightRatio = 0.8;\n\n    const xScale = d3.scaleLinear()\n        .domain([0, d3.max(data1, d => d[0]) / barWidthRatio])\n        .range([0, layout.chartWidth])\n        // .padding(barWidthRatio);\n    const yScale = d3.scaleLinear()\n        .domain([0, d3.max(data1, d => d[1]) / barHeightRatio])\n        .range([0, layout.chartHeight])\n\n    const chartGrp = rootSel.append('g')\n        .classed('chart-group', true);\n\n    // create axis\n    const axisGrp = chartGrp.append('g')\n        .classed('axis-group', true);\n\n    const xAxisGrp = axisGrp.append('g')\n        .classed('x-axis-group', true)\n        .attr('transform', `translate(${layout.origin.x},${layout.origin.y})`);\n\n    xAxisGrp.selectAll('text').data(xLabels).enter().append('text')\n        .classed(`chart axis y-axis label`, true)\n        .attr('transform', d => `translate(${xScale(d)},0)`)\n        .attr('dx', 0)\n        .attr('dy', 17)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text(d => d);\n\n    xAxisGrp.append('text')\n        .classed(`chart axis x-axis title`, true)\n        .attr('transform', `translate(${layout.chartWidth},0)`)\n        .attr('dx', 10)\n        .attr('dy', 5)\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('X');\n\n    xAxisGrp.append('line')\n        .classed('chart axis x-axis domain', true)\n        .attr('x1', 0)\n        .attr('y1', 0)\n        .attr('x2', layout.chartWidth)\n        .attr('y2', 0)\n        .attr('stroke', '#808080')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n\n    const yAxisGrp = axisGrp.append('g')\n        .classed('y-axis-group', true)\n        .attr('transform', `translate(${layout.origin.x},${layout.top})`);\n\n    yAxisGrp.selectAll('text').data(yLabels).enter().append('text')\n        .classed(`chart axis y-axis label`, true)\n        .attr('transform', d => `translate(0,${layout.chartHeight - yScale(d)})`)\n        .attr('dx', -14)\n        .attr('dy', 0)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text(d => d);\n\n    yAxisGrp.append('line')\n        .classed('chart axis y-axis domain', true)\n        .attr('x1', 0)\n        .attr('y1', 0)\n        .attr('x2', 0)\n        .attr('y2', layout.chartHeight)\n        .attr('stroke', '#808080')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n\n    yAxisGrp.append('text')\n        .classed(`chart axis y-axis title`, true)\n        .attr('dy', -3)\n        .attr('dx', -5)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('Y');\n\n    // create legend\n    const legendGrp = chartGrp.append('g')\n    .classed('mark-group', true)\n    // .attr('transform', `translate(${layout.right},${layout.top})`);\n\n    legendGrp.append('text')\n        .classed(`chart mark legend`, true)\n        .attr('transform', `translate(${width-layout.right},${layout.top})`)\n        .attr('dx', 0)\n        .attr('dy', 8)\n        .attr('font-weight', 'bold')\n        .attr('fill', '#409eff')\n        .text('ta');\n\n    legendGrp.append('rect')\n        .classed('chart mark legend', true)\n        .attr('transform', `translate(${width-layout.right},${layout.top})`)\n        .attr('width', 18)\n        .attr('height', 8)\n        .attr('x', 20)\n        .attr('y', 0)\n        .attr('fill', '#409eff');\n    \n    legendGrp.append('text')\n        .classed(`chart mark legend`, true)\n        .attr('transform', `translate(${width-layout.right},${layout.top})`)\n        .attr('dx', 0)\n        .attr('dy', 26)\n        .attr('font-weight', 'bold')\n        .attr('fill', '#9ecae1')\n        .text('tb');\n\n    legendGrp.append('rect')\n        .classed('chart mark legend', true)\n        .attr('transform', `translate(${width-layout.right},${layout.top})`)\n        .attr('width', 18)\n        .attr('height', 8)\n        .attr('x', 20)\n        .attr('y', 18)\n        .attr('fill', '#9ecae1');\n\n    // create mark\n    const markGrp = chartGrp.append('g')\n        .classed('mark-group', true);\n\n    const scatterGrp = markGrp.append('g')\n        .classed('mark-group', true)\n        .attr('transform', `translate(${layout.left},${layout.top})`)\n\n    const scatter1Grp = scatterGrp.append('g')\n        .classed('scatter1-group', true)\n\n    scatter1Grp.selectAll('circle').data(data1).enter().append('circle')\n        .classed('chart mark circle', true)\n        .attr('cx', d => xScale(d[0]))\n        .attr('cy', d => layout.chartHeight-yScale(d[1]))\n        .attr('r', 5)\n        .attr('fill', '#409eff');\n\n    const scatter2Grp = scatterGrp.append('g')\n        .classed('scatter2-group', true)\n\n    scatter2Grp.selectAll('circle').data(data2).enter().append('circle')\n        .classed('chart mark circle', true)\n        .attr('cx', d => xScale(d[0]))\n        .attr('cy', d => layout.chartHeight-yScale(d[1]))\n        .attr('r', 5)\n        .attr('fill', '#9ecae1');\n    \n    for (var i=0;i<data1.length;i++){\n        data1[i][0]=xScale(data1[i][0]);\n        data1[i][1]=layout.chartHeight-yScale(data1[i][1]);\n    }\n    \n    for (i=0;i<data2.length;i++){\n        data2[i][0]=xScale(data2[i][0]);\n        data2[i][1]=layout.chartHeight-yScale(data2[i][1]);\n    }\n    \n    const lineGrp = markGrp.append('g')\n        .classed('line-group', true)\n    \n    const line1Grp = lineGrp.append('g')\n        .classed('line1-group', true)\n\n    // for (var i=0;i<data1.length-1;i++){\n    //     line1Grp.append('line')\n    //     .classed('chart mark line', true)\n    //     .attr('transform', `translate(${layout.left},${layout.top})`)\n    //     .attr('x1', xScale(data1[i][0]))\n    //     .attr('y1', layout.chartHeight-yScale(data1[i][1]))\n    //     .attr('x2', xScale(data1[i+1][0]))\n    //     .attr('y2', layout.chartHeight-yScale(data1[i+1][1]))\n    //     .attr('stroke', '#808080')\n    //     .attr('stroke-width', 4)\n    //     .attr('stroke-linecap', 'round');\n    // }\n\n    line1Grp.append('polyline')\n        .classed('chart mark line first', true)\n        .attr('transform', `translate(${layout.left},${layout.top})`)\n        .attr(\"points\",data1)\n        .attr('fill','none')\n        .attr('stroke', '#409eff')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n\n    const line2Grp = lineGrp.append('g')\n        .classed('line2-group', true)\n\n    // for (i=0;i<data2.length-1;i++){\n    //     line2Grp.append('line')\n    //     .classed('chart mark line', true)\n    //     .attr('transform', `translate(${layout.left},${layout.top})`)\n    //     .attr('x1', xScale(data2[i][0]))\n    //     .attr('y1', layout.chartHeight-yScale(data2[i][1]))\n    //     .attr('x2', xScale(data2[i+1][0]))\n    //     .attr('y2', layout.chartHeight-yScale(data2[i+1][1]))\n    //     .attr('stroke', '#808080')\n    //     .attr('stroke-width', 4)\n    //     .attr('stroke-linecap', 'round');\n    // }\n\n    line2Grp.append('polyline')\n        .classed('chart mark line second', true)\n        .attr('transform', `translate(${layout.left},${layout.top})`)\n        .attr(\"points\",data2)\n        .attr('fill','none')\n        .attr('stroke', '#9ecae1')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n\n    // create title\n    const titleGrp = chartGrp.append('g')\n        .classed('title-group', true)\n    titleGrp.append('text')\n        .classed('chart title main-title', true)\n        .attr('transform', `translate(${layout.left + layout.chartWidth / 2},${layout.top})`)\n        .attr('dy', -20)\n        .style('text-anchor', 'middle')\n        .attr('font-weight', 'bold')\n        .attr('fill', '#3d3d3d')\n        .text('Line Chart with Legend');\n  }\n}\n","import {BasePreviewer} from \"@/core/previewer/BasePreviewer\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport * as d3 from 'd3';\nimport {ChartLayout} from \"@/core/utils/ChartLayout\";\n\nexport class PathPreviewer extends BasePreviewer {\n  constructor() {\n    super();\n    this.previewerType = PreviewerType.PATH;\n  }\n\n  draw() {\n    const rootSel = this.previewerContext.rootSel;\n    const {width, height} = this.getCanvasSize();\n\n    const scatterdata=[\n        [5,10],\n        [40,10],\n        [40,35],\n        [5,35],\n        [5,10],\n\n    ];\n    const layout = new ChartLayout({\n      width, height,\n      topRatio: 0.30,\n      bottomRatio: 0.17,\n      leftRatio: 0.2,\n      rightRatio: 0.2\n    });\n    const barWidthRatio = 0.8;\n    const barHeightRatio = 0.8;\n\n    const xScale = d3.scaleLinear()\n        .domain([0, d3.max(scatterdata, d => d[0]) / barWidthRatio])\n        .range([0, layout.chartWidth])\n        // .padding(barWidthRatio);\n    const yScale = d3.scaleLinear()\n        .domain([0, d3.max(scatterdata, d => d[1]) / barHeightRatio])\n        .range([0, layout.chartHeight])\n\n    const chartGrp = rootSel.append('g')\n        .classed('chart-group', true);\n\n\n    // create annotation\n    const annotationGrp = chartGrp.append('g')\n        .classed('annotation-group', true);\n\n\n    for (var i=0;i<scatterdata.length;i++){\n        scatterdata[i][0]=xScale(scatterdata[i][0]);\n        scatterdata[i][1]=layout.chartHeight-yScale(scatterdata[i][1]);\n    }\n\n    annotationGrp.append('polyline')\n        .classed('chart annotation path', true)\n        .attr('transform', `translate(${layout.left},${layout.top})`)\n        .attr(\"points\",scatterdata)\n        .attr('fill','none')\n        .attr('stroke', '#409eff')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n        \n  }\n}\n","import {BasePreviewer} from \"@/core/previewer/BasePreviewer\";\nimport {PreviewerType} from \"@/core/const/PreviewerType\";\nimport * as d3 from 'd3';\n\nexport class HighlightPreviewer extends BasePreviewer {\n  constructor() {\n    super();\n    this.previewerType = PreviewerType.HIGHLIGHT;\n  }\n\n  // barGap*2 barWidth barGap barWidth barGap*2\n  draw() {\n    const rootSel = this.previewerContext.rootSel;\n    const {width, height} = this.getCanvasSize();\n    const barWidth = 25, barGap = 5;\n    const barHeightList = [70, 70, 70];\n    const graphWidth = barHeightList.length * barWidth + (barHeightList.length + 3) * barGap;\n    const left = (width - graphWidth) / 2;\n    const bottom = (height + Math.max(...barHeightList)) / 2;\n    const numTexts = ['first', 'second', 'third', 'forth'];\n\n    const chartGrp = rootSel.append('g')\n        .classed('chart group', true);\n\n    const barGrp = chartGrp.append('g')\n        .classed('mark group', true);\n    barGrp.selectAll('.bar.glyph').data(barHeightList).enter().append('rect')\n        .each(function(d, i) {\n          d3.select(this).classed(`bar glyph ${numTexts[i]}`, true);\n        })\n        .attr('width', barWidth)\n        .attr('height', d => d)\n        .attr('x', (d, i) => left + (i + 2) * barGap + i * barWidth)\n        .attr('y',  (d) => bottom - d)\n        .attr('fill', '#409eff')\n        .attr('rx', 5)\n        .attr('ry', 5);\n    \n    chartGrp.append('rect')\n        .attr('width', barWidth)\n        .attr('height', 70)\n        .attr('x', left + (3 + 2) * barGap + 3 * barWidth)\n        .attr('y', bottom-70)\n        .attr('fill', '#409eff')\n        .attr('rx', 5)\n        .attr('ry', 5);\n\n    chartGrp.append('line')\n        .classed('line axis domain', true)\n        .attr('x1', left)\n        .attr('y1', bottom)\n        .attr('x2', left + graphWidth)\n        .attr('y2', bottom)\n        .attr('stroke', '#808080')\n        .attr('stroke-width', 4)\n        .attr('stroke-linecap', 'round');\n  }\n}\n","import {BlankPreviewer} from \"@/core/previewer/template-previewer/BlankPreviewer\";\nimport {GeneralPreviewer} from \"@/core/previewer/template-previewer/GeneralPreviewer\";\nimport {MovePreviewer} from \"@/core/previewer/template-previewer/MovePreviewer\";\nimport {AnnotationArrowPreviewer} from \"@/core/previewer/template-previewer/AnnotationArrowPreviewer\";\nimport {CameraPreviewer} from \"@/core/previewer/template-previewer/CameraPreviewer\";\nimport {BarChartPreviewer} from \"@/core/previewer/template-previewer/BarChartPreviewer\";\nimport {BarChartWithLegendPreviewer} from \"@/core/previewer/template-previewer/BarChartWithLegendPreviewer\";\nimport {ChartFrameworkPreviewer} from \"@/core/previewer/template-previewer/ChartFrameworkPreviewer\";\nimport {CirclePreviewer} from \"@/core/previewer/template-previewer/CirclePreviewer\";\nimport {CircleWithLegendPreviewer} from \"@/core/previewer/template-previewer/CircleWithLegendPreviewer\";\nimport {ArcPreviewer} from \"@/core/previewer/template-previewer/ArcPreviewer\";\nimport {ArcWithLegendPreviewer} from \"@/core/previewer/template-previewer/ArcWithLegendPreviewer\";\nimport {TextPreviewer} from \"@/core/previewer/template-previewer/TextPreviewer\";\nimport {TitlePreviewer} from \"@/core/previewer/template-previewer/TitlePreviewer\";\nimport {LinePreviewer} from \"@/core/previewer/template-previewer/LinePreviewer\";\nimport {LineWithLegendPreviewer} from \"@/core/previewer/template-previewer/LineWithLegendPreviewer\";\nimport {PathPreviewer} from \"@/core/previewer/template-previewer/PathPreviewer\";\nimport {HighlightPreviewer} from \"@/core/previewer/template-previewer/HighlightPreviewer\";\n\nexport const buildInPreviewers = [\n    new BlankPreviewer(),\n    new GeneralPreviewer(),\n    new MovePreviewer(),\n    new AnnotationArrowPreviewer(),\n    new CameraPreviewer(),\n    new BarChartPreviewer(),\n    new BarChartWithLegendPreviewer(),\n    new ChartFrameworkPreviewer(),\n    new CirclePreviewer(),\n    new CircleWithLegendPreviewer(),\n    new ArcPreviewer(),\n    new ArcWithLegendPreviewer(),\n    new TextPreviewer(),\n    new TitlePreviewer(),\n    new LinePreviewer(),\n    new LineWithLegendPreviewer(),\n    new PathPreviewer(),\n    new HighlightPreviewer(),\n]","import {Parser} from \"@/core/parser/Parser\";\nimport {Generator} from \"@/core/generator/Generator\";\nimport * as d3 from 'd3';\nimport gsap from \"gsap\";\nimport {TemplateLibrary} from \"@/core/library/TemplateLibrary\";\nimport {PreviewerManager} from \"@/core/previewer/PreviewerManager\";\nimport {buildInTemplates} from \"@/core/build-in\";\nimport {buildInWrappers} from \"@/core/previewer/build-in-wrapper\";\nimport {buildInPreviewers} from \"@/core/previewer/template-previewer\";\nimport {AnimationParser} from \"@/core/parser/AnimationParser\";\nimport {JsonUtils} from \"@/core/utils/JsonUtils\";\nimport {ObjectUtils} from \"@/utils/common/ObjectUtils\";\n\nfunction UserException(message) {\n  this.message = message;\n}\n\nexport class Compiler {\n  /** @type {Parser} */\n  parser\n  /** @type {Generator} */\n  generator\n  /** @type {TemplateLibrary} */\n  templateLib\n  /** @type {PreviewerManager} */\n  previewerManager\n\n  constructor() {\n    this.parser = new Parser();\n\n    this.templateLib = new TemplateLibrary();\n    buildInTemplates.forEach(t => this.templateLib.registerBuildInTemplate(t));\n\n    this.previewerManager =  new PreviewerManager(this.templateLib);\n    buildInWrappers.forEach(w => this.previewerManager.registerPreviewWrapper(w));\n    buildInPreviewers.forEach(p => this.previewerManager.registerPreviewer(p));\n  }\n\n  /**\n   * @param {string | HTMLElement} elementOrSelector\n   * @param {string | Object} animationJSON\n   * @param {Object<string, any>} vars\n   * @returns {gsap.core.Timeline}\n   */\n  compile(elementOrSelector, animationJSON, vars={}) {\n    console.log(\"animationJSON\", animationJSON)\n\n    if (animationJSON.variable != null && animationJSON.sequence != null) {\n      animationJSON = this.createReplacedAnimationJSON(animationJSON, animationJSON.variable);\n    }\n    // check children\n    ObjectUtils.traversalObject(animationJSON, (key, current, parent) => {\n      if (current && current.variable != null && current.sequence != null) {\n        parent[key] = this.createReplacedAnimationJSON(current, current.variable);\n      }\n    });\n    const animation = AnimationParser.fromJSON(animationJSON);\n    if (!animation) {\n      throw new UserException('No Animation!');\n    }\n\n    const rootSel = d3.select(elementOrSelector);\n    this.generator = new Generator();\n    this.generator.init(rootSel, this.templateLib, animation);\n\n    rootSel.selectAll('*').each(function() {\n      this._original = {}\n      if (typeof this.getCTM === 'function') {\n        this._original.CTM = this.getCTM();\n      }\n    });\n    const resultTimeline = this.generator.generate();\n\n    const timeline = gsap.timeline({autoRemoveChildren: false, ...vars});\n    timeline.add(resultTimeline);\n    timeline.pause();\n    return timeline;\n  }\n\n  /**\n   * @param {string | HTMLElement} elementOrSelector\n   * @param {string} templateName\n   * @returns {Set<Element>}\n   */\n  computePossibleElements(elementOrSelector, templateName) {\n    const originalRoot = d3.select(elementOrSelector).node();\n\n    const rootSel = d3.select(originalRoot.cloneNode(true));    // type element is ok for d3.select\n    this.generator = new Generator();\n    this.generator.init(rootSel, this.templateLib, null);\n\n    return this.generator.computePossibleElements(templateName);\n  }\n\n  /**\n   * @param {string | HTMLElement} elementOrSelector\n   * @param {string | Object} animationJSON\n   * @param {Object?} variable\n   * @returns {number}\n   */\n  computeDuration(elementOrSelector, animationJSON, variable) {\n    if (variable != null) {\n      animationJSON = this.createReplacedAnimationJSON(animationJSON, variable);\n    }\n    const animation = AnimationParser.fromJSON(animationJSON);\n\n    const originalRoot = d3.select(elementOrSelector).node();\n\n    const rootSel = d3.select(originalRoot.cloneNode(true));    // type element is ok for d3.select\n    this.generator = new Generator();\n    this.generator.init(rootSel, this.templateLib, animation);\n\n    return this.generator.computeDuration() || 1;\n  }\n\n  createReplacedAnimationJSON(animationJSON, variable) {\n    const retJSON = JsonUtils.deepCopy(animationJSON);\n    JsonUtils.traversalObject(retJSON, (key, current, parent) => {\n      if (typeof current !== 'string' || !current.includes('$')) {\n        return;\n      }\n      current = current.trim();\n      if (current.match(/^\\$[0-9a-zA-Z]*$/)) {  // '$xxx'\n        const paramName = current.substr(1);\n        if (paramName in variable) {\n          parent[key] = variable[paramName];\n        }\n      } else {\n        let result = current;\n        Object.keys(variable).forEach(paramName => {\n          result = result.replaceAll('$' + paramName, variable[paramName]);\n        })\n        parent[key] = result;\n      }\n    });\n    console.log(\"animationJSON\", retJSON)\n    return retJSON;\n  }\n}\n","/**\n * @enum {string}\n * @readonly\n */\n export const ComponentType = {\n    GENERAL: 'General',\n    MARK: 'Mark',\n    ANNOTATION: 'Annotation',\n    CHART: 'Chart',\n}","export class BaseFilter {\n    name\n    hardElement\n    softElement\n    componentType\n    animationType\n    effectList\n\n    constructor(\n        name,\n        hardElement,\n        softElement,\n        componentType,\n        animationType,\n        effectList\n    ) {\n        this.name = name;\n        this.hardElement = hardElement;\n        this.softElement = softElement;\n        this.componentType = componentType;\n        this.animationType = animationType;\n        this.effectList = effectList;\n    }\n\n    clone() {\n        return new BaseFilter(\n            this.name,\n            this.hardElement,\n            this.softElement,\n            this.componentType,\n            this.animationType,\n            this.effectList\n        );\n    }\n\n    getName() {\n        return this.name;\n    }\n\n    getHardElement() {\n        return this.hardElement;\n    }\n\n    getSoftElement() {\n        return this.softElement;\n    }\n\n    getComponentType() {\n        return this.componentType;\n    }\n\n    getAnimationType() {\n        return this.animationType;\n    }\n\n    getEffectList() {\n        return this.effectList;\n    }\n\n    relatedTargets(fullTargetList) {\n        const relatedTargets = [];\n        fullTargetList.forEach(ele => {\n            const clist = ele.classList;\n            if (this.hardElement.some(el => clist.includes(el))\n            ||  this.softElement.some(el => clist.includes(el))) {\n                relatedTargets.push(ele);\n            }\n        })\n        return relatedTargets;\n    }\n\n    hasLabel(target) {\n        const cl = target.classList;\n        return cl.includes('x-label') || cl.includes('y-label')\n            || cl.includes('sector-label') || cl.includes('legend-label');\n    }\n\n    isWanted(target, elementList) {\n        const cl = target.classList;\n        let elements=[];\n        elementList.forEach((elem)=> {\n            const elArr = elem.split(' | ');\n            elements=elements.concat(elArr)\n        })\n        return elements.some(el => {\n            // if (el === 'label') {\n            //     return this.hasLabel(target);\n            // }\n            // else {\n                return cl.includes(el);\n            // }\n        });\n    }\n\n    shouldAppear(selectedTargets) {\n        // console.log('selecttarget = ', selectedTargets);\n        // general filter\n        if (this.hardElement.length === 0 && this.softElement.length === 0) {\n            return true;\n        }\n        // includes all hard elements\n        if (!this.hardElement.every(el => {\n            // extra lebel process\n            const elArr = el.split(' | ');\n            const len = elArr.length;\n            // do not include OR element\n            // console.log('ActiveElArr = ', elArr);\n            if (len === 1) {\n                // if (el === 'label') {\n                //     return selectedTargets.some(t => this.hasLabel(t));\n                // } else {\n                    return selectedTargets.some(t => t.classList.includes(el));\n                // }   \n            } else {\n                // len > 1\n                // console.log('len > 1  | elArr = ', elArr);\n                let isMeetOr = false;\n                elArr.forEach((elem)=> {\n                    // if (elem === 'label') {\n                    //     isMeetOr ||= selectedTargets.some(t => this.hasLabel(t));\n                    // } else {\n                        isMeetOr ||= selectedTargets.some(t => t.classList.includes(elem));\n                    // }  \n                })\n                // console.log('isMeetOr = ', isMeetOr);\n                return isMeetOr;\n            }   \n        })) {\n            // do not include all hardElement in this filter\n            return false;\n        }\n        // else\n        // return true;\n\n        // has no other elements except soft elements\n        return selectedTargets.every(el => {\n            return this.isWanted(el, this.hardElement) || this.isWanted(el, this.softElement);\n        });\n    }\n}","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const barWithAxisLabelFilter = new BaseFilter(\n    'Bar with axis label',\n    ['bar', 'axis symbol | x-symbol | y-symbol'],\n    ['bar-label','label'],\n    ComponentType.MARK,\n    AnimationType.ENTER,\n    ['grow bar and zoom label']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const barWithLegendFilter = new BaseFilter(\n    'Bar with legend',\n    ['bar', 'legend'],\n    ['bar-label','label'],\n    ComponentType.MARK,\n    AnimationType.ENTER,\n    ['grow bar and fade in legend']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const lineFilter = new BaseFilter(\n    'Line-wipe',\n    ['line'],\n    ['scatter', 'label','point'],\n    ComponentType.MARK,\n    AnimationType.ENTER,\n    ['wipe line']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const linesByLegendFilter = new BaseFilter(\n    'Lines by legend',\n    ['line', 'legend'],\n    ['scatter', 'label','point'],\n    ComponentType.MARK,\n    AnimationType.ENTER,\n    ['wipe line and fade in legend']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const linesByOrderFilter = new BaseFilter(\n    'Lines by order',\n    ['line', 'legend'],\n    ['scatter', 'label','point'],\n    ComponentType.MARK,\n    AnimationType.ENTER,\n    ['wipe line and fade in legend']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const scatterChartFilter = new BaseFilter(\n    'Scatter chart',\n    ['scatter | point', 'axis'],\n    ['title', 'label'],\n    ComponentType.MARK,\n    AnimationType.ENTER,\n    ['fade in scatter and axis']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const scatterFilter = new BaseFilter(\n    'Scatter-fade in',\n    ['scatter | point'],\n    ['label'],\n    ComponentType.MARK,\n    AnimationType.ENTER,\n    ['fade in scatter']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const scatterWithLegendFilter = new BaseFilter(\n    'Scatter with legend',\n    ['scatter | point', 'legend'],\n    ['label'],\n    ComponentType.MARK,\n    AnimationType.ENTER,\n    ['fade in legend and scatter']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const barFilter = new BaseFilter(\n    'Bar-grow',\n    ['bar'],\n    ['bar-label','label'],\n    ComponentType.MARK,\n    AnimationType.ENTER,\n    ['grow bar']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const barBounceFilter = new BaseFilter(\n    'Bar-bounce',\n    ['bar'],\n    ['bar-label','label'],\n    ComponentType.MARK,\n    AnimationType.HIGHLIGHT,\n    ['move to bar']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const pieFilter = new BaseFilter(\n    'Pie-wheel',\n    ['arc | sector | pie'],\n    ['sector-label','label','sector-line','anno-label'],\n    ComponentType.MARK,\n    AnimationType.ENTER,\n    ['fade in pie']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const pieWithLegendFilter = new BaseFilter(\n    'Pie with legend',\n    ['arc | sector | pie', 'legend'],\n    ['sector-label','label','sector-line','anno-label', 'annotation'],\n    ComponentType.MARK,\n    AnimationType.ENTER,\n    ['fade in pie and fly in legend']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const sectorHighlightFilter = new BaseFilter(\n    'Highlight-sector',\n    ['arc | sector | pie'],\n    ['sector-label','label','sector-line','anno-label'],\n    ComponentType.MARK,\n    AnimationType.HIGHLIGHT,\n    ['fade in pie']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const lineHighlightFilter = new BaseFilter(\n    'Line-highlight',\n    ['line'],\n    [],\n    ComponentType.MARK,\n    AnimationType.HIGHLIGHT,\n    ['highlight line']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const fadeInFilter = new BaseFilter(\n    'Fade-in',\n    [],\n    [],\n    ComponentType.GENERAL,\n    AnimationType.ENTER,\n    ['fade in']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const hideFilter = new BaseFilter(\n    'Hide',\n    [],\n    [],\n    ComponentType.GENERAL,\n    AnimationType.EXIT,\n    ['hide']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const growFilter = new BaseFilter(\n    'Grow',\n    [],\n    [],\n    ComponentType.GENERAL,\n    AnimationType.ENTER,\n    ['grow']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const floatFilter = new BaseFilter(\n    'Float',\n    [],\n    [],\n    ComponentType.GENERAL,\n    AnimationType.ENTER,\n    ['float']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const zoomEnterFilter = new BaseFilter(\n    'Zoom-enter',\n    [],\n    [],\n    ComponentType.GENERAL,\n    AnimationType.ENTER,\n    ['zoom']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const changeColorFilter = new BaseFilter(\n    'Change-color',\n    [],\n    [],\n    ComponentType.GENERAL,\n    AnimationType.HIGHLIGHT,\n    ['change color']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const shineFilter = new BaseFilter(\n    'Shine',\n    [],\n    [],\n    ComponentType.GENERAL,\n    AnimationType.HIGHLIGHT,\n    ['shine']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const showPathFilter = new BaseFilter(\n    'Show-path',\n    ['annotation'],\n    [],\n    ComponentType.ANNOTATION,\n    AnimationType.HIGHLIGHT,\n    ['show path']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const highLightFilter = new BaseFilter(\n    'Highlight',\n    [],\n    [],\n    ComponentType.GENERAL,\n    AnimationType.HIGHLIGHT,\n    ['highlight']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const cameraZoomFilter = new BaseFilter(\n    'Camera-zoom',\n    [],\n    [],\n    ComponentType.GENERAL,\n    AnimationType.HIGHLIGHT,\n    ['camera zoom']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const cameraMoveFilter = new BaseFilter(\n    'Camera-move',\n    [],\n    [],\n    ComponentType.GENERAL,\n    AnimationType.HIGHLIGHT,\n    ['camera move']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const moveToFilter = new BaseFilter(\n    'Move-to',\n    [],\n    [],\n    ComponentType.GENERAL,\n    AnimationType.ENTER,\n    ['move to']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const moveFromFilter = new BaseFilter(\n    'Move-from',\n    [],\n    [],\n    ComponentType.GENERAL,\n    AnimationType.ENTER,\n    ['move from']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const zoomExitFilter = new BaseFilter(\n    'Zoom-exit',\n    [],\n    [],\n    ComponentType.GENERAL,\n    AnimationType.EXIT,\n    ['zoom exit']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const fadeOutFilter = new BaseFilter(\n    'Fade-out',\n    [],\n    [],\n    ComponentType.GENERAL,\n    AnimationType.EXIT,\n    ['fade out']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const flyinFilter = new BaseFilter(\n    'Fly-in',\n    [],\n    [],\n    ComponentType.GENERAL,\n    AnimationType.ENTER,\n    ['Fly-in']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const showAnnotationZoomFilter = new BaseFilter(\n    'Zoom-in-then-zoom-out',\n    [],\n    [],\n    ComponentType.GENERAL,\n    AnimationType.HIGHLIGHT,\n    ['zoom-in-then-zoom-out']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const showArrowLabelAnnotationFilter = new BaseFilter(\n    'Show-arrow-label',\n    ['annotation', 'arrow'],\n    [],\n    ComponentType.ANNOTATION,\n    AnimationType.HIGHLIGHT,\n    ['fade in then fade out annotation']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const circleFilter = new BaseFilter(\n    'Circle',\n    [],\n    [],\n    ComponentType.ANNOTATION,\n    AnimationType.HIGHLIGHT,\n    ['circle']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const arrowFilter = new BaseFilter(\n    'Arrow',\n    [],\n    [],\n    ComponentType.ANNOTATION,\n    AnimationType.HIGHLIGHT,\n    ['arrow']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const textFilter = new BaseFilter(\n    'Text',\n    [],\n    [],\n    ComponentType.ANNOTATION,\n    AnimationType.HIGHLIGHT,\n    ['text']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const contourFilter = new BaseFilter(\n    'Contour',\n    [],\n    [],\n    ComponentType.ANNOTATION,\n    AnimationType.HIGHLIGHT,\n    ['contour']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const fadeInFadeOutFilter = new BaseFilter(\n    'Fade-in-then-fade-out',\n    [],\n    [],\n    ComponentType.GENERAL,\n    AnimationType.HIGHLIGHT,\n    ['fade in then fade out']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const dynamicNumFilter = new BaseFilter(\n    'Dynamic-number',\n    [],\n    // ['annotation'],\n    [],\n    ComponentType.ANNOTATION,\n    AnimationType.HIGHLIGHT,\n    ['dynamtic number']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const titleFilter = new BaseFilter(\n    'Title',\n    ['title'],\n    ['subtitle'],\n    ComponentType.CHART,\n    AnimationType.ENTER,\n    ['fade in title']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const axisFloatInFilter = new BaseFilter(\n    'Axes float in',\n    ['axis'],\n    ['title'],\n    ComponentType.CHART,\n    AnimationType.ENTER,\n    ['float in axis']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const axisFadeInFilter = new BaseFilter(\n    'Axes fade in',\n    ['axis'],\n    ['title'],\n    ComponentType.CHART,\n    AnimationType.ENTER,\n    ['fade in axis']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const barChartFilter = new BaseFilter(\n    'Bar chart',\n    ['bar', 'axis'],\n    ['title','bar-label','label'],\n    ComponentType.CHART,\n    AnimationType.ENTER,\n    ['grow bar and fade in axis']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const barChartWithLegendFilter = new BaseFilter(\n    'Bar chart with legend',\n    ['bar', 'axis', 'legend'],\n    ['title','bar-label','label'],\n    ComponentType.CHART,\n    AnimationType.ENTER,\n    ['grow bar and fade in axis and legend']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const scatterChartWithLegendFilter = new BaseFilter(\n    'Scatter chart with legend',\n    ['scatter | point', 'legend', 'axis'],\n    ['title', 'label'],\n    ComponentType.CHART,\n    AnimationType.ENTER,\n    ['fade in scatter and axis']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const lineChartFilter = new BaseFilter(\n    'Line chart',\n    ['line', 'axis'],\n    ['scatter', 'title', 'label','point'],\n    ComponentType.CHART,\n    AnimationType.ENTER,\n    ['wipe line and fade in axis']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const lineChartByLegendFilter = new BaseFilter(\n    'Line chart by legend',\n    ['line', 'axis'],\n    ['scatter', 'title','legend', 'label','point'],\n    ComponentType.CHART,\n    AnimationType.ENTER,\n    ['wipe line and fade in axis']\n);","import {AnimationType} from \"@/core/const/AnimationType\";\nimport {ComponentType} from \"@/core/const/ComponentType\";\nimport {BaseFilter} from \"@/core/filters/BaseFilter\";\n\nexport const lineChartByOrderFilter = new BaseFilter(\n    'Line chart by order',\n    ['line', 'axis'],\n    ['scatter', 'title','legend', 'label','point'],\n    ComponentType.CHART,\n    AnimationType.ENTER,\n    ['wipe line and fade in axis']\n);","// Mark 12\nimport { barWithAxisLabelFilter } from \"@/core/filters/MarkFilter/MarkBarWithAxisLabelFilter\";\nimport { barWithLegendFilter } from \"@/core/filters/MarkFilter/MarkBarWithLegendFilter\";\nimport { lineFilter } from \"@/core/filters/MarkFilter/MarkLineFilter\";\nimport { linesByLegendFilter } from \"@/core/filters/MarkFilter/MarkLinesByLegendFilter\";\nimport { linesByOrderFilter } from \"@/core/filters/MarkFilter/MarkLinesByOrderFilter\";\nimport { scatterChartFilter } from \"@/core/filters/MarkFilter/MarkScatterChartFilter\";\nimport { scatterFilter } from \"@/core/filters/MarkFilter/MarkScatterFilter\";\nimport { scatterWithLegendFilter } from \"@/core/filters/MarkFilter/MarkScatterWithLegendFilter\";\nimport { barFilter} from \"@/core/filters/MarkFilter/MarkBarFilter\";\nimport { barBounceFilter} from \"@/core/filters/MarkFilter/MarkBarBounceFilter\";\nimport { pieFilter } from \"@/core/filters/MarkFilter/MarkPieFilter\";\nimport { pieWithLegendFilter } from \"@/core/filters/MarkFilter/MarkPieWithLegendFilter\";\nimport { sectorHighlightFilter } from \"@/core/filters/MarkFilter/MarkSectorHighlightFilter\";\nimport { lineHighlightFilter } from \"@/core/filters/MarkFilter/MarkLineHighlightFilter\";\n\n\n// General 15\nimport { fadeInFilter } from \"@/core/filters/GeneralFilter/GeneralFadeInFilter\";\nimport { hideFilter } from \"@/core/filters/GeneralFilter/GeneralHideFilter\";\nimport { growFilter } from \"@/core/filters/GeneralFilter/GeneralGrowFilter\";\nimport { floatFilter } from \"@/core/filters/GeneralFilter/GeneralFloatFilter\";\n// import { basicZoomFilter } from \"@/core/filters/GeneralFilter/GeneralBasicZoomFilter\";\nimport { zoomEnterFilter } from \"@/core/filters/GeneralFilter/GeneralZoomEnterFilter\";\n// import { wipeFilter } from \"@/core/filters/GeneralFilter/GeneralWipeFilter\";\nimport { changeColorFilter } from \"@/core/filters/GeneralFilter/GeneralChangeColorFilter\";\nimport { shineFilter } from \"@/core/filters/GeneralFilter/GeneralShineFilter\";\nimport { showPathFilter } from \"@/core/filters/GeneralFilter/GeneralShowPathFilter\";\nimport { highLightFilter } from \"@/core/filters/GeneralFilter/GeneralHighlightFilter\";\nimport { cameraZoomFilter } from \"@/core/filters/GeneralFilter/GeneralCameraZoomFilter\";\nimport { cameraMoveFilter } from \"@/core/filters/GeneralFilter/GeneralCameraMoveFilter\";\nimport { moveToFilter } from \"@/core/filters/GeneralFilter/GeneralMoveToFilter\";\nimport { moveFromFilter } from \"@/core/filters/GeneralFilter/GeneralMoveFromFilter\";\nimport { zoomExitFilter } from \"@/core/filters/GeneralFilter/GeneralZoomExitFilter\";\n// import { basicZoomExitFilter } from \"@/core/filters/GeneralFilter/GeneralBasicZoomExitFilter\";\nimport { fadeOutFilter } from \"@/core/filters/GeneralFilter/GeneralFadeOutFilter\";\nimport { flyinFilter } from \"@/core/filters/GeneralFilter/GeneralFlyinFilter\";\n\n// Annotation 5\nimport { showAnnotationZoomFilter } from \"@/core/filters/AnnotationFilter/AnnotationZoomInThenZoomOutFilter\";\nimport { showArrowLabelAnnotationFilter } from \"@/core/filters/AnnotationFilter/AnnotationShowArrowLabelAnnotationFilter\";\nimport { circleFilter } from \"@/core/filters/AnnotationFilter/AnnotationCircleFilter\";\nimport { arrowFilter } from \"@/core/filters/AnnotationFilter/AnnotationArrowFilter\";\nimport { textFilter } from \"@/core/filters/AnnotationFilter/AnnotationTextFilter\";\nimport { contourFilter } from \"@/core/filters/AnnotationFilter/AnnotationContourFilter\";\n\nimport { fadeInFadeOutFilter } from \"@/core/filters/AnnotationFilter/AnnotationFadeInFadeOutFilter\";\nimport { dynamicNumFilter } from \"@/core/filters/AnnotationFilter/AnnotationDynamicNumFilter\";\n\n// Chart 9\nimport { titleFilter } from \"@/core/filters/ChartFilter/ChartTitleFilter\";\nimport { axisFloatInFilter } from \"@/core/filters/ChartFilter/ChartAxisFloatInFilter\";\nimport { axisFadeInFilter } from \"@/core/filters/ChartFilter/ChartAxisFadeInFilter\";\nimport { barChartFilter } from \"@/core/filters/ChartFilter/ChartBarChartFilter\";\nimport { barChartWithLegendFilter } from \"@/core/filters/ChartFilter/ChartBarChartWithLegendFilter\";\nimport { scatterChartWithLegendFilter } from \"@/core/filters/ChartFilter/ChartScatterChartWithLegendFilter\";\nimport { lineChartFilter } from \"@/core/filters/ChartFilter/ChartLineChartFilter\";\nimport { lineChartByLegendFilter } from \"@/core/filters/ChartFilter/ChartLineChartByLegendFilter\";\nimport { lineChartByOrderFilter } from \"@/core/filters/ChartFilter/ChartLineChartByOrderFilter\";\n\n\n// grammatically it should be builtInWrappers\nexport const buildInFilters = [\n  // Chart 9\n  titleFilter,\n  axisFloatInFilter,\n  axisFadeInFilter,\n\n  barFilter,\n  barBounceFilter,\n  barWithAxisLabelFilter,\n  barChartFilter,\n  barWithLegendFilter,\n  barChartWithLegendFilter,\n\n\n  lineFilter,\n  lineChartFilter,\n  lineHighlightFilter,\n  linesByLegendFilter,\n  linesByOrderFilter,\n  lineChartByLegendFilter,\n  lineChartByOrderFilter,\n\n  scatterFilter,\n  scatterChartFilter,\n  scatterWithLegendFilter,\n  scatterChartWithLegendFilter,\n\n  pieFilter,\n  sectorHighlightFilter,\n  pieWithLegendFilter,\n\n  // Annotation 5\n\n  showArrowLabelAnnotationFilter,\n  showPathFilter,\n  dynamicNumFilter,\n  showAnnotationZoomFilter,\n  fadeInFadeOutFilter,\n  changeColorFilter,\n  shineFilter,\n  highLightFilter,\n  circleFilter,\n  arrowFilter,\n  textFilter,\n  contourFilter,\n\n  // General 17\n  fadeInFilter,\n  growFilter,\n\n  floatFilter,\n  flyinFilter,\n  // basicZoomFilter,\n  zoomEnterFilter,\n  // wipeFilter,\n  hideFilter,\n  moveToFilter,\n  moveFromFilter,\n  cameraZoomFilter,\n  cameraMoveFilter,\n\n  zoomExitFilter,\n  // basicZoomExitFilter,\n  fadeOutFilter,\n\n\n\n];\n","import {Compiler} from \"@/core/compiler/Compiler\";\nimport {buildInWrappers} from \"@/core/previewer/build-in-wrapper\";\nimport {buildInPreviewers} from \"@/core/previewer/template-previewer\";\nimport {buildInFilters} from \"@/core/filters\";\nimport gsap from 'gsap';\nimport {TemplateParser} from \"@/core/parser/TemplateParser\";\n\ngsap.defaults({\n  immediateRender: false,\n})\n\nconst compiler = new Compiler();\n\n/**\n * @param {Element | string} elementOrSelector\n * @param {Object} json\n * @param {Object<string, any>} vars\n * @returns {gsap.core.Timeline}\n */\nfunction render(elementOrSelector, json, vars) {\n  return compiler.compile(elementOrSelector, json, vars);\n}\n\n/**\n * @returns {PreviewerManager}\n */\nfunction getPreviewerManager() {\n  return compiler.previewerManager;\n}\n\n/**\n * @param {string} templateName\n * @returns {BaseTemplate}\n */\nfunction getTemplate(templateName) {\n  return compiler.templateLib.getTemplate(templateName);\n}\n\n/**\n * Reset the custom templates in lib\n */\nfunction resetTemplateLib() {\n  compiler.templateLib.reset();\n}\n\n/**\n * @param {...Object} templateJSON\n */\nfunction registerTemplates(...templateJSON) {\n  templateJSON.forEach(json => {\n    const template = TemplateParser.fromJSON(json);\n    compiler.templateLib.registerTemplates(template);\n  });\n}\n\n/**\n * @param {string} templateName\n * @returns {string}\n */\nfunction getTemplateClass(templateName) {\n  const wrapper = getPreviewerManager().getDefaultWrapper(templateName);\n  if (wrapper) {\n    return wrapper.templateLabels[0];\n  } else {\n    return 'custom';\n  }\n}\n\n/**\n * @returns {{templateName: string, isBuildIn: boolean}[]}\n */\nfunction getTemplateInfoList() {\n  const templates = [];\n  compiler.templateLib.getAllBuildInTemplates().forEach(template => {\n    templates.push({templateName: template.templateName, isBuildIn: true});\n  });\n  compiler.templateLib.getAllCustomTemplate().forEach(template => {\n    templates.push({templateName: template.templateName, isBuildIn: false});\n  });\n  return templates;\n}\n\n/**\n * @param {string | HTMLElement} elementOrSelector\n * @param {string | Object} animationJSON\n * @param {Object?} variable\n * @returns {number}\n */\nfunction computeDuration(elementOrSelector, animationJSON, variable) {\n  return compiler.computeDuration(elementOrSelector, animationJSON, variable);\n}\n\n/**\n * @param {string | HTMLElement} elementOrSelector\n * @param {string} templateName\n * @returns {Set<Element>}\n */\nfunction computePossibleElements(elementOrSelector, templateName) {\n  return compiler.computePossibleElements(elementOrSelector, templateName);\n}\n\nexport const aniChart = {\n  compiler,\n  buildInWrappers,\n  buildInPreviewers,\n  buildInFilters,\n  render,\n  getPreviewerManager,\n  getTemplate,\n  getTemplateInfoList,\n  resetTemplateLib,\n  registerTemplates,\n  getTemplateClass,\n  computeDuration,\n  computePossibleElements,\n};\n","import axios from \"axios\";\n\n// backend url\nconst baseURL = 'api'\n\nexport function queryNLPParseResult(payload, callback, errorCallBack) {\n  const url = `${baseURL}/nlp/parse`;\n  console.log(\"post\", payload)\n  axios.post(url, payload)\n    .then(rep => {\n      callback(rep.data)\n    }).catch(error => {\n      errorCallBack(error)\n    })\n}\n\nexport function queryNLPGenerateResult(payload, callback, errorCallBack) {\n  const url = `${baseURL}/nlp/generate`;\n  console.log(\"post\", payload)\n  axios.post(url, payload)\n    .then(rep => {\n      callback(rep.data)\n    }).catch(error => {\n      errorCallBack(error)\n    })\n}\n\n","function isPointInElement(x, y, element) {\n  const {x: x1, y: y1, width, height} = element.getBoundingClientRect();\n  const x2 = x1 + width;\n  const y2 = y1 + height;\n  return x1 <= x && x <= x2 && y1 <= y && y <= y2;\n}\n\nfunction getHoveredElements(x, y, elements) {\n  return elements.filter(el => {\n    return isPointInElement(x, y, el);\n  });\n}\n\nfunction getMostPossibleElement(x, y, elements) {\n  const hoveredElements = getHoveredElements(x, y, elements);\n\n  if (hoveredElements.length > 1) {\n    let minDist = Infinity;\n    let closestEl = null;\n    hoveredElements.forEach(el => {\n      // get distance\n      const {x, y, height, width} = el.getBoundingClientRect();\n      const cx = x + width / 2, cy = y + height / 2;\n      const dist = Math.pow(cx - x, 2) + Math.pow(cy - y, 2);\n\n      if (minDist > dist) {\n        minDist = dist;\n        closestEl = el;\n      }\n    });\n    return closestEl;\n\n  } else if (hoveredElements.length === 1) {\n    return hoveredElements[0];\n\n  } else {\n    return null;\n  }\n}\n\nexport const LayoutUtils = {\n  isPointInElement,\n  getHoveredElements,\n  getMostPossibleElement,\n}","/**\n * @enum {string}\n * @readonly\n */\nexport const SelectionToolType = {\n  NORMAL: 'normal',\n  RECT: 'rect',\n  LASSO: 'lasso',\n  CLICK: 'click',\n  COMP: 'component',\n}","function generateTranscript(text, cb) {\n  var sdk = require(\"microsoft-cognitiveservices-speech-sdk\");\n  var subscriptionKey = \"7b4c3cc3778e44c0ad79d8c5afa48590\";\n  var serviceRegion = \"eastus\";\n  // var filename = \"YourAudioFile.wav\";\n\n  // var audioConfig = sdk.AudioConfig.fromAudioFileOutput(filename);\n  var speechConfig = sdk.SpeechConfig.fromSubscription(subscriptionKey, serviceRegion);\n\n  // create the speech synthesizer.\n  // var synthesizer = new sdk.SpeechSynthesizer(speechConfig, audioConfig);\n  var synthesizer = new sdk.SpeechSynthesizer(speechConfig, null);\n\n  const trans = {\n      transcript: text,\n      words: [],\n  };\n\n  const startIndices = []\n\n  var preTime = 0;\n  synthesizer.wordBoundary = function (s, e) {\n      // console.log(\"(WordBoundary), Text: \" + e.text + \", Audio offset: \" + e.audioOffset / 10000 + \"ms.\");\n      let curTime = parseFloat((e.audioOffset / 10000000).toFixed(3));\n      trans.words.push({\n          // startTime: preTime.toString()+\"s\",\n          // endTime: curTime.toString()+\"s\",\n          startTime: preTime,\n          endTime: curTime,\n          selected: false,\n          speakerTag: 0\n      })\n      startIndices.push(e.textOffset);\n      preTime = curTime;\n  };\n\n  synthesizer.speakTextAsync(text,\n      function (result) {\n          if (result.reason === sdk.ResultReason.SynthesizingAudioCompleted) {\n              console.log(\"synthesis finished.\");\n          } else {\n              console.error(\"Speech synthesis canceled, \" + result.errorDetails +\n                  \"\\nDid you update the subscription info?\");\n          }\n          synthesizer.close();\n          synthesizer = undefined;\n\n          for (let i = 0; i < startIndices.length; i++) {\n            var word = '';\n            if (i != startIndices.length - 1) {\n                word = text.slice(startIndices[i], startIndices[i+1])\n            } else {\n                word = text.slice(startIndices[i])\n            }\n            trans.words[i].word = word.trim()\n          }\n          console.log(\"Audio result:\", trans);\n          const audioContext = new AudioContext();\n          cb(trans, audioContext.decodeAudioData(result.audioData));\n      },\n      function (err) {\n          console.trace(\"err - \" + err);\n          synthesizer.close();\n          synthesizer = undefined;\n          cb(undefined, undefined)\n      });\n}\n\nfunction generateTranscript2(tagText, cb) {\n  var sdk = require(\"microsoft-cognitiveservices-speech-sdk\");\n  var subscriptionKey = \"7b4c3cc3778e44c0ad79d8c5afa48590\";\n  var serviceRegion = \"eastus\";\n  // var filename = \"YourAudioFile.wav\";\n\n  // var audioConfig = sdk.AudioConfig.fromAudioFileOutput(filename);\n  var speechConfig = sdk.SpeechConfig.fromSubscription(subscriptionKey, serviceRegion);\n\n  // create the speech synthesizer.\n  // var synthesizer = new sdk.SpeechSynthesizer(speechConfig, audioConfig);\n  var synthesizer = new sdk.SpeechSynthesizer(speechConfig, null);\n\n  // console.log(tagText2plainText(text))\n  const [text, wordsNumList, insightList] = tagText2plainText(tagText)\n  const trans = {\n      transcript: text,\n      words: [],\n  };\n  // console.log(text, wordsNumList)\n  const startIndices = []\n\n  var preTime = 0;\n  synthesizer.wordBoundary = function (s, e) {\n      // var str = `WordBoundary event: \\\n      //     \\r\\n\\tBoundaryType: ${e.boundaryType} \\\n      //     \\r\\n\\tAudioOffset: ${(e.audioOffset + 5000) / 10000}ms \\\n      //     \\r\\n\\tDuration: ${e.duration} \\\n      //     \\r\\n\\tText: \\\"${e.text}\\\" \\\n      //     \\r\\n\\tTextOffset: ${e.textOffset} \\\n      //     \\r\\n\\tWordLength: ${e.wordLength}`;\n      // console.log(e.text, e.textOffset)\n      let curTime = parseFloat((e.audioOffset / 10000000).toFixed(3));\n      let insightTag = 0\n      while(wordsNumList[insightTag] <= e.textOffset){\n        insightTag++\n      }\n      // console.log(insightList[insightTag], e.text, e.textOffset, )\n      trans.words.push({\n          startTime: preTime,\n          endTime: curTime,\n          selected: false,\n          speakerTag: 0,\n          insightTag: insightList[insightTag],\n      })\n      startIndices.push(e.textOffset);\n      preTime = curTime;\n      // word_sum++\n  };\n\n  synthesizer.speakTextAsync(text,\n      function (result) {\n          if (result.reason === sdk.ResultReason.SynthesizingAudioCompleted) {\n              console.log(\"synthesis finished.\");\n          } else {\n              console.error(\"Speech synthesis canceled, \" + result.errorDetails +\n                  \"\\nDid you update the subscription info?\");\n          }\n          synthesizer.close();\n          synthesizer = undefined;\n\n          // console.log(startIndices)\n          for (let i = 0; i < startIndices.length; i++) {\n            var word = '';\n            if (i != startIndices.length - 1) {\n                word = text.slice(startIndices[i], startIndices[i+1])\n            } else {\n                word = text.slice(startIndices[i])\n            }\n            trans.words[i].word = word.trim()\n          }\n          // trans.words = words2sentences(trans.words)\n          const audioContext = new AudioContext();\n          cb(trans, audioContext.decodeAudioData(result.audioData));\n      },\n      function (err) {\n          console.trace(\"err - \" + err);\n          synthesizer.close();\n          synthesizer = undefined;\n          cb(undefined, undefined)\n      });\n}\n\nfunction tagText2plainText(tagText) {\n  let res = ''\n  let wordsNumList = []\n  let insightList = []\n  for(const text of tagText){\n    let sentence = text['insightWords']\n    res += sentence\n    wordsNumList.push(text['pos'][1])\n    insightList.push(text['subType'])\n  }\n  console.log(wordsNumList, insightList)\n  return [res, wordsNumList, insightList]\n}\n\n\nfunction dataURItoBlob(dataURI) {\n  if (!dataURI) {\n    return null;\n  }\n  const mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0]; // mime\n  const byteString = atob(dataURI.split(',')[1]); //base64 \n  const arrayBuffer = new ArrayBuffer(byteString.length); //\n  const intArray = new Uint8Array(arrayBuffer); //\n\n  for (let i = 0; i < byteString.length; i++) {\n    intArray[i] = byteString.charCodeAt(i);\n  }\n  return new Blob([intArray], {type: mimeString});\n}\n\nasync function blobToAudioBuffer(blob) {\n  if (!blob) {\n    return new Promise((resolve) => {\n      resolve(new AudioBuffer({length: 8000, numberOfChannels: 2, sampleRate: 8000}));\n    });\n  }\n  const arrayBuffer = await blob.arrayBuffer();\n  const audioCtx = new AudioContext();\n  return audioCtx.decodeAudioData(arrayBuffer);\n}\n\nfunction computeAudioDuration(audioBuffer) {\n  return audioBuffer.length / audioBuffer.sampleRate;\n}\n\nfunction copy3Sec(audioBuffer) {\n  const channels = audioBuffer.numberOfChannels;\n  const rate = audioBuffer.sampleRate;\n\n  const totFrameCount = rate * 4;\n  const copyFrameCount = rate * 3;\n\n  const newAudioBuffer = new AudioContext().createBuffer(channels, totFrameCount, rate);\n  const tempArray = new Float32Array(copyFrameCount);\n\n  for (let channel = 0; channel < channels; channel++) {\n    audioBuffer.copyFromChannel(tempArray, channel, 0);\n    newAudioBuffer.copyToChannel(tempArray, channel, 0);\n  }\n\n  return newAudioBuffer;\n}\n\nfunction extend1Sec(audioBuffer) {\n  const channels = audioBuffer.numberOfChannels;\n  const rate = audioBuffer.sampleRate;\n\n  const totFrameCount = audioBuffer.length + rate;\n  const copyFrameCount = audioBuffer.length;\n\n  const newAudioBuffer = new AudioContext().createBuffer(channels, totFrameCount, rate);\n  const tempArray = new Float32Array(copyFrameCount);\n\n  for (let channel = 0; channel < channels; channel++) {\n    audioBuffer.copyFromChannel(tempArray, channel, 0);\n    newAudioBuffer.copyToChannel(tempArray, channel, 0);\n  }\n\n  return newAudioBuffer;\n}\n\n\nfunction concatAudio(audioBuffers, extendTimes) {\n  if (audioBuffers.length === 0) {\n    return new AudioContext().createBuffer(2, 0, 1);\n  }\n  const channels = audioBuffers[0].numberOfChannels;\n  const rate = audioBuffers[0].sampleRate;\n\n  let totFrameCount = audioBuffers.reduce((sum, ab) => sum + ab.length, 0);\n  if (extendTimes) {\n    extendTimes.forEach(time => totFrameCount += time * rate);\n  }\n  const newAudioBuffer = new AudioContext().createBuffer(channels, totFrameCount, rate);\n\n  let bufferOffset = 0;\n  for (let i = 0; i < audioBuffers.length; ++i) {\n    const buffer = audioBuffers[i];\n    const srcFrameCount = buffer.length;\n    const tempArray = new Float32Array(srcFrameCount);\n\n    for (let channel = 0; channel < channels; channel++) {\n      buffer.copyFromChannel(tempArray, channel, 0);\n      newAudioBuffer.copyToChannel(tempArray, channel, bufferOffset);\n    }\n    bufferOffset += srcFrameCount;\n    bufferOffset += extendTimes ? extendTimes[i] : 0;\n  }\n  // console.log(\"AUdioText:\", newAudioBuffer);\n  return newAudioBuffer;\n}\n\nfunction audioBufferToBlob(abuffer) {\n  let numOfChan = abuffer.numberOfChannels,\n      length = abuffer.length * numOfChan * 2 + 44,\n      buffer = new ArrayBuffer(length),\n      view = new DataView(buffer),\n      channels = [], i, sample,\n      offset = 0,\n      pos = 0;\n\n  // write WAVE header\n  // \"RIFF\"\n  setUint32(0x46464952);\n  // file length - 8\n  setUint32(length - 8);\n  // \"WAVE\"\n  setUint32(0x45564157);\n  // \"fmt \" chunk\n  setUint32(0x20746d66);\n  // length = 16\n  setUint32(16);\n  // PCM (uncompressed)\n  setUint16(1);\n  setUint16(numOfChan);\n  setUint32(abuffer.sampleRate);\n  // avg. bytes/sec\n  setUint32(abuffer.sampleRate * 2 * numOfChan);\n  // block-align\n  setUint16(numOfChan * 2);\n  // 16-bit (hardcoded in this demo)\n  setUint16(16);\n  // \"data\" - chunk\n  setUint32(0x61746164);\n  // chunk length\n  setUint32(length - pos - 4);\n\n  // write interleaved data\n  for (i = 0; i < abuffer.numberOfChannels; i++)\n    channels.push(abuffer.getChannelData(i));\n\n  while (pos < length) {\n    // interleave channels\n    for (i = 0; i < numOfChan; i++) {\n      // clamp\n      sample = Math.max(-1, Math.min(1, channels[i][offset]));\n      // scale to 16-bit signed int\n      sample = (0.5 + sample < 0 ? sample * 32768 : sample * 32767) | 0;\n      // write 16-bit sample\n      view.setInt16(pos, sample, true);\n      pos += 2;\n    }\n    // next source sample\n    offset++\n  }\n\n  // create Blob\n  var newBolb=new Blob([buffer], {type: \"audio/wav\"});\n  // console.log(\"AUdioText:\", newBolb);\n  return newBolb;\n\n  function setUint16(data) {\n    view.setUint16(pos, data, true);\n    pos += 2;\n  }\n\n  function setUint32(data) {\n    view.setUint32(pos, data, true);\n    pos += 4;\n  }\n}\n\nexport const AudioUtils = {\n  dataURItoBlob,\n  blobToAudioBuffer,\n  audioBufferToBlob,\n  concatAudio,\n  computeAudioDuration,\n  generateTranscript,\n  generateTranscript2,\n  extend1Sec,\n  copy3Sec,\n}\n","import { computeUUID } from \"@/utils/common/uuid\";\n\nfunction updateSVGModel(svgStr, chartId) {\n  console.log(\"targetUtil used\")\n  const svg = (new DOMParser())\n    .parseFromString(svgStr, 'image/svg+xml')\n    .querySelector('svg');\n\n  const domElList = Array.from(svg.querySelectorAll('*:not(g,svg,defs,defs *)'));\n\n  // get groups\n  var groupList = []\n  const groups = Array.from(svg.querySelectorAll('g'));\n  groups.forEach(domEl => {\n    const childEl = Array.from(domEl.children);\n    var subgroupList = [];\n    var flag = 1;\n    if (childEl.length > 1) {\n      for (var i = 0; i < childEl.length; i++) {\n        if (childEl[i].tagName === \"g\") {\n          flag = 0;\n          break;\n        }\n        subgroupList.push(childEl[i].id)\n      }\n      if (flag) {\n        groupList.push(subgroupList);\n      }\n    }\n  });\n  // console.log(\"groupList\", groupList)\n\n\n  // fix id\n  domElList.forEach(domEl => {\n    const elId = domEl.getAttribute('id');\n    if (!elId || elId === '') {\n      domEl.setAttribute('id', 'ac-' + computeUUID());\n    } else {\n      domEl.setAttribute('id', elId.replaceAll(' ', '-'));\n    }\n  });\n\n  // fix class\n  domElList.forEach(domEl => {\n    if (!domEl.classList.contains(chartId)) {\n      domEl.classList.add(chartId);\n      domEl.classList.add('unknown-type')\n    }\n  })\n\n\n\n\n  const { elements, chartType,tableTitle} = getElements(domElList);\n  const targetModel = { chartType: chartType, elements, groups: groupList ,tableTitle};\n  const newSvgStr = domElToString(svg);\n\n  console.log('svg model', targetModel);\n\n  return {\n    targetModel,\n    svgStr: newSvgStr,\n  };\n}\n\nfunction getCommonColorName(colorCode) {\n  // RGB\n  const parseColorCode = (code) => {\n    if (code.startsWith(\"rgb\")) {\n      //  rgb(205, 205, 205) \n      const rgbValues = code.match(/\\d+/g);\n      return rgbValues.map((value) => parseInt(value));\n    } else if (code.startsWith(\"#\")) {\n      //  #E2E1E5  #ddd \n      const hex = code.substring(1);\n      if (hex.length === 3) {\n        //  #ddd \n        const r = parseInt(hex[0] + hex[0], 16);\n        const g = parseInt(hex[1] + hex[1], 16);\n        const b = parseInt(hex[2] + hex[2], 16);\n        return [r, g, b];\n      } else if (hex.length === 6) {\n        //  #E2E1E5 \n        return [\n          parseInt(hex.substring(0, 2), 16),\n          parseInt(hex.substring(2, 4), 16),\n          parseInt(hex.substring(4, 6), 16)\n        ];\n      }\n    }\n    return null;\n  };\n\n  // RGB\n  const rgbToColorName = (rgb) => {\n    const colorNames = {\n      Red: [255, 0, 0],\n      Orange: [255, 165, 0],\n      Yellow: [255, 255, 0],\n      Green: [0, 128, 0],\n      Blue: [0, 0, 255],\n      Purple: [128, 0, 128],\n      Gray: [128, 128, 128],\n      Black: [0, 0, 0],\n      White: [255, 255, 255]\n      // RGB\n    };\n\n    let minDistance = Infinity;\n    let closestColor = null;\n\n    for (const [name, rgbValue] of Object.entries(colorNames)) {\n      const distance = calculateDistance(rgb, rgbValue);\n      if (distance < minDistance) {\n        minDistance = distance;\n        closestColor = name;\n      }\n    }\n\n    return closestColor;\n  };\n\n  // \n  const calculateDistance = (color1, color2) => {\n    const rDiff = color1[0] - color2[0];\n    const gDiff = color1[1] - color2[1];\n    const bDiff = color1[2] - color2[2];\n    return Math.sqrt(rDiff ** 2 + gDiff ** 2 + bDiff ** 2);\n  };\n\n  const rgb = parseColorCode(colorCode);\n  if (rgb) {\n    const colorName = rgbToColorName(rgb);\n    return colorName ? colorName : null;\n  } else {\n    return null;\n  }\n}\n\n\nfunction domElToString(domEl) {\n  const tmp = document.createElement(\"div\");\n  tmp.appendChild(domEl);\n  return tmp.innerHTML;\n}\n\nfunction getElements(domElList) {\n  const elements = [];\n  var tagSet = new Set()\n  var xTitle = null;\n  var yTitle = null;\n  var title = null;\n  let x = null;\n  let y = null;\n  let color = null; \n  domElList.forEach(domEl => {\n    const el = {};\n    const id = domEl.getAttribute('id');\n    const clazz = domEl.getAttribute('class');\n    const colorAttr = domEl.getAttribute('fill');\n    color = colorAttr ? getCommonColorName(colorAttr) : null;\n    const xAttr = domEl.getAttribute('x');\n\n    if (xAttr) {\n        x = parseFloat(xAttr);\n        y = parseFloat(domEl.getAttribute(\"y\"));\n    } else {\n        const transformAttr = domEl.getAttribute(\"transform\");\n        if (transformAttr) {\n            const translateMatch = transformAttr.match(/translate\\(([\\d.-]+),([\\d.-]+)\\)/);\n            if (translateMatch) {\n                x = parseFloat(translateMatch[1]);\n                y = parseFloat(translateMatch[2]);\n            }\n        }\n    }\n\n    const clazzList = clazz.split(' ');\n    const type = clazzList[clazzList.length - 1];\n    const tag = domEl.tagName;\n    tagSet.add(type.toLowerCase());\n\n    if (tag === 'text') {\n      if (domEl.children.length !== 0) {\n        el.text = Array.from(domEl.children)\n          .reduce((str, node) => str + ' ' + node.innerHTML, '')\n          .trim();\n      } else {\n        el.text = domEl.innerHTML;\n      }\n    } else {\n      el.text = null;\n    }\n\n    if (type === \"x-title\") {\n      xTitle = el.text;\n    } else if (type === \"y-title\") {\n      yTitle = el.text;\n    } else if (type === \"main-title\" || type === \"sub-title\") {\n      title = title + el.text + \" \";\n    }\n\n\n    if (type != \"unknown-type\") {\n      var data = domEl.getAttribute('ac-data');\n      if (data) {\n        data = JSON.parse(data);\n      }\n\n      el.type = type;\n      el.id = id;\n      el.clazz = clazz;\n      el.data = data;\n      el.tag = tag;\n      el.color = color;\n      el.x = x\n      el.y = y\n\n      elements.push(el);\n    }\n  });\n\n  // detect charttype\n  const tagList = Array.from(tagSet);\n  var chartType = 'unknown';\n  const arcKey = [\"arc\", \"sec\", \"donut\", \"pie\"];\n  const barKey = [\"bar\"];\n  const mapKey = [\"area\"];\n  const scatterKey = [\"scatter\", \"point\", \"circle\"];\n  const lineKey = [\"line\"];\n  if (tagList.filter(v => arcKey.includes(v)).length > 0) {\n    chartType = \"pie-chart\";\n  } else if (tagList.filter(v => barKey.includes(v)).length > 0) {\n    chartType = \"bar-chart\";\n  } else if (tagList.filter(v => mapKey.includes(v)).length > 0) {\n    chartType = \"map-chart\";\n  } else if (tagList.filter(v => lineKey.includes(v)).length > 0) {\n    chartType = \"line-chart\";\n  } else if (tagList.filter(v => scatterKey.includes(v)).length > 0) {\n    chartType = \"scatter-chart\";\n  }\n  const tableTitle={title:title,xtitle:xTitle,ytitle:yTitle}\n  return { elements, chartType, tableTitle};\n}\n\nexport const TargetUtils = {\n  updateSVGModel, domElToString,\n}","export default {'vega-lite1':{xAxis:'left',yAxis:'bottom',title:'top'},'vega-lite2':{xAxis:'left',yAxis:'bottom',title:'top'},'vega-lite3':{xAxis:'left',yAxis:'bottom',title:'top'},'vega-lite4':{xAxis:'left',yAxis:'bottom',title:'top'},'vega-lite5':{xAxis:'bottom',yAxis:'left',title:'bottom'},'vega-lite6':{xAxis:'bottom',yAxis:'left',title:'bottom'},'vega-lite7':{xAxis:'bottom',yAxis:'left',title:'bottom'},'vega-lite8':{xAxis:'left',yAxis:'bottom',title:'bottom'}}","import { computeUUID } from \"@/utils/common/uuid\";\nimport vegaChartDirectionJSON from \"@/assets/vegaChartDirection.json5\";\nimport { Direction } from \"@/core/const/Direction\";\nconst animationDuration = {\n    'Axes fade in': 1.5,\n    'Fade-in': 1.5,\n    'Lines by legend': 3,\n    'Pie with legend': 3,\n    'Pie-wheel': 3,\n    'Bar-bounce': 1,\n    'Fade-in-then-fade-out': 3,\n    'Zoom-enter': 1,\n    'Zoom-exit': 1,\n    'Show-path': 3,\n    'Fly-in': 1,\n    'Change-color': 3,\n    'Highlight-sector': 3,\n    'Bar with legend': 3,\n    'Arrow': 3,\n    'Text': 3,\n    'Circle': 3,\n    'Contour': 3,\n    'Shine': 3\n}\nconst interval = 1\n\nfunction csv2JSON(str) {\n    var lines = str.split(\"; \");\n    var result = {};\n\n    for (var i = 0; i < lines.length; i++) {\n        var currentline = lines[i].split(\": \");\n        result[currentline[0]] = currentline[1]\n    }\n\n    return result; //JSON\n}\n\nfunction updateSVGModel(svgStr, chartId) {\n    console.log(\"vegatargetUtil used\")\n    // assume it's bar chart for now\n    // const chartType = 'bar-chart'\n    var chartType = chartId.split('-')[0]\n    const insightChartTyoes = [\"pie\", \"line\", \"bar\"]\n    if (insightChartTyoes.indexOf(chartType) < 0) {\n        chartType = 'bar-chart'\n    }\n\n    const svg = (new DOMParser())\n        .parseFromString(svgStr, 'image/svg+xml')\n        .querySelector('svg');\n\n    const domElList = Array.from(svg.querySelectorAll('*:not(g,svg,defs,defs *)')).filter(domEl => domEl.ariaHidden != \"true\");\n\n    const parentElList = Array.from(svg.querySelectorAll('*')).filter(domEl => domEl.ariaRoleDescription != null);\n    // axis, rect mark container (with bar in it), legend\n    var all_data = []\n\n    domElList.forEach(domEl => {\n        domEl.classList.add('chart');\n        // if (domEl.ariaLabel != null && domEl.nodeName !== 'text') {\n        if (domEl.ariaLabel != null) {\n            domEl.setAttribute('ac-data', JSON.stringify(csv2JSON(domEl.ariaLabel)));\n            all_data.push(csv2JSON(domEl.ariaLabel))\n        }\n    })\n\n    parentElList.forEach(domEl => {\n        const ariaLabel = domEl.ariaLabel;\n        switch (domEl.ariaRoleDescription) {\n            case 'axis':\n                var XY = domEl.ariaLabel[0].toLowerCase();\n                // role-axis-tick, role-axis-label, role-axis-domain, role-axis-title\n\n                if (domEl.getElementsByClassName('role-axis-tick').length > 0) {\n                    Array.from(domEl.getElementsByClassName('role-axis-tick')).forEach(el => {\n                        Array.from(el.querySelectorAll('*:not(g,svg,defs,defs *)')).forEach(domEl => {\n                            domEl.classList.add(chartId);\n                            domEl.classList.add('axis');\n                            domEl.classList.add(XY + '-axis');\n                            domEl.classList.add(XY + '-tick');\n                        })\n                    });\n                }\n\n                if (domEl.getElementsByClassName('role-axis-label').length > 0) {\n                    Array.from(domEl.getElementsByClassName('role-axis-label')).forEach(el => {\n                        Array.from(el.querySelectorAll('*:not(g,svg,defs,defs *)')).forEach(domEl => {\n                            if (ariaLabel.includes('discrete')) {\n                                // only record categorical data\n                                domEl.setAttribute('ac-data', JSON.stringify({ 'TEXT': domEl.innerHTML }))\n                            }\n                            domEl.classList.add(chartId);\n                            domEl.classList.add('axis');\n                            domEl.classList.add(XY + '-axis');\n                            domEl.classList.add(XY + '-label');\n                        })\n                    });\n                }\n\n                if (domEl.getElementsByClassName('role-axis-domain').length > 0) {\n                    Array.from(domEl.getElementsByClassName('role-axis-domain')).forEach(el => {\n                        Array.from(el.querySelectorAll('*:not(g,svg,defs,defs *)')).forEach(domEl => {\n                            domEl.classList.add(chartId);\n                            domEl.classList.add('axis');\n                            domEl.classList.add(XY + '-axis');\n                            domEl.classList.add(XY + '-domain');\n                        })\n                    });\n                }\n\n                if (domEl.getElementsByClassName('role-axis-title').length > 0) {\n                    Array.from(domEl.getElementsByClassName('role-axis-title')).forEach(el => {\n                        Array.from(el.querySelectorAll('*:not(g,svg,defs,defs *)')).forEach(domEl => {\n                            domEl.classList.add(chartId);\n                            domEl.classList.add('axis');\n                            domEl.classList.add(XY + '-title');\n                        })\n                    });\n                }\n\n                break;\n            case 'rect mark container':\n                var barEls = Array.from(domEl.querySelectorAll('*:not(g,svg,defs,defs *)'));\n                if (barEls.length > 0) {\n                    barEls.forEach(el => {\n                        el.classList.add(chartId);\n                        el.classList.add('mark');\n                        el.classList.add('bar');\n                    })\n                }\n                break;\n            case 'line mark container':\n                var lineEls = Array.from(domEl.querySelectorAll('*:not(g,svg,defs,defs *)'));\n                if (lineEls.length > 0) {\n                    lineEls.forEach(el => {\n                        el.classList.add(chartId);\n                        el.classList.add('mark');\n                        el.classList.add('line');\n                    })\n                }\n                break;\n            case 'arc mark container':\n                var arcEls = Array.from(domEl.querySelectorAll('*:not(g,svg,defs,defs *)'));\n                if (arcEls.length > 0) {\n                    arcEls.forEach(el => {\n                        el.classList.add(chartId);\n                        el.classList.add('mark');\n                        el.classList.add('sector');\n                    })\n                }\n                break;\n            case 'text mark container':\n                var textEls = Array.from(domEl.querySelectorAll('*:not(g,svg,defs,defs *)'));\n                if (textEls.length > 0) {\n                    textEls.forEach(el => {\n                        el.classList.add(chartId);\n                        // el.classList.add('mark');\n                        el.classList.add('label');\n                        el.classList.add(chartType === 'pie' ? 'sector-label' : 'annotation');\n                    })\n                }\n                break;\n            case 'annotation container':\n                var annoEls = Array.from(domEl.querySelectorAll('*:not(g,svg,defs,defs *)'));\n                if (annoEls.length > 0) {\n                    annoEls.forEach(el => {\n                        el.classList.add(chartId);\n                        el.classList.add('annotation');\n                    })\n                }\n                break;\n            case 'point':\n                domEl.classList.add(chartId);\n                domEl.classList.add('mark');\n                domEl.classList.add('point');\n                break;\n            case 'legend':\n                // legend label, legend symbol\n\n                if (domEl.getElementsByClassName('role-legend-label').length > 0 && domEl.getElementsByClassName('role-legend-symbol').length > 0) {\n                    var labelArr = Array.from(domEl.getElementsByClassName('role-legend-label'));\n                    var symbolArr = Array.from(domEl.getElementsByClassName('role-legend-symbol'));\n                    labelArr.forEach((labelEl, idx) => {\n                        var legend_text = labelEl.textContent.trim();\n                        var symbolEl = symbolArr[idx];\n                        Array.from(labelEl.querySelectorAll('*:not(g,svg,defs,defs *)')).forEach(domEl => {\n                            domEl.setAttribute('ac-data', JSON.stringify({ 'TEXT': legend_text }))\n                            domEl.classList.add(chartId);\n                            domEl.classList.add('legend');\n                            domEl.classList.add('legend-label')\n                        })\n\n                        Array.from(symbolEl.querySelectorAll('*:not(g,svg,defs,defs *)')).forEach(domEl => {\n                            domEl.setAttribute('ac-data', JSON.stringify({ 'TEXT': legend_text }))\n                            domEl.classList.add(chartId);\n                            domEl.classList.add('legend');\n                            domEl.classList.add('legend-symbol')\n                        })\n                    });\n                }\n                break;\n            case 'title':\n                Array.from(domEl.querySelectorAll('*:not(g,svg,defs,defs *)')).forEach(domEl => {\n                    domEl.classList.add(chartId);\n                    domEl.classList.add('title');\n                    domEl.classList.add('sub-title')\n                })\n                break\n        }\n    });\n\n    // role-axis-grid\n    Array.from(svg.getElementsByClassName('role-axis-grid')).forEach(el => {\n        Array.from(el.querySelectorAll('*:not(g,svg,defs,defs *)')).forEach(domEl => {\n            domEl.classList.add(chartId);\n            domEl.classList.add('axis');\n            domEl.classList.add('grid');\n        })\n    })\n\n    // fix id\n    const counters = new Map();\n    domElList.forEach(domEl => {\n        let type = domEl.classList[domEl.classList.length - 1]\n        if (type) {\n            counters.set(type, (counters.get(type) ?? 0) + 1);\n        }\n    });\n\n    counters.forEach((value, key) => {\n        if (value >= 1) {\n            domElList\n                .filter(domEl => domEl.classList[domEl.classList.length - 1] === key)\n                .forEach((domEl, i) => domEl.setAttribute('id', `${key}-${i}`));\n        }\n    });\n\n    // fix id\n    domElList.forEach(domEl => {\n        const elId = domEl.getAttribute('id');\n        if (!elId || elId === '') {\n            domEl.setAttribute('id', domEl.classList[domEl.classList.length - 1] + '-ac-' + computeUUID());\n        }\n    });\n\n    // fix class\n    domElList.forEach(domEl => {\n        if (!domEl.classList.contains(chartId)) {\n            domEl.classList.add(chartId);\n            // TODO: more unkown types\n            if (domEl.tagName === 'rect') {\n                domEl.classList.add('background');\n                domEl.classList.add('bg-rect')\n            } else {\n                domEl.classList.add('unknown-type')\n            }\n        }\n    })\n\n    const elements = getElements(domElList, all_data);\n\n    // TODO: determine direction automatically\n    const layout = vegaChartDirectionJSON[chartId] === undefined ? {\n        \"xAxis\": \"bottom\",\n        \"yAxis\": \"left\",\n        \"title\": \"top\"\n    } : vegaChartDirectionJSON[chartId];\n\n    const targetModel = { chartType: chartType, elements, layout, target_type: 'vega' };\n    const newSvgStr = domElToString(svg);\n\n    // Array.from(svg.querySelectorAll('*:not(svg *)')).filter(domEl => domEl.classList.length > 0).forEach(domEl => {\n    //     domEl\n    //     return\n    // });\n    return {\n        targetModel: targetModel,\n        svgStr: newSvgStr,\n    };\n}\n\nfunction class2target(array) {\n    return array.map(a => '.' + a).join(',')\n}\n\nfunction formatAnimationJSON(target, use, start, cur, offset, settings, hasNarration) {\n    return {\n        target: class2target(target),\n        use: use,\n        timing: {\n            start: hasNarration ? start : cur,\n            duration: animationDuration[use],\n            offset: offset\n        },\n        ani_type: 'Enter',\n        settings: settings\n    }\n}\n\nfunction generateAnimationJSON(transcript, chartType, insightDict, chartId, hasNarration) {\n    let sync = []\n    let curInsightTag = 'title'\n    let isStart = false\n    console.log(transcript, chartType)\n    let startTime = 0, endTime = 0\n    let curTime = 0\n    let aniType = ''\n    console.log(\"hasNarration: \", hasNarration)\n\n    const aniMap = {\n        title: {\n            aniType: 'Axes fade in',\n            target: ['title']\n        },\n        x: {\n            aniType: 'Fade-in',\n            target: ['x-domain', 'x-tick', 'x-label', 'x-axis']\n        },\n        y: {\n            aniType: 'Fade-in',\n            target: ['y-domain', 'y-tick', 'y-label', 'y-axis', 'y-title']\n        },\n        legendLine: {\n            aniType: 'Lines by legend',\n            target: ['line', 'axis', 'legend', 'point']\n        },\n        legendBar: {\n            aniType: 'Bar with legend',\n            target: ['mark', 'legend']\n        },\n        arc: {\n            aniType: chartId.includes('emission') ? 'Pie-wheel' : 'Pie with legend',\n            target: chartId.includes('emission') ? ['sector', 'sector-label'] : ['sector', 'legend', 'sector-label']\n        },\n    }\n    transcript.words.forEach((word, idx) => {\n        // title\n        if (word.insightTag === curInsightTag && !isStart) {\n            startTime = word.startTime\n            isStart = true\n        }\n        const wordsNum = transcript.words.length\n        if (word.insightTag === curInsightTag && (idx != wordsNum - 1 && transcript.words[idx + 1].insightTag !== curInsightTag || idx == wordsNum - 1)) {\n            curInsightTag = curInsightTag.toLowerCase()\n            console.log(\"in \", curInsightTag, idx)\n            isStart = false\n            endTime = word.endTime\n            if (['title', 'x', 'y', 'legend', 'arc'].includes(curInsightTag)) {\n                let subTag = curInsightTag\n                if (curInsightTag === 'legend') {\n                    subTag = chartType === 'line' ? 'legendLine' : 'legendBar'\n                }\n                aniType = aniMap[subTag].aniType\n                sync.push(formatAnimationJSON(aniMap[subTag].target, aniType, startTime, curTime, 0, {}, hasNarration));\n                curTime += animationDuration[aniType] + interval\n            }\n            else if (['maximum', 'minimum', 'majority', 'minority', 'outlier', \"difference\", \"negative\", \"positive\", \"value\"].includes(curInsightTag) || curInsightTag.includes('rank') || curInsightTag.includes('minority') || curInsightTag.includes('value')) {\n                if (chartType === 'bar') {\n                    if (chartId.includes('nuclear')) {\n                        // console.log(idx, curInsightTag)\n                        const para = { 89: ['#0A3B7E', '38582', 180, 70, 14], 102: ['#d00000', '31139', 60, 190, 14] }\n                        if (idx === 89 || idx === 102) {\n                            aniType = 'Text'\n                            sync.push(\n                                formatAnimationJSON([curInsightTag], aniType, startTime, curTime, hasNarration ? (endTime - startTime) * 0.3 : 0, {\n                                    fill: para[idx][0],\n                                    textContent: para[idx][1],\n                                    x: para[idx][2],\n                                    y: para[idx][3],\n                                    fontSize: para[idx][4]\n                                }, hasNarration)\n                            );\n                            curTime += animationDuration[aniType] + interval\n                        }\n                    }\n                    else if (chartId.includes('plan') && ['majority', 'minority'].includes(curInsightTag) ||\n                        chartId.includes('crime') && curInsightTag.includes('value') ||\n                        chartId.includes('media') && curInsightTag === 'difference' ||\n                        chartId.includes('food') && curInsightTag === 'maximum' ||\n                        chartId.includes('food') && curInsightTag === 'minimum'\n                    ) {\n                        aniType = 'Contour'\n                        sync.push(formatAnimationJSON([curInsightTag], aniType, startTime, curTime, hasNarration ? (endTime - startTime) * 0.3 : 0, { customTransform: 'none' }, hasNarration));\n                        curTime += animationDuration[aniType] + interval\n                    }\n                    else if (chartId.includes('food') && curInsightTag === 'outlier') {\n                        aniType = 'Text'\n                        sync.push(formatAnimationJSON([], aniType, startTime, curTime, 0, {\n                            fill: '#f00',\n                            textContent: '56',\n                            x: 100,\n                            y: 130,\n                            fontSize: 16\n                        }, hasNarration),\n                            formatAnimationJSON([curInsightTag], 'Shine', startTime, curTime, hasNarration ? (endTime - startTime) * 0.3 : 0, {}, hasNarration)\n                        );\n                        curTime += animationDuration[aniType] + interval\n                    }\n                    else if (chartId.includes('crime') && curInsightTag === 'minority') {\n                        aniType = 'Arrow'\n                        sync.push(\n                            formatAnimationJSON([], aniType, startTime, curTime, 0, {\n                                color: '#f00',\n                                reverseDirection: true,\n                                scale: 1.5,\n                                x: 305,\n                                y: 210\n                            }, hasNarration),\n                            formatAnimationJSON([], aniType, startTime, curTime, 0, {\n                                color: '#f00',\n                                reverseDirection: true,\n                                scale: 1.5,\n                                x: 343,\n                                y: 215\n                            }, hasNarration),\n                            formatAnimationJSON([curInsightTag], 'Shine', startTime, curTime, 0, {}, hasNarration)\n                        );\n                        curTime += animationDuration[aniType] + interval\n                    }\n                    else {\n                        aniType = 'Bar-bounce'\n                        sync.push(formatAnimationJSON([curInsightTag], aniType, startTime, curTime, hasNarration ? (endTime - startTime) * 0.3 : 0, {}, hasNarration));\n                        curTime += animationDuration[aniType] + interval\n                    }\n                }\n                else if (chartType === 'line') {\n                    if (chartId.includes('death')) {\n                        // console.log(idx)\n                        const para = { 68: [true, 1.5, 100, 115, 67650], 77: [false, 1.5, 326, 57, 103400] }\n                        if (idx === 68 || idx === 77) {\n                            aniType = 'Arrow'\n                            sync.push(\n                                formatAnimationJSON([], aniType, startTime, curTime, 0, {\n                                    color: '#f00',\n                                    reverseDirection: para[idx][0],\n                                    scale: para[idx][1],\n                                    x: para[idx][2],\n                                    y: para[idx][3]\n                                }, hasNarration),\n                                formatAnimationJSON([], 'Text', startTime, curTime, 0, {\n                                    fill: '#f00',\n                                    textContent: para[idx][4],\n                                    x: para[idx][2],\n                                    y: para[idx][3] - (idx === 68 ? 35 : -50),\n                                    fontSize: 14\n                                }, hasNarration)\n                            );\n                            curTime += animationDuration[aniType] + interval\n                        }\n                        else {\n                            aniType = 'Change-color'\n                            sync.push(\n                                formatAnimationJSON([curInsightTag], aniType, startTime, curTime, 0, {\n                                }, hasNarration),\n                                formatAnimationJSON([], 'Text', startTime, curTime, 0, {\n                                    fill: '#f00',\n                                    textContent: '67650',\n                                    x: 100,\n                                    y: 100,\n                                    fontSize: 14\n                                }, hasNarration),\n                                formatAnimationJSON([], 'Text', startTime, curTime, 0, {\n                                    fill: '#f00',\n                                    textContent: '63250',\n                                    x: 525,\n                                    y: 110,\n                                    fontSize: 14\n                                }, hasNarration),\n                            );\n                            curTime += animationDuration[aniType] + interval\n                        }\n                    }\n                    else if (chartId.includes('airport')) {\n                        aniType = 'Circle'\n                        sync.push(\n                            formatAnimationJSON([curInsightTag], aniType, startTime, curTime, 0, {\n                                stroke: '#f00',\n                            }, hasNarration)\n                        );\n                        curTime += animationDuration[aniType] + interval\n                    }\n                    else if (chartId.includes('qatar')) {\n                        const para = {\n                            \"difference\": [678, 169, 146, 0.915, 1.218],\n                            \"value\": [747, 194, 75, 0.605, 2.196]\n                        }\n                        console.log(para[curInsightTag], \"qatar\")\n                        aniType = 'Circle'\n                        sync.push(\n                            formatAnimationJSON([curInsightTag], aniType, startTime, curTime, 0, {\n                                stroke: '#f00',\n                            }, hasNarration),\n                            formatAnimationJSON([curInsightTag], aniType, startTime, curTime, 0, {\n                                stroke: '#f00',\n                            }, hasNarration),\n                            formatAnimationJSON([], 'Text', startTime, curTime, 0, {\n                                x: para[curInsightTag][0] - 20,\n                                y: para[curInsightTag][1] + 40,\n                                fill: '#f00',\n                                textContent: para[curInsightTag][3],\n                                fontSize: 16\n                            }, hasNarration),\n                            formatAnimationJSON([], 'Text', startTime, curTime, 0, {\n                                x: para[curInsightTag][0] - 20,\n                                y: para[curInsightTag][2] - 20,\n                                fill: '#f00',\n                                textContent: para[curInsightTag][4],\n                                fontSize: 16\n                            }, hasNarration)\n                        );\n                        curTime += animationDuration[aniType] + interval\n                    }\n                    else if (chartId.includes('earnings') && curInsightTag === 'value') {\n                        aniType = 'Circle'\n                        sync.push(\n                            formatAnimationJSON([curInsightTag], aniType, startTime, curTime, 0, {\n                                stroke: '#f00',\n                            }, hasNarration)\n                        )\n                        curTime += animationDuration[aniType] + interval\n                    }\n                    else {\n                        sync.push(\n                            formatAnimationJSON([curInsightTag], 'Fade-in-then-fade-out', startTime, curTime, 0, {}, hasNarration),\n                            formatAnimationJSON([curInsightTag + '-annotation'], 'Zoom-enter', startTime, curTime, 0, {}, hasNarration),\n                            formatAnimationJSON([curInsightTag + '-annotation'], 'Zoom-exit', endTime - 1, curTime += animationDuration['Fade-in-then-fade-out'] + 2, 0, {}, hasNarration),\n                        );\n                        curTime += animationDuration['Zoom-exit'] + 2\n                    }\n\n                }\n                else if (chartType === 'pie') {\n                    if (chartId.includes('emission')) {\n                        if (curInsightTag === 'majority' || curInsightTag === 'minority') {\n                            aniType = 'Change-color'\n                            sync.push(\n                                formatAnimationJSON([curInsightTag], aniType, startTime, curTime, 0, {\n                                    fill: '#f00',\n                                    yoyo: true,\n                                    stagger: 0.03\n                                }, hasNarration)\n                            );\n                            curTime += animationDuration[aniType] + interval\n                        }\n                        else {\n                            aniType = 'Change-color'\n                            sync.push(\n                                formatAnimationJSON([curInsightTag], aniType, startTime, curTime, 0, {\n                                    fill: '#f00',\n                                    yoyo: true,\n                                    stagger: 0.03\n                                }, hasNarration)\n                            );\n                            curTime += animationDuration[aniType] + interval\n                        }\n                    }\n                    // no label\n                    else if (chartId.includes('mine-production')) {\n                        if (curInsightTag.includes('value')) {\n                            aniType = 'Zoom-enter'\n                            sync.push(\n                                formatAnimationJSON([curInsightTag], aniType, startTime, curTime, 0, {}, hasNarration),\n                            );\n                            curTime += animationDuration[aniType] + interval\n                        }\n                        else {\n                            aniType = 'Contour'\n                            sync.push(\n                                formatAnimationJSON([curInsightTag], aniType, startTime, curTime, 0, { customTransform: curInsightTag === 'maximum' ? \"matrix(0.86603,-0.5,0.5,0.86603,10.0004,100.00023)\" : \"matrix(0.86603,-0.5,0.5,0.86603,10.00038,100.00036)\" }, hasNarration),\n                            );\n                            curTime += animationDuration[aniType] + interval\n                        }\n                    }\n                    else if (chartId.includes('poverty')) {\n                        if (curInsightTag === 'majority' || curInsightTag === 'minority') {\n                            aniType = 'Contour'\n                            sync.push(formatAnimationJSON([curInsightTag], aniType, startTime, curTime, 0, {}, hasNarration))\n                            curTime += animationDuration[aniType] + interval\n                        }\n                        else {\n                            aniType = 'Change-color'\n                            sync.push(\n                                formatAnimationJSON([curInsightTag], aniType, startTime, curTime, 0, {\n                                    fill: '#f00',\n                                    yoyo: true,\n                                    stagger: 0.03\n                                }, hasNarration)\n                            );\n                            curTime += animationDuration[aniType] + interval\n                        }\n                    }\n                    else {\n                        aniType = 'Contour'\n                        sync.push(formatAnimationJSON([curInsightTag], aniType, startTime, curTime, 0, {}, hasNarration))\n                        curTime += animationDuration[aniType] + interval\n                    }\n\n                }\n            }\n            else if (['normal', 'distribution'].includes(curInsightTag)) {\n                if (chartType === 'pie') {\n                    aniType = 'Show-path'\n                    // sync.push(formatAnimationJSON([curInsightTag], 'Zoom-enter', startTime, curTime, hasNarration ? (endTime - startTime) * 0.2 : 0, {}, hasNarration),\n                    //     formatAnimationJSON([curInsightTag + '-contour'], 'Show-path', startTime, curTime, hasNarration ? (endTime - startTime) * 0.2 : 0, {}, hasNarration),\n                    // );\n                    // curTime += animationDuration[aniType]+interval\n                }\n                else if (chartType === 'bar') {\n                    aniType = 'Zoom-enter'\n                    sync.push(\n                        formatAnimationJSON([curInsightTag + '-annotation'], 'Zoom-enter', startTime, curTime, 0, {}, hasNarration),\n                        formatAnimationJSON([curInsightTag + '-annotation'], 'Zoom-exit', hasNarration ? endTime - 3 : 0, curTime += animationDuration[aniType] + interval, 0, {}, hasNarration),\n                    );\n                    curTime += animationDuration[aniType] + interval\n                }\n            }\n            else if (['increase', 'fluctuate', 'decrease', 'fluctuate_increase', 'fluctuate_decrease'].includes(curInsightTag)) {\n                if (chartType === 'line') {\n                    // sync.push(\n                    //     {\n                    //     target: class2target(['trend-annotation']),\n                    //     use: 'Lines by legend',\n                    //     timing: { ...timing, offset: timing.duration * 0.2 },\n                    //     ani_type: 'Enter',\n                    // },\n                    // {\n                    //     target: class2target(['destory']),\n                    //     use: 'Fade-out',\n                    //     timing: { ...timing, offset: -timing.duration * 0.4, duration: timing.duration * 0.2 },\n                    //     ani_type: 'Enter',\n                    // },\n                    // {\n                    //     target: class2target([`${curInsightTag}-annotation`]),\n                    //     use: 'Fly-in',\n                    //     timing: {\n                    //         start: startTime,\n                    //         duration: 1,\n                    //         offset: 3\n                    //     },\n                    //     ani_type: 'Enter',\n                    // },\n                    // {\n                    //     target: class2target([curInsightTag]),\n                    //     use: 'Change-color',\n                    //     timing: {\n                    //         start: startTime,\n                    //         duration: 3,\n                    //         offset: 0\n                    //     },\n                    //     settings:{fill:\"#f00\", yoyo: true, stagger: 0.03},\n                    //     ani_type: 'Emphasis',\n                    // });\n                    aniType = 'Change-color'\n                    sync.push(\n                        formatAnimationJSON([curInsightTag], aniType, startTime, curTime, 0, {\n                            fill: '#f00',\n                            yoyo: true,\n                            stagger: 0.03\n                        }, hasNarration),\n                        formatAnimationJSON([curInsightTag + '-annotation'], 'Fly-in', startTime, curTime, 0, { direction: chartId.includes('earnings') && curInsightTag === 'increase' ? Direction.LEFT : Direction.RIGHT }, hasNarration),\n                    );\n                    curTime += animationDuration[aniType] + interval\n                }\n                else {\n                    aniType = 'Fly-in'\n                    sync.push(\n                        formatAnimationJSON([curInsightTag + '-annotation'], aniType, startTime, curTime, 0, { direction: chartType === 'bar' && curInsightTag === 'increase' ? Direction.LEFT : Direction.RIGHT }, hasNarration),\n                    );\n                    curTime += animationDuration[aniType] + interval\n                }\n            }\n            if (['average', 'sum', 'count'].includes(curInsightTag)) {\n                if (chartType === 'pie') {\n                    aniType = 'Highlight'\n                    sync.push(formatAnimationJSON([curInsightTag], aniType, startTime, curTime, 0, {}, hasNarration),\n                        formatAnimationJSON([curInsightTag], 'Fade-in-then-fade-out', startTime, curTime, 0, {}, hasNarration),\n                    );\n                    curTime += animationDuration[aniType] + interval\n                }\n            }\n            if (idx !== wordsNum - 1)\n                curInsightTag = transcript.words[idx + 1].insightTag\n        }\n    })\n    console.log(sync)\n    return {\n        sequence: { sync },\n    };\n}\n\nfunction domElToString(domEl) {\n    const tmp = document.createElement(\"div\");\n    tmp.appendChild(domEl);\n    return tmp.innerHTML;\n}\n\nfunction getChartData(domEl) {\n    let data = domEl.getAttribute('ac-data');\n    if (!data) {\n        return null;\n    }\n    return JSON.parse(data);\n}\n\nfunction getCommonColorName(colorCode) {\n    // RGB\n    const parseColorCode = (code) => {\n      if (code.startsWith(\"rgb\")) {\n        //  rgb(205, 205, 205) \n        const rgbValues = code.match(/\\d+/g);\n        return rgbValues.map((value) => parseInt(value));\n      } else if (code.startsWith(\"#\")) {\n        //  #E2E1E5  #ddd \n        const hex = code.substring(1);\n        if (hex.length === 3) {\n          //  #ddd \n          const r = parseInt(hex[0] + hex[0], 16);\n          const g = parseInt(hex[1] + hex[1], 16);\n          const b = parseInt(hex[2] + hex[2], 16);\n          return [r, g, b];\n        } else if (hex.length === 6) {\n          //  #E2E1E5 \n          return [\n            parseInt(hex.substring(0, 2), 16),\n            parseInt(hex.substring(2, 4), 16),\n            parseInt(hex.substring(4, 6), 16)\n          ];\n        }\n      }\n      return null;\n    };\n  \n    // RGB\n    const rgbToColorName = (rgb) => {\n      const colorNames = {\n        Red: [255, 0, 0],\n        Orange: [255, 165, 0],\n        Yellow: [255, 255, 0],\n        Green: [0, 128, 0],\n        Blue: [0, 0, 255],\n        Purple: [128, 0, 128],\n        Gray: [128, 128, 128],\n        Black: [0, 0, 0],\n        White: [255, 255, 255]\n        // RGB\n      };\n  \n      let minDistance = Infinity;\n      let closestColor = null;\n  \n      for (const [name, rgbValue] of Object.entries(colorNames)) {\n        const distance = calculateDistance(rgb, rgbValue);\n        if (distance < minDistance) {\n          minDistance = distance;\n          closestColor = name;\n        }\n      }\n  \n      return closestColor;\n    };\n  \n    // \n    const calculateDistance = (color1, color2) => {\n      const rDiff = color1[0] - color2[0];\n      const gDiff = color1[1] - color2[1];\n      const bDiff = color1[2] - color2[2];\n      return Math.sqrt(rDiff ** 2 + gDiff ** 2 + bDiff ** 2);\n    };\n  \n    const rgb = parseColorCode(colorCode);\n    if (rgb) {\n      const colorName = rgbToColorName(rgb);\n      return colorName ? colorName : null;\n    } else {\n      return null;\n    }\n  }\n\nfunction getElements(domElList, all_data) {\n    const elements = [];\n    domElList.forEach(domEl => {\n        let x = null;\n        let y = null;\n        let color = null;\n\n        const el = {};\n        const id = domEl.getAttribute('id');\n        const clazz = domEl.getAttribute('class');\n        const colorAttr = domEl.getAttribute('fill');\n        color = colorAttr ? getCommonColorName(colorAttr) : null;\n        const xAttr = domEl.getAttribute('x');\n\n\n        if (xAttr) {\n            x = parseFloat(xAttr);\n            y = parseFloat(domEl.getAttribute(\"y\"));\n        } else {\n            const transformAttr = domEl.getAttribute(\"transform\");\n            if (transformAttr) {\n                const translateMatch = transformAttr.match(/translate\\(([\\d.-]+),([\\d.-]+)\\)/);\n                if (translateMatch) {\n                    x = parseFloat(translateMatch[1]);\n                    y = parseFloat(translateMatch[2]);\n                }\n            }\n        }\n\n        const clazzList = clazz.split(' ');\n        const tag = domEl.tagName;\n        const data = getChartData(domEl);\n\n        el.type = clazzList[clazzList.length - 1];\n        el.id = id;\n        el.clazz = clazz;\n        el.data = data;\n        el.tag = tag;\n        el.color = color;\n        el.x = x\n        el.y = y\n\n        if (tag === 'text') {\n            if (domEl.children.length !== 0) {\n                el.text = Array.from(domEl.children)\n                    .reduce((str, node) => str + ' ' + node.innerHTML, '')\n                    .trim();\n            } else {\n                el.text = domEl.innerHTML;\n            }\n        } else {\n            el.text = null;\n        }\n\n        if (el.data != null && 'TEXT' in el.data) {\n            // TODO: store into el.data before get stage\n            el.data = all_data.filter(d => JSON.stringify(d).toLowerCase().includes(el.data['TEXT'].toLowerCase()));\n        }\n\n        elements.push(el);\n    });\n    return elements;\n}\n\nexport const VegaTargetUtils = {\n    updateSVGModel, domElToString, generateAnimationJSON\n}","import {aniChart} from \"@/core\";\nimport * as d3 from 'd3';\nimport gsap from 'gsap';\nimport {AnimationParser} from \"@/core/parser/AnimationParser\";\nimport {Timing} from \"@/core/entities/spec/Timing\";\nimport {computeUUID} from \"@/utils/common/uuid\";\nimport {Notification} from \"element-ui\";\nimport {queryNLPParseResult, queryNLPGenerateResult} from \"@/service/nlpService\";\nimport {deepCopy} from \"@/utils/common/copy\";\nimport {LayoutUtils} from \"@/utils/common/LayoutUtils\";\nimport {SelectionToolType} from \"@/utils/common/SeletionToolType\";\nimport {AudioUtils} from \"@/utils/audio/AudioUtils\";\nimport {TargetUtils} from \"@/utils/target/TargetUtils\";\nimport { faSignInAlt, faSignOutAlt, faLink, faBars, faStar } from '@fortawesome/free-solid-svg-icons';\n// import {InsightUtils} from \"@/utils/insight/InsightUtils\";\nimport {VegaTargetUtils} from \"@/utils/target/VegaTargetUtils\";\n// import { faStar} from '@fortawesome/free-regular-svg-icons';\n// import { faTag, faChartLine, faMapMarkerAlt, faFolderOpen } from \"@fortawesome/free-solid-svg-icons\";\nimport { faTag, faChartLine, faMapMarkerAlt} from \"@fortawesome/free-solid-svg-icons\";\n\nfunction indicesToString(startIdx, endIdx) {\n  const range = (start, end) => Array.from({length: end - start}, (_, i) => i + start);\n  const indices = range(startIdx, endIdx + 1);\n  return '[' + indices.join(',') + ']';\n}\n\nfunction indicesDictToTargetPos(indices_dict) {\n  const wordTargetIconPos = [];\n\n  Object.keys(indices_dict).forEach(k => {\n    const indices = JSON.parse(k);\n    const targets = indices_dict[k];\n\n    wordTargetIconPos.push({\n      startIdx: indices[0],\n      endIdx: indices[indices.length-1],\n      indices: k,\n      target: targets,\n      icon: faLink,\n      id: computeUUID(),\n    });\n  });\n  return wordTargetIconPos;\n}\n\nfunction TargetPosToindicesDict(wordTargetIconPos) {\n  const indices_dict = new Object();\n\n  wordTargetIconPos.forEach((iconPos) => {\n    indices_dict[iconPos.indices] = iconPos.target;\n  });\n  return indices_dict;\n}\n\nfunction getUseToAniMap(aniChart) {\n  const wrappers = aniChart.buildInWrappers;\n  const useToAniMap = new Object();\n  wrappers.forEach(wrapper => {\n    const use = wrapper.getTemplateName();\n    const ani_type = wrapper.animationType;\n    useToAniMap[use] = ani_type;\n  });\n  return useToAniMap;\n}\n\n// initial state\nconst state = () => ({\n  aniChart: aniChart,\n\n  windowWidth: 0,\n  windowHeight: 0,\n\n  headerHeight: 0,\n  footerHeight: 0,\n\n  scene: null,\n\n  // Temporarily disable drag function\n  enableDrag: false,\n\n  sceneEl: null,\n  svgEl: null,\n  aniSceneEl: null,\n  aniSvgEl: null,\n  selectionSvgEl: null,\n  resourceJSON: [],\n  templateJSON: [],\n  animationJSON: {\n    sequence: {\n      sync: [],\n    }\n  },\n  previewAniJSON: {\n    sequence: {\n      sync: [],\n    }\n  },\n  resourceJSONRenderSign: 0,\n  templateJSONRenderSign: 0,\n  animationJSONRenderSign: 0,\n  isSpecTextValid: true,\n  specTextErrorMsg: '',\n\n  timeline: null,\n  timelinePanelEl: null,\n  textPanelEl: null,\n  targetPanelEl: null,\n  textPanelEmpty: false,\n\n  controllerInitSign: 0,\n  svgRenderSign: 0,\n  aniSvgRenderSign: 0,\n\n  mainContainerEl: null,\n  toolboxEl: null,\n  submitToolboxEl: null,\n  staticToolboxEl: null,\n\n  // row: [{use, target, timing}]\n  // matrix of originItem\n  time: 0,\n  timelineRows: [[], [], []],\n  timelineScale: d3.scaleLinear().domain([0, 20]),\n  oldTimelineScale: d3.scaleLinear().domain([0, 20]),\n  timelineWidth: 1000,\n  tlContainerWidth: 0,\n  tlContainerWidthBuffer: 0,\n  timelineRenderSign: 0,\n  durationMap: new Map(),\n\n  targetPanelWidth: 0,\n  leftPanelWidth: 0,\n\n  /** @type {{wordIdx: set()}[]} */\n  wordTargetIconPos: [],\n  transcriptSrc: {\n    transcript: '',\n    words: [],\n  },\n  groupedTargetsMap: new Map(),\n\n  useAudio: true,\n  showPotential: true,\n  audioSrc: '',\n  audioEl: null,\n  audioReady: false,\n\n  nlpLinking: false,\n  nlpLoading: false,\n\n  selectionTool: SelectionToolType.NORMAL,\n  // Register a callback function\n  selectionConfirm: null,\n  stopConfirm: false,\n  selectionLeave: null,\n  stopLeave: false,\n  // hide the toolbox when previewing\n  hideToolbox: false,\n\n  animationStyle: {\n    Enter: {\n      color:'#78c679',\n      icon: faSignInAlt},\n    Emphasis: {\n      color:'#238b45',\n      icon: faStar},\n    Exit: {\n      color:'#99d8c9',\n      icon: faSignOutAlt},\n    Annotate: {\n      color: \"#f56c6c\",\n      icon: faStar},\n    Other: {\n      color: \"#9e4ccd\",\n      icon: faBars},\n  },\n  templateStyle: {\n    Chart: {\n      color: d3.color(d3.schemeCategory10[6]),\n      icon: faChartLine,\n    },\n    Mark: {\n      color: d3.color(d3.schemeCategory10[4]),\n      icon: faMapMarkerAlt,\n    },\n    Annotation: {\n      color: d3.color(d3.schemeCategory10[3]),\n      icon: faTag,\n    },\n    // General: {\n    //   color: d3.color(d3.schemeCategory10[0]),\n    //   icon: faFolderOpen,\n    // },\n  },\n  useToAniMap: getUseToAniMap(aniChart),\n\n  animationName: '',\n  animationType: '',\n  itemForSettings: null,\n  aniSettings: {},\n\n  textPanelText: \"\",\n  audioCompiling: false,\n\n  refresh: true,\n  scrollLeft: 0,\n\n  aniStatus: 'stop', // stop, pause, play\n  compileSuccess: false,\n\n  currentMode: 'normal', // normal, animation, text\n\n  // for debug use\n  enableFilter: true,\n\n  settingPanelVisible: false,\n  clearTextHighlightSign: false,\n  itemUpdateTuple: null,    // the update data for icon in text panel\n\n  highlightItem: null,\n\n  clickIconSignal: null,    // the ani item that invoke click action, from TimelinePanel to TextPanel\n\n  exportSvgEl: null,\n  exportSceneEl: null,\n  exportSign: 0,\n\n  audioBuffer: null,\n  isExportingFiles: false,\n  hasNarration: true\n})\n\n// getters\nconst getters = {\n  svgPanelInSelecting: state => state.selectionTool !== SelectionToolType.NORMAL,\n  aniPlaying: state => state.aniStatus === 'play',\n}\n\n// actions\nconst actions = {\n  queryNLPParseResult({state, commit}) {\n    commit('changeNLPLinking', true);\n    const transcript = deepCopy(state.transcriptSrc);\n    transcript.words.forEach(word => delete word.selected);\n    var dataGroup = {}\n    this.state.target.groupedTargetsMap.forEach((value, key) => {\n      dataGroup[key] = Array.from(value);\n    });\n    const payload = {\n      target_model: state.scene.targetModel,\n      transcript,\n      dataGroup,\n    };\n    queryNLPParseResult(payload, resp => {\n      commit('changeNLPLinking', false);\n      commit('computeWordIdxTargets', resp.indices_dict);\n    }, errorResp => {\n      commit('changeNLPLinking', false);\n      Notification({title: `NLP Parse failed`,\n        message: errorResp.message, type: 'warning'})\n      console.log(errorResp);\n    })\n  },\n  queryNLPGenerateResult({state, commit}) {\n    commit('changeNLPLoading', true);\n\n    const transcript = deepCopy(state.transcriptSrc);\n    transcript.words.forEach(word => delete word.selected);\n    var dataGroup = {}\n    this.state.target.groupedTargetsMap.forEach((value, key) => {\n      dataGroup[key] = Array.from(value);\n    });\n    const indices_dict = TargetPosToindicesDict(state.wordTargetIconPos);\n    const payload = {\n      target_model: state.scene.targetModel,\n      transcript,\n      dataGroup,\n      indices_dict\n    };\n\n    console.log('nlp payload', payload);\n    queryNLPGenerateResult(payload, resp => {\n      console.log('nlp resp', resp);\n      const animationJSON = resp.AnimationJSON;\n\n      commit('changeNLPLoading', false);\n\n      state.wordTargetIconPos = [];\n\n      commit('updateEditorUsingAnimationJSON', animationJSON ?? {});\n      commit('changeAnimationJSONRenderSign');\n      Notification({title: `Generate finished`, type: 'success'})\n    }, errorResp => {\n      commit('changeNLPLoading', false);\n      Notification({title: `Generate failed`,\n        message: errorResp.message, type: 'warning'})\n      console.log(errorResp);\n    })\n  },\n}\n\n// mutations\nconst mutations = {\n  changeAniStatus(state, status) {\n    state.aniStatus = status;\n  },\n  changeWindowSize(state) {\n    state.windowWidth = document.body.clientWidth;\n    state.windowHeight = document.body.clientHeight;\n  },\n  changeLeftPanelWidth(state, leftPanelWidth) {\n    state.leftPanelWidth = leftPanelWidth;\n  },\n  changeHeaderHeight(state, headerHeight) {\n    state.headerHeight = headerHeight;\n  },\n  changeFooterHeight(state, footerHeight) {\n    state.footerHeight = footerHeight;\n  },\n  changeScene(state, scene) {\n    state.scene = scene;\n  },\n  changeSceneById(state, id) {\n    state.scene = this.state.project.scenes[id];\n  },\n  changetextPanelText(state, textPanelText){\n    state.textPanelText = textPanelText;\n    if (textPanelText === '') {\n      state.textPanelEmpty = true;\n    }\n  },\n  changeRefresh(state) {\n    state.refresh = !state.refresh;\n  },\n  mountSceneElement(state, sceneEl) {\n    state.sceneEl = sceneEl;\n  },\n  mountAniSceneElement(state, sceneEl) {\n    state.aniSceneEl = sceneEl;\n  },\n  mountSvgElement(state, svgEl) {\n    state.svgEl = svgEl;\n  },\n  mountSelectionSvgElement(state, svgEl) {\n    state.selectionSvgEl = svgEl;\n  },\n  mountAniSvgElement(state, svgEl) {\n    state.aniSvgEl = svgEl;\n  },\n  mountAudioElement(state, audioEl) {\n    state.audioEl = audioEl;\n  },\n  mountMainContainer(state, mainContainerEl) {\n    state.mainContainerEl = mainContainerEl;\n  },\n  mountTb(state, tbEl) {\n    state.toolboxEl = tbEl;\n  },\n  mountToolbox(state, submitToolboxEl) {\n    state.submitToolboxEl = submitToolboxEl;\n  },\n  mountStaticToolbox(state, staticToolboxEl) {\n    state.staticToolboxEl = staticToolboxEl;\n  },\n  changeTempAnimationSelection(state, {aniName = '', aniType = ''}) {\n    state.animationName = aniName;\n    state.animationType = aniType;\n  },\n  changeItemForSettings(state, item) {\n    state.itemForSettings = item;\n    console.log('changeItemForSettings', state.itemForSettings)\n  },\n  updateItemType(state, {aniName, aniType}) {\n    if (state.itemForSettings) {\n      // otherwise, is creating a new item\n      state.itemForSettings.use = aniName;\n      state.itemForSettings.ani_type = aniType;\n    }\n  },\n  changeItemSettings(state, setting) {\n    state.aniSettings = setting;\n  },\n  changeMode(state, mode) {\n    state.currentMode = mode;\n  },\n  changeFilterSwitch(state, enableFilter) {\n    state.enableFilter = enableFilter;\n  },\n  initToolboxPos(state) {\n    const el = state.toolboxEl;\n    const pos = el.getBoundingClientRect();\n    this.commit('editor/moveToolbox', {\n      ele: state.submitToolboxEl,\n      right: pos.right,\n      top: pos.top + pos.height + 10,\n    });\n    this.commit('editor/moveToolbox', {\n      ele: state.staticToolboxEl,\n      right: pos.right,\n      top: pos.top + pos.height + 10,\n    });\n  },\n  moveToolbox(state, {ele, left=null, top=null, right=null, bottom=null}) {\n    if (!ele) ele = state.submitToolboxEl;\n    if (!ele) return;\n    const faEle = state.mainContainerEl;\n    const faPos = faEle.getBoundingClientRect();\n    if (left) {\n      ele.style.left = left - faPos.left + 'px';\n    }\n    else ele.style.left = '';\n\n    if (right) {\n      ele.style.right = faPos.right - right + 'px';\n    }\n    else ele.style.right = '';\n\n    if (top) {\n      ele.style.top = top - faPos.top + 'px';\n    }\n    else ele.style.top = '';\n\n    if (bottom) {\n      ele.style.bottom = faPos.bottom - bottom + 'px';\n    }\n    else ele.style.bottom = '';\n  },\n  initLinking(state) {\n    // init text linking\n    if (state.scene?.linking) {\n      this.commit('editor/computeWordIdxTargets', deepCopy(state.scene.linking));\n    }\n  },\n  initWorkspace(state, loadExample=false) {\n    state.controllerInitSign ^= 1;\n    state.selectionTool = SelectionToolType.NORMAL;\n    state.wordTargetIconPos = [];\n    state.indice_dict = new Map();\n\n    if (state.timeline) {\n      state.timeline.kill();\n      state.timeline.clear();\n      state.timeline = null;\n    }\n\n    try {\n      const json = deepCopy(state.scene?.spec);\n      this.commit('editor/updateEditorUsingResourcesJSON', json?.charts ?? []);\n      this.commit('editor/updateEditorUsingTemplateJSON', json?.templates ?? []);\n\n      const nullAnimation = {\n        sequence: {\n          sync: [],\n        }};\n\n      if (loadExample)\n        this.commit('editor/updateEditorUsingAnimationJSON', json?.animation ?? nullAnimation);\n      else\n        this.commit('editor/updateEditorUsingAnimationJSON', nullAnimation);\n\n      setTimeout(() => {\n        state.resourceJSONRenderSign ^= 1;\n        state.templateJSONRenderSign ^= 1;\n        state.animationJSONRenderSign ^= 1;\n      }, 0);\n    } catch (e) {\n      console.error(e);\n    }\n\n    // init svg\n    this.commit('editor/changeSvgRenderSign');\n\n\n    // init target model\n    if (this.scene?.targetModel)\n      this.commit('target/initTargetModel', deepCopy(state.scene.targetModel));\n\n    // init transcript\n    const rawTrans = deepCopy(state.scene?.transcript);\n    const trans = {\n      transcript: '',\n      words: [],\n    };\n    rawTrans?.results?.forEach(result => {\n      result.alternatives.forEach(alt => {\n        trans.transcript += alt.transcript;\n        trans.words.push(...alt.words);\n        alt.words.forEach(w => {\n          w.startTime = parseFloat(w.startTime.replace('s', ''));\n          w.endTime = parseFloat(w.endTime.replace('s', ''));\n          w.selected = false;\n        })\n      });\n    });\n\n    // this.commit('editor/updateAudio', trans.transcript)\n    // use previous audio when init\n    state.transcriptSrc = trans;\n    this.commit('editor/changetextPanelText', trans.transcript)\n\n    // init target model\n    if (state.scene?.targetModel)\n      this.commit('target/initTargetModel', deepCopy(state.scene.targetModel));\n\n    console.log(\"this.scene\", state.scene)\n\n    // init audio resource\n    if (state.scene?.audioStr) {\n      const dataURI = state.scene.audioStr;\n      const audioBlob = AudioUtils.dataURItoBlob(dataURI);\n      // const audioSrc = window.URL.createObjectURL(audioBlob);\n      // this.commit('editor/setAudioSrc', audioSrc);\n      AudioUtils.blobToAudioBuffer(audioBlob)\n          .then(audioBuffer => {\n            const newAudioBuffer = AudioUtils.extend1Sec(audioBuffer);\n            const newAudioBlob = AudioUtils.audioBufferToBlob(newAudioBuffer);\n            const audioSrc = window.URL.createObjectURL(newAudioBlob);\n            this.commit('editor/setAudioSrc', audioSrc);\n            this.commit('editor/setAudioBuffer', newAudioBuffer);\n          });\n    }\n\n  },\n  updateAudio(state, transcript){\n    state.audioCompiling = true;\n    let _this = this;\n    if (typeof transcript!==\"string\") state.audioCompiling = false;\n    AudioUtils.generateTranscript(transcript, function(trans, audioPromise) {\n      state.transcriptSrc = trans;\n      if (audioPromise != undefined) {\n        audioPromise.then(audioBuffer => {\n          const newAudioBuffer = AudioUtils.extend1Sec(audioBuffer);\n          const newAudioBlob = AudioUtils.audioBufferToBlob(newAudioBuffer);\n          const audioSrc = window.URL.createObjectURL(newAudioBlob);\n          _this.commit('editor/setAudioSrc', audioSrc);\n          _this.commit('editor/setAudioBuffer', newAudioBuffer)\n        }).catch(() => {\n          state.audioReady = false;\n          state.audioCompiling = false;\n        });\n      }\n    });\n  },\n\n  generateAudio(state, {transcript, hasNarration}){\n    state.audioCompiling = true;\n    let _this = this;\n    state.hasNarration = hasNarration\n    if (typeof transcript!==\"string\") state.audioCompiling = false;\n    AudioUtils.generateTranscript2(transcript, function(trans, audioPromise) {\n      state.transcriptSrc = trans;\n      if (audioPromise != undefined) {\n        audioPromise.then(audioBuffer => {\n          console.log(\"audio promise\")\n          const newAudioBuffer = AudioUtils.extend1Sec(audioBuffer);\n          const newAudioBlob = AudioUtils.audioBufferToBlob(newAudioBuffer);\n          const audioSrc = window.URL.createObjectURL(newAudioBlob);\n          _this.commit('editor/setAudioSrc', audioSrc);\n          _this.commit('editor/setAudioBuffer', newAudioBuffer)\n          _this.commit('editor/updateEditorUsingAnimationJSON', VegaTargetUtils.generateAnimationJSON(trans, state.scene.targetModel.chartType, state.scene.insightDict, state.scene.chartId, hasNarration))\n        }).catch(() => {\n          state.audioReady = false;\n          state.audioCompiling = false;\n        });\n      }\n    });\n  },\n  resetEditor(state) {\n    try {\n      this.commit('editor/updateEditorUsingResourcesJSON', []);\n      this.commit('editor/updateEditorUsingTemplateJSON', []);\n      this.commit('editor/updateEditorUsingAnimationJSON', {\n          sequence: {\n            sync: [\n            ],\n          },\n        });\n\n      state.wordTargetIconPos = [];\n\n      setTimeout(() => {\n        state.resourceJSONRenderSign ^= 1;\n        state.templateJSONRenderSign ^= 1;\n        state.animationJSONRenderSign ^= 1;\n      }, 0);\n    } catch (e) {\n      console.error(e);\n    }\n  },\n  updateChartSize(state) {\n    const svg = state.svgEl;\n    const selectionSvg = state.selectionSvgEl;\n    const aniSvg = state.aniSvgEl;\n    if (!svg || !selectionSvg || !aniSvg) return;\n    const chart = svg.querySelector('svg');\n    if (!chart) return;\n\n    const width = chart.getAttribute('width');\n    const height = chart.getAttribute('height');\n\n    const w = Math.max(0, state.windowWidth - state.leftPanelWidth - state.targetPanelWidth);\n    const h = Math.max(0, state.windowHeight - state.headerHeight - state.footerHeight);\n\n    const wFactor = w / width * 0.84, hFactor = h / height * 0.84;\n    const factor = Math.min(wFactor, hFactor);\n\n    svg.setAttribute('width', width * factor);\n    svg.setAttribute('height', height * factor)\n    svg.setAttribute('viewBox', `0 0 ${width} ${height}`);\n\n    selectionSvg.setAttribute('width', width * factor);\n    selectionSvg.setAttribute('height', height * factor)\n    selectionSvg.setAttribute('viewBox', `0 0 ${width} ${height}`);\n\n    aniSvg.setAttribute('width', width * factor);\n    aniSvg.setAttribute('height', height * factor)\n    aniSvg.setAttribute('viewBox', `0 0 ${width} ${height}`);\n  },\n  updateEditorUsingResourcesJSON(state, resourceJSON) {\n    state.resourceJSON = resourceJSON;\n  },\n  updateEditorUsingTemplateJSON(state, templateJSON) {\n    if (templateJSON === null) {\n      return;\n    }\n    state.templateJSON = templateJSON;\n    aniChart.resetTemplateLib();\n    aniChart.registerTemplates(...templateJSON);\n\n    // refresh animation\n    this.commit('editor/updateEditorUsingAnimationJSON', state.animationJSON);\n    state.animationJSONRenderSign ^= 1;\n  },\n  updateEditorUsingAnimationJSON(state, animationJSON) {\n    if (animationJSON === null) {\n      return;\n    }\n    try {\n      AnimationParser.fromJSON(animationJSON);\n      // no error\n      state.animationJSON = animationJSON;\n      this.commit('editor/changeSpecTextValidState', {isValid: true, errorMsg: ''});\n\n      this.commit('editor/computeTimelineRows', animationJSON);\n\n      // render timeline\n      setTimeout(() => {\n        this.commit('editor/updateVisTimeline');\n      }, 0);\n\n    } catch (e) {\n      console.error('Spec update failed');\n      console.error(e);\n      this.commit('editor/changeSpecTextValidState', {isValid: true, errorMsg: e.message});\n      Notification({title: `Update timeline failed`,\n        message: e.message, type: 'warning'})\n    }\n  },\n  changeSpecTextValidState(state, {isValid, errorMsg}) {\n    state.isSpecTextValid = isValid;\n    state.specTextErrorMsg = errorMsg;\n  },\n  mountTimelinePanel(state, timelinePanelEl) {\n    state.timelinePanelEl = timelinePanelEl;\n  },\n  mountTextPanel(state, textPanelEl) {\n    state.textPanelEl = textPanelEl;\n  },\n  mountTargetPanel(state, targetPanelEl) {\n    state.targetPanelEl = targetPanelEl;\n  },\n  compile(state, {onUpdateFunc, notification=true}) {\n    // if (state.audioEl) {\n    //   state.context.audioDuration = state.audioEl.duration\n    // }\n\n    state.compileSuccess = false;\n\n    // update class\n    this.commit('editor/updateElementClasses');\n\n    if (state.timeline) {\n      state.timeline.kill();\n      state.timeline.clear();\n      state.timeline = null;\n    }\n\n    // update timeline end time\n    // const endtime = state.transcriptSrc.words.slice(-1)[0].endTime;\n    // state.timelineScale = d3.scaleLinear().domain([0, Math.round(endtime)]);\n\n    try {\n      console.log('compiling animation json', state.aniSvgEl, state.animationJSON)\n      state.timeline = aniChart.render(state.aniSceneEl, state.animationJSON, {onUpdate: onUpdateFunc});\n      const totDuration = state.timelineScale.invert(state.timelineWidth);\n      state.timeline.add(gsap.to('empty-selector', {duration: 0}), '<' + totDuration);\n\n      if (notification){\n        Notification({title: `Compile finished`,\n        message: 'Play the animation!', type: 'success'});\n      }\n      state.compileSuccess = true;\n\n    } catch (exception) {\n      console.error(exception)\n      Notification({title: `Compile failed`,\n        message: exception.message, type: 'warning'});\n      state.compileSuccess = false;\n    }\n\n  },\n\n  computeTimelineRows(state, json) {\n    const variable = json.variable;\n    const items = json.sequence?.sync ?? json.sequence?.concat ?? [];\n\n    // init durationMap\n    const durationMap = state.durationMap = new Map();\n    items.forEach(item => durationMap.set(item, aniChart.computeDuration(state.sceneEl, item, variable)))\n\n    const getStartTime = item => (item.timing?.start ?? 0) + (item.timing?.offset ?? 0);\n    const getEndTime = item => getStartTime(item) + durationMap.get(item);\n\n    items.sort((o1, o2) => getEndTime(o1) - getEndTime(o2));\n    const rowMap = items.map(() => -1);\n    const conflictLists = items.map(() => []);    // list of conflict item index\n\n    // compute conflict set\n    for (let i = items.length - 1; i >= 1; --i) {\n      for (let j = i - 1; j >= 0; --j) {\n        if (getStartTime(items[i]) < getEndTime(items[j])) {\n          conflictLists[i].push(j);\n        }\n      }\n    }\n\n    // compute row layout\n    for (let i = 0; i < items.length; ++i) {\n      const item = items[i];\n      for (let rowIdx = 0; rowIdx < items.length; rowIdx++) {\n        while (state.timelineRows.length <= rowIdx) {\n          state.timelineRows.push([]);\n        }\n        const row = state.timelineRows[rowIdx];\n        const hasConflict = conflictLists[i].some(conflictItemIdx => rowMap[conflictItemIdx] === rowIdx);\n        if (!hasConflict) {\n          row.push(item);\n          rowMap[i] = rowIdx;\n          break;\n        }\n      }\n    }\n\n    state.timelineRows = [[]];\n    items.forEach((item, i) => {\n      const rowIdx = rowMap[i];\n      while (rowIdx >= state.timelineRows.length) {\n        state.timelineRows.push([]);\n      }\n      state.timelineRows[rowIdx].push(item);\n    });\n  },\n\n  computeWordIdxTargets(state, indices_dict) {\n    state.wordTargetIconPos = indicesDictToTargetPos(indices_dict);\n  },\n\n  changeSvgRenderSign(state) {\n    state.svgRenderSign ^= 1;\n    state.aniSvgRenderSign ^= 1;\n  },\n\n  changeAniSvgRenderSign(state) {\n    state.aniSvgRenderSign ^= 1;\n  },\n\n  changeExportSign(state) {\n    state.exportSign ^= 1;\n  },\n\n  setIsExportingFiles(state, isExportingFiles) {\n    state.isExportingFiles = isExportingFiles;\n  },\n\n  changeTargetPanelWidth(state, width) {\n    state.targetPanelWidth = width;\n    state.tlContainerWidth = state.tlContainerWidthBuffer - width;\n  },\n\n  addWordTarget(state, {start, end, target}) {\n    let duplicateLink = false;\n    // check duplicate link\n    for (let i = 0; i < state.wordTargetIconPos.length; ++i) {\n      const pos = state.wordTargetIconPos[i];\n      if (pos.startIdx === start && pos.endIdx === end) {\n        // add target\n        pos.target.push(...target);\n        // remove duplicate\n        pos.target = [...new Set(pos.target)];\n        duplicateLink = true;\n        Notification({title: 'Merged duplicate link', type: 'info'});\n        break;\n      }\n    }\n\n    // add new link\n    if (!duplicateLink) {\n      state.wordTargetIconPos.push({\n        startIdx: start,\n        endIdx: end,\n        target: target,\n        icon: faLink,\n        id: computeUUID(),\n        indices: indicesToString(start, end),\n      });\n    }\n  },\n\n  editWordTarget(state, iconObj) {\n    for (let i=0; i<state.wordTargetIconPos.length; ++i) {\n      if (state.wordTargetIconPos[i].id === iconObj.id) {\n        state.wordTargetIconPos[i].target = iconObj.target;\n        break;\n      }\n    }\n  },\n\n  deleteWordTarget(state, iconObj) {\n    for (let i=0; i<state.wordTargetIconPos.length; ++i) {\n      if (state.wordTargetIconPos[i].id === iconObj.id) {\n        state.wordTargetIconPos.splice(i,1);\n        break;\n      }\n    }\n  },\n\n  /* timeline */\n  changeTlContainerWidth(state, offset) {\n    const containerWidth = state.windowWidth - state.leftPanelWidth - state.targetPanelWidth - offset;\n    state.tlContainerWidthBuffer = containerWidth;\n    state.tlContainerWidth = containerWidth;\n    state.timelineScale.range([0, containerWidth]);\n    state.timelineWidth = containerWidth;\n    this.commit('editor/updateVisTimeline');\n  },\n  changeTimelineWidth(state, width) {\n    const rate = width / state.timelineWidth;\n    const domain = state.timelineScale.domain();\n    const range = state.timelineScale.range();\n    state.timelineScale\n        .domain([0, domain[1] * rate])\n        .range([0, range[1] * rate]);\n    state.timelineWidth = width;\n    this.commit('editor/updateVisTimeline');\n  },\n  updateTimelineScale(state, rate) {\n    if (state.timelineWidth / rate < state.tlContainerWidth) {\n      rate = state.timelineWidth / state.tlContainerWidth;\n    }\n    const domain = state.timelineScale.domain();\n    const range = state.timelineScale.range();\n    state.timelineScale\n        .domain([0, domain[1]])\n        .range([0, range[1] / rate]);\n    state.timelineWidth = state.timelineWidth / rate;\n    this.commit('editor/updateVisTimeline');\n\n    state.oldTimelineScale\n          .domain([0, domain[1]])\n          .range([0, range[1]]);\n  },\n  updateTimelineScaleByAudio(state, duration) {\n    state.timelineScale\n        .domain([0, duration/1000]);\n    this.commit('editor/updateVisTimeline');\n  },\n  updateTimelineSvg(state){\n\n    const svg = d3.select(\"#timeline-marks-svg\");\n    svg.selectAll(\"*\").remove();\n    const g = svg.append(\"g\");\n\n    const tickFactor = 10;\n    const tickNum = tickFactor * state.timelineWidth / state.tlContainerWidth;\n    const axis = d3.axisTop(state.timelineScale)\n                    .ticks(tickNum);\n\n    const axisContainer = g.attr('transform', `translate(0,27)`).call(axis);\n    axisContainer.select('.tick:first-of-type text').remove();\n    axisContainer.selectAll(\".tick\").attr(\"color\", \"#adadad\")\n    axisContainer.selectAll('.tick line')\n                  .attr('stroke-width','1.5px')\n                  .attr('y2','-14')\n    axisContainer.selectAll('.tick text')\n                  .attr('font-size', 14)\n                  .attr('y','-16')\n  },\n  updateItemTiming(state, {item, start, duration}) {\n    if (item.timing === undefined) {\n      item.timing = {start, duration};\n    } else {\n      if (start != null) {\n        item.timing.offset = start - (item.timing.start ?? 0);\n      }\n      if (duration != null) {\n        item.timing.duration = duration;\n        state.durationMap.set(item, duration);\n      }\n    }\n    item.timing = Timing.simplifyJSON(item.timing);\n\n    for(const field in item.timing) {\n      item.timing[field] = Math.round(item.timing[field] * 1000) / 1000\n    }\n  },\n  appendTimelineItem(state, {rowIdx, templateName, startX}) {\n    const row = state.timelineRows[rowIdx];\n    let start = state.timelineScale.invert(startX);\n    start = Math.round(start * 100) / 100;\n\n    const newItem = {use: templateName, timing: {start}}\n    row.push(newItem);\n\n    const duration = aniChart.computeDuration(state.sceneEl, newItem, state.animationJSON.variable);\n    state.durationMap.set(newItem, duration);\n\n    this.commit('editor/updateVisTimeline');\n    this.commit('editor/updateAniJSONUsingTimelineRows');\n  },\n  appendItemByTextView(state, {minWordIdx, maxWordIdx, target, toFitDuration, settings}) {\n    const start = state.transcriptSrc.words[minWordIdx].startTime,\n          end = state.transcriptSrc.words[maxWordIdx].endTime;\n    const newItem = {\n      use: state.animationName,\n      timing: {\n        start,\n        duration: 1,\n        offset: 0,\n      },\n      target: target,\n      ani_type: state.animationType,\n      settings: settings,\n    };\n    if (toFitDuration) {\n      let duration = end - start;\n      newItem.timing.duration = Math.round(duration * 100) / 100;\n    }\n    state.durationMap.set(newItem, aniChart.computeDuration(state.sceneEl, newItem, state.animationJSON.variable));\n\n    if (state.animationJSON?.sequence?.sync) {\n      state.animationJSON.sequence.sync.push(newItem);\n      state.animationJSON = {...state.animationJSON};   // self-assign to invoke vue setter\n      this.commit('editor/computeTimelineRows', state.animationJSON);\n    }\n    this.commit('editor/updateVisTimeline');\n  },\n  updateItemByTextView(state, {item, target}) {\n    item.target = target;\n    state.durationMap.set(item, aniChart.computeDuration(state.sceneEl, item, state.animationJSON.variable));\n    this.commit('editor/updateVisTimeline');\n  },\n  previewAnimation(state, {templateName, target}) {\n    const item = target? {\n      use: templateName,\n      timing: {start: 0, duration: 1.5},\n      target: target,\n    }: {use: templateName, timing: {start: 0}};\n\n    state.previewAniJSON = {\n      sequence: {\n        sync: [item],\n      }\n    };\n\n    this.commit('editor/changeAniSvgRenderSign');\n  },\n  playPreview(state) {\n    this.commit('editor/updateElementClasses');\n\n    if (state.timeline) {\n      state.timeline.kill();\n      state.timeline.clear();\n      state.timeline = null;\n    }\n\n    try {\n      state.timeline = aniChart.render(state.aniSceneEl, state.previewAniJSON);\n\n      state.aniStatus = 'preview';\n      state.timeline.play();\n    }\n    catch (e) {\n      console.error(e);\n      state.aniStatus = 'stop';\n    }\n  },\n  exitPreviewAnimation(state) {\n    state.aniStatus = 'stop';\n  },\n  deleteItemByIcon(state, iconObj) {\n    for (const row of state.timelineRows) {\n      const idx = row.indexOf(iconObj.originItem);\n      if (idx !== -1) {\n        row.splice(idx, 1);\n        break;\n      }\n    }\n    this.commit('editor/updateAniJSONUsingTimelineRows');\n    this.commit('editor/updateVisTimeline');\n  },\n  updateItemTimingByIcon(state, iconObj){\n    const item = state.timelineRows.flat().find(i=>i.use==iconObj.use&&i.target==iconObj.target),\n          start = iconObj.timing.start,\n          duration = iconObj.timing.duration;\n\n    this.commit('editor/updateItemTiming',{item, start, duration});\n    this.commit('editor/updateAniJSONUsingTimelineRows');\n    this.commit('editor/updateVisTimeline');\n  },\n  deleteItem(state, item) {\n    for (let i = 0; i < state.timelineRows.length; i++) {\n      const row = state.timelineRows[i];\n      const index = row.indexOf(item);\n      if (index >= 0) {\n        row.splice(index, 1);\n        break;\n      }\n    }\n    state.durationMap.delete(item);\n\n    this.commit('editor/changeHighlightItem', null);\n\n    // this.commit('editor/updateVisIcons');\n    this.commit('editor/changeClearTextHighlightSign')\n    this.commit('editor/updateVisTimeline');\n    this.commit('editor/updateAniJSONUsingTimelineRows');\n  },\n  changeSettingPanelVisible(state, visible) {\n    state.settingPanelVisible = visible;\n  },\n  // updateVisIcons(state) {\n  //   state.\n  // },\n  changeClearTextHighlightSign(state) {\n    state.clearTextHighlightSign ^= true;\n  },\n  changeHighlightItem(state, item) {\n    state.highlightItem = item;\n  },\n  changeClickIconSignal(state, clickIconSignal) {\n    state.clickIconSignal = clickIconSignal;\n  },\n  updateVisTimeline(state) {\n    // change timeline if need\n    // let extended = false;\n    const maxTime = Math.max(...state.timelineRows.flat()\n        .map(item => (item.timing?.start ?? 0) + (item.timing?.offset ?? 0) + state.durationMap.get(item)));\n    while (maxTime >= state.timelineScale.invert(state.timelineWidth)) {\n      this.commit('editor/changeTimelineWidth', state.timelineWidth * 1.5);\n      // extended = true;\n    }\n    // while (!extended && maxDuration <= state.timelineScale.invert(state.timelineWidth * 0.75)) {\n    //   if (state.timelineScale.invert(state.timelineWidth * 0.75) <= 20) {\n    //     break;\n    //   }\n    //   this.commit('editor/changeTimelineWidth', state.timelineWidth * 0.75);\n    // }\n    setTimeout(() => {\n      state.timelineRenderSign ^= 1;\n    }, 0);\n\n    this.commit('editor/updateTimelineSvg');\n  },\n  updateAniJSONUsingTimelineRows(state) {\n    if (!state.animationJSON?.sequence) {\n      return;\n    }\n    state.animationJSON.sequence.sync = state.timelineRows.flat()\n      .sort((a, b) => (a.timing?.start ?? 0) - (b.timing?.start ?? 0));\n    state.animationJSONRenderSign ^= 1;\n    console.log(state.animationJSON)\n  },\n  storeVItemTitle(state, vItemTitle) {\n    state.vItemTitle = vItemTitle;\n  },\n  updateItemRow(state, {item, rowIdx}) {\n    const oldRow = state.timelineRows.find(row => row.includes(item));\n    if (!oldRow) {\n      return;\n    }\n    const newRow = state.timelineRows[rowIdx];\n    oldRow.splice(oldRow.indexOf(item), 1);\n    newRow.push(item);\n    const getStartTime = item => (item.timing?.start ?? 0) + (item.timing?.offset ?? 0);\n    newRow.sort((o1, o2) => getStartTime(o1) - getStartTime(o2));\n\n    // if (rowIdx === state.timelineRows.length - 1) {\n    //   state.timelineRows.push([]);\n    // }\n  },\n  updateItemSettings(state, {item, newItemInfo}) {\n    // console.log('>>>>', item, newItemInfo)\n    Object.assign(item, newItemInfo)\n    // outer:\n    // for (let i = 0; i < state.timelineRows.length; i++) {\n    //   const row = state.timelineRows[i];\n    //   for (let j = 0; j < row.length; j++) {\n    //     if (row[j] === oldItem) {\n    //       row[j] = newItem;\n    //       break outer;\n    //     }\n    //   }\n    // }\n    // if (state.itemForSettings !== newItem) {\n    //   state.itemForSettings = newItem;\n    // }\n    state.durationMap.set(item, aniChart.computeDuration(state.sceneEl, item, state.animationJSON.variable));\n\n    // this.commit('editor/changeHighlightItem', newItem);\n\n    this.commit('editor/changeItemUpdateTuple', {item, newItemInfo})\n    this.commit('editor/updateVisTimeline');\n    this.commit('editor/updateAniJSONUsingTimelineRows');\n  },\n  /**\n   * When change value in animation item, timelineRows will be updated,\n   * but won't invoke the watcher function in **TextPanel**.\n   * So use this function to invoke icon update after modifying item\n   */\n  changeItemUpdateTuple(state, {item, newItemInfo}) {\n    state.itemUpdateTuple = {item, newItemInfo};\n  },\n  changeAnimationJSONRenderSign(state) {\n    state.animationJSONRenderSign ^= 1;\n  },\n  changeNLPLoading(state, loading) {\n    state.nlpLoading = loading;\n  },\n  changeNLPLinking(state, linking) {\n    state.nlpLinking = linking;\n  },\n\n  dropTargetToTimeline(state, {x, y}) {\n    const selectedTargets = this.state.target.selectedTargets;\n    const selector = selectedTargets.length === 0 ? '*' : selectedTargets.map(t => `#${t.id}`).join(',');\n\n    // find the item element\n    const itemTimelineElList = state.timelinePanelEl.querySelectorAll('.timeline-item');\n    const itemTimelineEl = Array.from(itemTimelineElList).find(el => LayoutUtils.isPointInElement(x, y, el));\n    if (itemTimelineEl != undefined) {\n      // find the animation item\n      const rowIdx = itemTimelineEl.getAttribute('row-idx');\n      const itemIdx = itemTimelineEl.getAttribute('item-idx');\n      const originItem = state.timelineRows[rowIdx][itemIdx];\n\n      // set the target\n      originItem.target = selector;\n      state.durationMap.set(originItem, aniChart.computeDuration(state.sceneEl, originItem, state.animationJSON.variable));\n      this.commit('editor/updateVisTimeline');\n      this.commit('editor/updateAniJSONUsingTimelineRows');\n    }\n  },\n  changeSelectionTool(state, selectionTool) {\n    state.selectionTool = selectionTool;\n    state.hideToolbox = false;\n  },\n  hideToolBox(state) {\n    state.hideToolbox = true;\n  },\n  showToolBox(state) {\n    state.hideToolbox = false;\n  },\n\n  registerSelectionConfirm(state, callback) {\n    state.selectionConfirm = callback;\n  },\n  clearSelectionConfirm(state, call) {\n    state.stopConfirm = false;\n    if (call && state.selectionConfirm)\n      state.stopConfirm = state.selectionConfirm();\n    if (!state.stopConfirm)\n      state.selectionConfirm = null;\n  },\n  registerSelectionLeave(state, callback) {\n    state.selectionLeave = callback;\n  },\n  clearSelectionLeave(state, call) {\n    state.stopLeave = false;\n    if (call && state.selectionLeave)\n      state.stopLeave = state.selectionLeave();\n    if (!state.stopLeave)\n      state.selectionLeave = null;\n  },\n\n  updateElementClasses(state) {\n    const targets = this.state.target.fullTargetList;\n    targets.forEach(target => {\n      d3.select(state.sceneEl)\n          .select('#' + target.id)\n          .attr('class', target.clazz);\n    });\n  },\n\n  stashScene(state) {\n    if (!state.scene) {\n      return;\n    }\n    const targetItemKeys = ['type', 'id', 'clazz', 'data', 'tag', 'text'];\n    state.scene.targetModel.elements = this.state.target.fullTargetList.map(t => {\n      const el = {};\n      targetItemKeys.forEach(key => el[key] = t[key]);\n      return el;\n    });\n\n    state.scene.spec = {\n      charts: state.resourceJSON,\n      templates: state.templateJSON,\n      animation: state.animationJSON,\n    };\n\n    const svg = (new DOMParser())\n        .parseFromString(state.scene.svgStr, 'image/svg+xml')\n        .querySelector('svg');\n    state.scene.targetModel.elements.forEach(target => {\n      d3.select(svg)\n          .select('#' + target.id)\n          .attr('class', target.clazz);\n    });\n    state.scene.svgStr = TargetUtils.domElToString(svg);\n  },\n\n  setAudioSrc(state, audioSrc) {\n    state.audioSrc = audioSrc\n    if (state.setAudioReadyFunc) {\n      state.audioEl.removeEventListener(\"canplaythrough\", state.setAudioReadyFunc, false)\n    } else {\n      state.setAudioReadyFunc = function() {\n        state.audioReady = true\n      }\n    }\n    state.audioReady = false;\n    state.audioCompiling = false;\n    state.audioEl.addEventListener(\"canplaythrough\", state.setAudioReadyFunc, false);\n  },\n  setAudioBuffer(state, audioBuffer) {\n    state.audioBuffer = audioBuffer;\n  },\n  changeUseAudio(state, useAudio) {\n    state.useAudio = useAudio;\n  },\n  changeTime(state, time) {\n    state.time = time;\n  },\n  changeShowPotential(state, showPotential) {\n    state.showPotential = showPotential;\n  },\n  changeAudioReady(state, isReady) {\n    state.audioReady = isReady\n  },\n  fixScrollPos(state, event) {\n    // debug: adjust position\n    const offsetLeft = document.querySelector(\".timeline-panel\").offsetLeft;\n    const commonDomain = state.oldTimelineScale.invert(state.scrollLeft+event.x-offsetLeft);\n    const newRange = state.timelineScale(commonDomain);\n    state.scrollLeft = Math.max(newRange-(event.x-offsetLeft),0);\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import axios from \"axios\";\n\nexport function queryProjectSpec(fileName, callback, errorCallBack) {\n  let url = './data/project/' + fileName\n  axios.get(url)\n    .then(rep => {\n      callback(rep)\n    }).catch(error => {\n      errorCallBack(error)\n    })\n}\n\nexport function queryStaticSVG(fileName, callback, errorCallBack) {\n  let url = './data/svg/' + fileName\n  return axios.get(url)\n    .then(rep => {\n      callback(rep)\n    }).catch(error => {\n      errorCallBack(error)\n    })\n}\n\nexport function querySampleFile(fileName, callback, errorCallBack) {\n  let url = './data/spec/' + fileName\n  return axios.get(url)\n    .then(rep => {\n      callback(rep)\n    }).catch(error => {\n      errorCallBack(error)\n    })\n}\n\nexport function queryTranscript(fileName, callback, errorCallBack) {\n  let url = './data/transcript/' + fileName\n  return axios.get(url)\n    .then(rep => {\n      callback(rep)\n    }).catch(error => {\n      errorCallBack(error)\n    })\n}\n\nexport function queryStaticAudio(fileName, callback, errorCallBack){\n  let url = './data/audio/' + fileName\n  return axios.get(url)\n      .then(rep => {\n        callback(rep)\n      }).catch(error => {\n    errorCallBack(error)\n  })\n}\n\nexport function queryTargetModel(fileName, callback, errorCallBack) {\n  let url = './data/target-v2/' + fileName\n  return axios.get(url)\n    .then(rep => {\n      callback(rep)\n    }).catch(error => {\n      errorCallBack(error)\n    })\n}\n\nexport function queryLinking(fileName, callback, errorCallBack) {\n  let url = './data/linking/' + fileName\n  return axios.get(url)\n    .then(rep => {\n      callback(rep)\n    }).catch(error => {\n      errorCallBack(error)\n    })\n}\n\nexport function queryInsights(fileName, callback, errorCallBack) {\n  let url = './data/insight/' + fileName\n  return axios.get(url)\n    .then(rep => {\n      callback(rep)\n    }).catch(error => {\n      errorCallBack(error)\n    })\n}\n\n\n","export default [{id:'travel',label:'Travel',group:'Single chart'},{id:'parallel_coord',label:'parallel_coord',group:'Single chart'},{id:'living',label:'Living',group:'Single chart'},{id:'hunger',label:'Hunger',group:'Single chart'},{id:'radar',label:'Radar',group:'Single chart'},{id:'phone',label:'Phone',group:'Single chart'},{id:'radar2',label:'Radar2',group:'Single chart'},{id:'river',label:'River',group:'Single chart'},{id:'vega-lite-GDP-comparison',label:'GDP comparison',group:'Single chart'},{id:'vega-lite-GDP-comparison1',label:'GDP comparison1',group:'Single chart'},{id:'australia-fire-example1',label:'Australia Fire',group:'Single chart'},{id:'accounting-of-pirates-example1',label:'Accounting of Pirates',group:'Single chart'},{id:'commute-mode-example1',label:'Commute Mode',group:'Single chart'},{id:'house-prices-example1',label:'House Prices',group:'Single chart'},{id:'army-military-comparison-example1',label:'GDP Comparison',group:'Single chart'},{id:'sat-score-example1',label:'SAT Score',group:'Single chart'},{id:'scottish-independence-referendum-example1',label:'Scottish Independence Referendum',group:'Single chart'},{id:'share-of-profits-example1',label:'Share of Profits',group:'Single chart'},{id:'shortage-of-water-example1',label:'Shortage of Water',group:'Single chart'},{id:'transportation-mode-example1',label:'Transportation Mode',group:'Single chart'},{id:'wealth-inequality-example1',label:'Wealth Inequality',group:'Single chart'},{id:'tax-payment',label:'Tax-Payment',group:'WonderFlow2'},{id:'characteristics-of-mushrooms',label:'characteristics-of-mushrooms',group:'WonderFlow2'},{id:'chinese-tourists',label:'chinese-tourists',group:'WonderFlow2'},{id:'vega-lite-driving-shifts-into-reverse',label:'Driving Shifts Into Reverse',group:'Vega-Lite Chart'},{id:'vega-lite-PM25',label:'PM2.5',group:'Vega-Lite Chart'},{id:'vega-lite-5-point-Likert',label:'5-point Likert',group:'Vega-Lite Chart'},{id:'vega-lite-body-mass-of-penguins',label:'body-mass-of-penguins',group:'Vega-Lite Chart'},{id:'vega-lite-monthly-profit-and-loss',label:'monthly-profit-and-loss',group:'Vega-Lite Chart'},{id:'vega-lite-movie-ratings',label:'vega-lite-movie-ratings',group:'Vega-Lite Chart'},{id:'vega-lite-stock-prices',label:'vega-lite-stock-prices',group:'Vega-Lite Chart'},{id:'vega-lite-stock-prices2',label:'vega-lite-stock-prices2',group:'Vega-Lite Chart'},{id:'vega-lite-weather',label:'vega-lite-weather',group:'Vega-Lite Chart'},{id:'vega-lite-london-tube-lines',label:'vega-lite-london-tube-lines',group:'Vega-Lite Chart'},{id:'vega-lite-unemployment',label:'vega-lite-unemployment',group:'Vega-Lite Chart'},{id:'vega-lite-parallel-coordinate',label:'vega-lite-parallel-coordinate',group:'Vega-Lite Chart'},{id:'vega-lite-cars',label:'vega-lite-cars',group:'Vega-Lite Chart'},{id:'vega-lite-CO2',label:'vega-lite-CO2',group:'Vega-Lite Chart'},{id:'vega-lite-tourism',label:'vega-lite-tourism',group:'Vega-Lite Chart'},{id:'vega-lite1',label:'Vega-lite Test1',group:'Vega-Lite Chart'},{id:'vega-lite2',label:'Vega-lite Test2',group:'Vega-Lite Chart'},{id:'vega-lite5',label:'Vega-lite Test5',group:'Vega-Lite Chart'},{id:'vega-lite7',label:'Vega-lite Test7',group:'Vega-Lite Chart'},{id:'vega-lite4',label:'Vega-lite Test4',group:'Vega-Lite Chart'},{id:'vega-lite6',label:'Vega-lite Test6',group:'Vega-Lite Chart'},{id:'vega-lite8',label:'Vega-lite Test8',group:'Vega-Lite Chart'},{id:'vega-lite3',label:'Vega-lite Test3 (Improper)',group:'Vega-Lite Chart'},{id:'vega-lite15',label:'Vega-lite Test15',group:'Vega-Lite Chart'},{id:'vega-lite9',label:'Vega-lite Test9',group:'Vega-Lite Chart'},{id:'vega-lite10',label:'Vega-lite Test10',group:'Vega-Lite Chart'},{id:'vega-lite11',label:'Vega-lite Test11',group:'Vega-Lite Chart'},{id:'vega-lite12',label:'Vega-lite Test12',group:'Vega-Lite Chart'},{id:'vega-lite14',label:'Vega-lite Test14 (Hard)',group:'Vega-Lite Chart'},{id:'vega-lite16',label:'Vega-lite Test16',group:'Vega-Lite Chart'},{id:'vega-lite17',label:'Vega-lite Test17',group:'Vega-Lite Chart'},{id:'vega-lite18',label:'Vega-lite Test18',group:'Vega-Lite Chart'},{id:'vega-lite19',label:'Vega-lite Test19',group:'Vega-Lite Chart'},{id:'vega-lite20',label:'Vega-lite Test20',group:'Vega-Lite Chart'},{id:'figma-test',label:'Figma Test',group:'WonderFlow2'},{id:'pie-vega-HIV-example1',label:'pie-vega-HIV',group:'Single chart'},{id:'bar-vega-plan-timeline-example1',label:'bar-vega-plan-timeline',group:'Single chart'},{id:'pie-vega-mine-production-example1',label:'pie-vega-mine-production',group:'Single chart'},{id:'pie-vega-gas-emission-example1',label:'pie-vega-gas-emission',group:'Single chart'},{id:'pie-vega-covid-19-patient-example1',label:'pie-vega-covid-19-patient',group:'Single chart'},{id:'pie-vega-coffee-example1',label:'pie-vega-coffee',group:'Single chart'},{id:'pie-vega-woman-poverty-example1',label:'pie-vega-woman-poverty',group:'Single chart'},{id:'bar-vega-crime-example1',label:'bar-vega-crime',group:'Single chart'},{id:'bar-vega-food-emission-example1',label:'bar-vega-food-emission',group:'Single chart'},{id:'bar-vega-social-media-platform-example1',label:'bar-vega-social-media-platform',group:'Single chart'},{id:'bar-vega-co2-emission-example1',label:'bar-vega-co2-emission',group:'Single chart'},{id:'line-annual-box-office-earnings-example1',label:'line-annual-box-office-earnings',group:'Single chart'},{id:'line-3619-example1',label:'Line 3619',group:'Single chart'},{id:'vega-average-price-example1',label:'Average Price',group:'Single chart'}]","export default [{id:'australia-fire-example1',videoName:'Why does climate change make wildfires worse?',link:'https://youtu.be/mypEs1SBAUg?t=197',transcript:\"In 2019, human-caused and out-of-control fires burned 976200 hectares of the Amazon rainforest. That's the third-highest increase in the rate of deforestation in the Amazon's history. At a 30% jump from the prior year, second only to 1995, which was 95% and 1998 which was 31%.\"},{id:'accounting-of-pirates-example1',videoName:'How Somalias Pirates Make Money',link:'https://youtu.be/dZh0B8AYxac?t=389',transcript:'First, investors get their guaranteed cut of at least 30%. The port, who looked the other way while they parked the ship, gets 5-10%. And the rest is split between the attackers, with a bonus of around $10,000 for being first to board the ship.'},{id:'commute-mode-example1',videoName:'Why American public transit is so bad | 2020 Election',link:'https://youtu.be/-ZDZtBRTyeI?t=80',transcript:'The most common American commute is actually from suburb to suburb; routes that public transit in the US usually doesnt serve. Its one reason that the overwhelming majority of Americans get to work by driving alone. Most Americans dont rely on public transit, making it better is rarely a top political priority, which makes things even harder for the people who do rely on neglected transit systems.'},{id:'house-prices-example1',videoName:'Why are houses so expensive?',link:'https://youtu.be/vhAXp0xzMFg?t=189',transcript:'Here is a line chart.'},{id:'army-military-comparison-example1',videoName:'China vs Japan - Who Would Win - Army / Military Comparison',link:'https://youtu.be/eBV4GmK4kO4?t=33',transcript:\"The USA has the world's highest GDP of around 18.5 trillion dollars. It's followed by China with a nominal GDP of 11.8 trillion dollars, and then Japan with a GDP of around 4.8 trillion dollars. The European Union would take second place, but the EU is a combination of 28 states.\"},{id:'sat-score-example1',videoName:\"The problem with America's college entrance exam\",link:'https://youtu.be/WjVVwMGJ9S8?t=334',transcript:\"Here's a chart of the average SAT scores by family income. Students whose families earn less than $20,000 score around 890 -- way below average. And as we move up the income brackets, students score higher and higher. The wealthiest students -- whose parents earn more than $200,000 -- score an average of 1150.\"},{id:'scottish-independence-referendum-example1',videoName:'Scottish independence referendum 2014 explained | Guardian Animations',link:'https://youtu.be/zIeVmqVB9pQ?t=29',transcript:\"Didn't you just call Scotland a country? Isn't Scotland already a country? The definitive answer to that question is: sort of. Technically Scotland is a country within a country known as the United Kingdom. Scotland may have its own church, its own legal system, its own professional soccer league and its own dietary idiosyncrasies, but its still part of the UK, which also includes the countries of England, Wales and Northern Ireland.\"},{id:'share-of-profits-example1',videoName:'How American CEOs got so rich',link:'https://youtu.be/ylLTMYt24lA?t=299',transcript:'General Motor, Volkswagen and Toyota are three of the biggest motor corporations in the world. In this chart, you can see how much of their profits three companies spend on buybacks. GM has the highest buyback during this period, except 2016. Volkswagen hasnt done any since 2012, and Toyotas biggest buyback years are roughly the size of GMs smallest.'},{id:'shortage-of-water-example1',videoName:\"Dubai's Plan to Outlive Oil\",link:'https://youtu.be/-dsM8zPGqa0?t=159',transcript:'In the Middle East, the entire 3.2 million square kilometer peninsula lacks a single natural river. The United States, in comparison, has 250,000. 98.8% of Dubais water has to be pumped from the Persian Gulf and desalinated.'},{id:'transportation-mode-example1',videoName:'Why American public transit is so bad | 2020 Election',link:'https://youtu.be/-ZDZtBRTyeI?t=243',transcript:'The people who live in these places are less likely than the national average to drive, and more likely to walk, bike, or take transit.'},{id:'wealth-inequality-example1',videoName:'Wealth Inequality in America',link:'https://youtu.be/QPKKQnijnsM?t=161',transcript:\"Here's that idea we asked everyone about something like this curve. This isn't too bad we've got some incentive as the wealthiest folks are now about 10 to 20 times better off than the poorest Americans. But hey even the poor folks aren't actually poor since the poverty line has stayed almost entirely off the chart. We have a super healthy middle class with a smooth transition into wealth, and yes Republicans and Democrats alike chose this curve.\"}]","import {Notification} from 'element-ui';\nimport {\n  queryStaticSVG,\n  queryTargetModel,\n  queryStaticAudio,\n  queryTranscript,\n  queryProjectSpec,\n  queryLinking,\n  queryInsights,\n} from \"@/service/projService\";\nimport JSON5 from 'json5';\nimport PROJECT_LIST from '@/assets/projects.json5';\nimport GALLERY_LIST from '@/assets/gallery.json5';\nimport {VegaTargetUtils} from \"@/utils/target/VegaTargetUtils\";\n// import {TargetUtils} from \"@/utils/target/TargetUtils\";\n\n// initial state\nconst state = () => ({\n  projectList: PROJECT_LIST,\n  galleryList: GALLERY_LIST,\n\n  staticSvgMap: new Map(),\n  staticSvgMapSign: false,\n\n  projectId: null,    // default project\n  projectSpec: null,    // list of single spec\n\n  svgStrMap: new Map(),\n  audioStrMap: new Map(),\n  transcriptMap: new Map(),\n  targetModelMap: new Map(),\n  extraProjectSpecMap: new Map(),\n  linkingMap: new Map(),\n  insightsMap: new Map(),\n\n  audioEl: null,\n})\n\n// getters\nconst getters = {\n}\n\n// actions\nconst actions = {\n  async queryProjectSpec({commit, dispatch}, projectId) {\n    commit('changeProjectId', projectId);\n    commit('initResources');\n\n    const projectFileName = projectId + '.json5';\n\n    function queryAllSceneData(scenes) {\n      const promiseList = [];\n      for (const sceneSpec of scenes) {\n        const svgFileName = sceneSpec.charts[0].source;\n        if (svgFileName !== '') {\n          const chartId = svgFileName.trim().replace('./', '').replace('.svg', '');\n          promiseList.push(dispatch('queryStaticSVG', chartId));\n          promiseList.push(dispatch('queryTranscript', chartId));\n          promiseList.push(dispatch('queryStaticAudio', chartId));\n          promiseList.push(dispatch('queryTargetModel', chartId));\n          promiseList.push(dispatch('queryLinking', chartId));\n        }\n      }\n      return Promise.all(promiseList);\n    }\n\n    queryProjectSpec(projectFileName, resp => {\n      const projectSpec = typeof resp.data === 'string' ? JSON5.parse(resp.data) : resp.data;\n      commit('changeProjectSpec', projectSpec);\n      queryAllSceneData(projectSpec.scenes).then(() => {\n        commit('project/initProjectView', null, {root: true});\n      });\n    }, errorResp => {\n      Notification({title: \"Fail to get sample file.\", message: errorResp.message, type: 'error'})\n      console.error(errorResp);\n    })\n  },\n\n  async queryProjectSpec2({state, commit, dispatch}, projectId) {\n    function queryAllSceneData(scenes) {\n      const promiseList = [];\n      for (const sceneSpec of scenes) {\n        const svgFileName = sceneSpec.charts[0].source;\n        if (svgFileName !== '') {\n          const chartId = svgFileName.trim().replace('./', '').replace('.svg', '');\n          promiseList.push(dispatch('queryStaticSVG', chartId));\n          promiseList.push(dispatch('queryTranscript', chartId));\n          promiseList.push(dispatch('queryStaticAudio', chartId));\n          promiseList.push(dispatch('queryTargetModel', chartId));\n          promiseList.push(dispatch('queryLinking', chartId));\n          promiseList.push(dispatch('queryInsights', chartId));\n        }\n      }\n      return Promise.all(promiseList);\n    }\n\n    if (state.extraProjectSpecMap.has(projectId)) {\n      const srcId = projectId;\n      commit('changeProjectId', projectId);\n      commit('initResources');\n      const {svgStr, targetModel, transcript, insights, audioStr, fakeProjectSpec} = state.extraProjectSpecMap.get(projectId);\n      commit('changeProjectSpec', fakeProjectSpec);\n      commit('addSVGStr', {srcId, svgStr});\n      commit('addStaticSVGStr', {srcId, svgStr});\n      commit('addTargetModel', {srcId, targetModel});\n      commit('addTranscript', {srcId, transcript});\n      commit('addAudioStr', {srcId, audioStr});\n      commit('addInsights', {srcId, insights});\n\n      commit('project/initProjectView', null, {root: true});\n      commit('editor/changeSceneById', 0, {root: true});\n      commit('editor/initWorkspace', null, {root: true});\n    } else {\n      commit('changeProjectId', projectId);\n      commit('initResources');\n\n      const projectFileName = projectId + '.json5';\n      queryProjectSpec(projectFileName, resp => {\n        const projectSpec = typeof resp.data === 'string' ? JSON5.parse(resp.data) : resp.data;\n        commit('changeProjectSpec', projectSpec);\n        queryAllSceneData(projectSpec.scenes).then(() => {\n          commit('project/initProjectView', null, {root: true});\n          commit('editor/changeSceneById', 0, {root: true});\n          commit('editor/initWorkspace', true, {root: true});\n        });\n      }, errorResp => {\n        Notification({title: \"Fail to get sample file.\", message: errorResp.message, type: 'error'})\n        console.error(errorResp);\n      })\n    }\n\n\n  },\n  \n  async queryAllSvg({state, commit}) {\n    state.projectList.forEach(project => {\n      const projectId = project.id;\n\n      if (state.staticSvgMap.has(projectId)) {\n        return;\n      }\n\n      const projectFileName = projectId + '.json5';\n      queryProjectSpec(projectFileName, resp => {\n        const projectSpec = typeof resp.data === 'string' ? JSON5.parse(resp.data) : resp.data;\n\n        const sceneSpec = projectSpec.scenes[0];    // only one scene in a project\n        const svgFileName = sceneSpec.charts[0].source;   // only one chart in a scene\n\n        if (svgFileName !== '') {\n          const srcId = svgFileName.trim().replace('./', '').replace('.svg', '');\n          const fileName = srcId + '.svg';\n          queryStaticSVG(fileName, resp => {\n            commit('addStaticSVGStr', {projectId, svgStr: resp.data});\n          }, errorResp => {\n            commit('addStaticSVGStr', {projectId, svgStr: ''});\n            console.error(errorResp);\n          })\n        }\n      }, errorResp => {\n        console.error(errorResp);\n      })\n    })\n  },\n  queryStaticSVG({commit}, srcId) {\n    const fileName = srcId + '.svg';\n    return queryStaticSVG(fileName, resp => {\n      commit('addSVGStr', {srcId, svgStr: resp.data});\n    }, errorResp => {\n      commit('addSVGStr', {srcId, svgStr: ''});\n      Notification({title: `Chart resource ${fileName} not found.`,\n        message: errorResp.message, type: 'warning'})\n      console.error(errorResp);\n    })\n  },\n  queryInsights({commit}, srcId) {\n    const fileName = srcId + '.json';\n    return queryInsights(fileName, resp => {\n      commit('addInsights', {srcId, insights: resp.data});\n    }, errorResp => {\n      commit('addInsights', {srcId, insights: {}});\n      Notification({title: `Insights resource ${fileName} not found.`,\n        message: errorResp.message, type: 'warning'})\n      console.error(errorResp);\n    })\n  },\n  queryStaticAudio({commit}, srcId) {\n    const fileName = srcId + '.txt';\n    return queryStaticAudio(fileName, resp => {\n      commit('addAudioStr', {srcId, audioStr: resp.data});\n    }, errorResp => {\n      commit('addAudioStr', {srcId, audioStr: ''});\n      Notification({title: \"Fail to get static audio.\", message: errorResp.message, type: 'error'})\n      console.log(errorResp)\n    })\n  },\n  queryTranscript({commit}, srcId) {\n    const fileName = srcId + '.json';\n    return queryTranscript(fileName, resp => {\n      commit('addTranscript', {srcId, transcript: resp.data});\n      // commit('editor/updateAudio', resp.data[\"results\"][0][\"alternatives\"][0][\"transcript\"])\n    }, errorResp => {\n      commit('addTranscript', {srcId, transcript: {}});\n      Notification({title: `Transcript resource ${fileName} not found.`,\n        message: errorResp.message, type: 'warning'})\n      console.error(errorResp);\n    })\n  },\n  queryTargetModel({commit}, srcId) {\n    const fileName = srcId + '.json';\n    return queryTargetModel(fileName, resp => {\n      commit('addTargetModel', {srcId, targetModel: resp.data});\n    }, errorResp => {\n      commit('addTargetModel', {srcId, targetModel: null});\n      if (fileName.includes('vega')) {\n        return;\n      }\n      // Notification({title: `Target model ${fileName} not found.`,\n      //   message: errorResp.message, type: 'warning'})\n      console.log(errorResp);\n    })\n  },\n  queryLinking({commit}, srcId) {\n    const fileName = srcId + '.json';\n    return queryLinking(fileName, resp => {\n      commit('addLinking', {srcId, linking: resp.data});\n    }, errorResp => {\n      commit('addLinking', {srcId, linking: null});\n      if (fileName.includes('vega')) {\n        return;\n      }\n      Notification({title: `Linking ${fileName} not found.`,\n        message: errorResp.message, type: 'warning'})\n      console.log(errorResp);\n    })\n  },\n  addProject({state, commit}, {srcId, svgStr}) {\n    // chartId = srcId\n    let projectId = srcId.toLowerCase().replace(/\\s+/g, '-');\n\n    // add count no. to project id\n    let no = 0;\n    const projectIdSet = new Set(state.projectList.map(p => p.id));\n    let newProjectId = projectId;\n    while (projectIdSet.has(newProjectId)) {\n      no += 1;\n      newProjectId = projectId + '-' + no;\n    }\n    projectId = newProjectId;\n\n    const resp = VegaTargetUtils.updateSVGModel(svgStr, projectId);\n    // const resp = TargetUtils.updateSVGModel(svgStr, projectId);\n    state.projectList.unshift({id: projectId, label: projectId, group: \"Custom chart\"})\n    // generate svg, empty transcript, empty audio, target model\n    const projectSpec = {\n      svgStr: resp.svgStr,\n      targetModel: resp.targetModel,\n      transcript: {},\n      audioStr: '',\n      fakeProjectSpec: {\n        projectId,\n        scenes: [\n          {\n            charts: [\n              {source: `./${projectId}.svg`},\n            ],\n            animation: {\n              target: `.${projectId}`,\n              sequence: {\n                sync: []\n              }\n            }\n          }\n        ]\n      }\n    }\n    state.extraProjectSpecMap.set(projectId, projectSpec)\n    commit('addStaticSVGStr', {projectId, svgStr: resp.svgStr})\n    commit('changeProjectId', projectId);\n  },\n}\n\n// mutations\nconst mutations = {\n  changeProjectId(state, projectId) {\n    state.projectId = projectId;\n  },\n  initResources(state) {\n    state.projectSpec = null;\n\n    state.svgStrMap = new Map();\n    state.audioStrMap = new Map();\n    state.transcriptMap = new Map();\n    state.targetModelMap = new Map();\n    state.insightsMap = new Map();\n  },\n  changeProjectSpec(state, projectSpec) {\n    state.projectSpec = projectSpec;\n  },\n\n  addSVGStr(state, {srcId, svgStr}) {\n    state.svgStrMap.set(srcId, svgStr);\n  },\n  addStaticSVGStr(state, {projectId, svgStr}) {\n    state.staticSvgMap.set(projectId, svgStr);\n    setTimeout(() => this.commit('resource/changeStaticSvgMapSign'), 0);\n  },\n  changeStaticSvgMapSign(state) {\n    state.staticSvgMapSign ^= true;\n  },\n  addInsights(state, {srcId, insights}) {\n    state.insightsMap.set(srcId, insights);\n  },\n  addAudioStr(state, {srcId, audioStr}) {\n    state.audioStrMap.set(srcId, audioStr);\n  },\n  addTranscript(state, {srcId, transcript}) {\n    state.transcriptMap.set(srcId, transcript);\n  },\n  addTargetModel(state, {srcId, targetModel}) {\n    state.targetModelMap.set(srcId, targetModel);\n  },\n  addLinking(state, {srcId, linking}) {\n    state.linkingMap.set(srcId, linking);\n  },\n\n  updateSVGModel(state, {chartId, svgStr, targetModel}) {\n    state.svgStrMap.set(chartId, svgStr);\n    state.targetModelMap.set(chartId, targetModel);\n  },\n\n  registerAudioEl(state, audioEl) {\n    state.audioEl = audioEl\n  },\n}\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","export function getDefaultTargetTree() {\n  let nodeId = 0;\n\n  const addLeafChildren = (node, childClassesList) => {\n    childClassesList.forEach(classes => {\n      node.children.push(new TargetTreeNode(nodeId++, classes, true));\n    });\n  };\n\n  const scene = new TargetTreeNode(nodeId++, 'scene');\n\n  const background = new TargetTreeNode(nodeId++, 'background');\n  scene.children.push(background);\n\n  const chart = new TargetTreeNode(nodeId++, 'chart');\n  scene.children.push(chart);\n\n  const title = new TargetTreeNode(nodeId++, 'title');\n  chart.children.push(title);\n  addLeafChildren(title, ['main-title', 'sub-title']);\n\n  const mark = new TargetTreeNode(nodeId++, 'mark');\n  chart.children.push(mark);\n  addLeafChildren(mark, ['bar', 'label bar-label', 'line', 'point', 'area', 'sector']);\n\n  const axis = new TargetTreeNode(nodeId++, 'axis');\n  chart.children.push(axis);\n\n  const legend = new TargetTreeNode(nodeId++, 'legend');\n  chart.children.push(legend);\n  addLeafChildren(legend, ['legend-label', 'legend-symbol']);\n\n  const xAxis = new TargetTreeNode(nodeId++, 'x-axis');\n  axis.children.push(xAxis);\n  addLeafChildren(xAxis, ['domain x-domain', 'label x-label', 'tick x-tick', 'symbol x-symbol', 'title x-title']);\n\n  const yAxis = new TargetTreeNode(nodeId++, 'y-axis');\n  axis.children.push(yAxis);\n  addLeafChildren(yAxis, ['domain y-domain', 'label y-label', 'tick y-tick', 'symbol y-symbol', 'title y-title']);\n\n  setFullClassesRecursively(scene);\n  return TargetTreeNode.toJSON(scene);\n}\n\nfunction setFullClassesRecursively(node, parentStr) {\n  let fullClasses;\n  if (!parentStr) {\n    fullClasses = node.classes;\n  } else {\n    fullClasses = parentStr + ' ' + node.classes;\n  }\n  node.fullClasses = fullClasses;\n  node.children.forEach(child => setFullClassesRecursively(child, fullClasses));\n}\n\nclass TargetTreeNode {\n  id\n  type\n  classes\n  fullClasses\n  children\n  isLeaf\n\n  constructor(id, classes, isLeaf) {\n    this.id = id;\n    this.classes = classes;\n    const classList = classes.split(' ');\n    this.type = classList[classList.length - 1];\n    this.children = [];\n    this.isLeaf = isLeaf ?? false;\n  }\n\n  static toJSON(object) {\n    return Object.assign({}, object, {\n      children: object.children.map(child => TargetTreeNode.toJSON(child)),\n    });\n  }\n}","import { getDefaultTargetTree } from \"@/core/target/TargetUtils\";\n\nconst mainClassSet = new Set(['mark', 'axis', 'title', 'annotation', 'background', 'legend', 'unknown-type']);\n\n// initial state\nconst state = () => ({\n  chartType: 'unknown',\n  fullTargetList: [],\n  selectedTargets: [],\n  groupedTargetsMap: new Map(),\n  dataGroupUpdateKeyword: null,\n\n  fullTargetLoadSign: 0,\n  tableSelectionChangeSign: 0,\n  dataGroupChangeSign: 0,\n  dataGroupClearSign: 0,\n  svgSelectionChangeSign: 0,\n  visibilityChangeSign: 0,\n  new_counter: 0,\n\n  dragDropSVG: null,\n  clientX: 0,\n  clientY: 0,\n\n  targetTree: getDefaultTargetTree(),\n\n  activeFilters: [],\n})\n\n// getters\nconst getters = {\n  isDragging: state => state.dragDropSVG != null,\n}\n\n// actions\nconst actions = {\n}\n\n// mutations\nconst mutations = {\n  initTargetModel(state, targetModel) {\n    state.chartType = targetModel.chartType;\n    state.fullTargetList = targetModel.elements;\n    state.groupedTargetsMap = new Map();\n    state.selectedTargets = [];\n\n    // compute classList\n    state.fullTargetList.forEach(target => {\n      target.classList = target.clazz.split(' ').reverse();\n    });\n\n    // compute target default name\n    state.fullTargetList.forEach(target => {\n      // find a name\n      let name = target.classList.find(cls => cls.match(`${target.type}-\\\\d*`));\n      if (name) {\n        const group = name.match(/^.*-(\\d*)$/);\n        if (group) {\n          const no = group[1];\n          name = target.type + ' #' + no;\n        }\n      } else {\n        name = target.type;\n      }\n      target.name = name;\n    });\n    const counters = new Map();\n    state.fullTargetList.forEach(target => {\n      counters.set(target.name, (counters.get(target.name) ?? 0) + 1);\n    });\n    counters.forEach((value, key) => {\n      if (value > 1) {\n        state.fullTargetList\n          .filter(target => target.name === key)\n          .forEach((target, i) => target.name = `${key} #${i}`);\n      }\n    });\n\n    // compute main class\n    state.fullTargetList.forEach(target => {\n      const mainClass = target.classList.find(cls => mainClassSet.has(cls));\n      target.mainClass = mainClass ?? null;\n    });\n\n    state.fullTargetList.forEach(target => {\n      target.visibility = true;\n    });\n\n    state.fullTargetList.forEach(target => {\n      if (target.data === null) {\n        return;\n      }\n      var tgt_data = target.data;\n      if (tgt_data.constructor != Array) {\n        tgt_data = new Array(tgt_data);\n      }\n      tgt_data = tgt_data.map(t => JSON.stringify(t).toLowerCase())\n      target.related_targets = state.fullTargetList.filter(t => {\n        if (t.id == target.id || t.data === null) {\n          return false;\n        }\n        var data = t.data;\n        if (data.constructor != Array) {\n          data = new Array(data);\n        }\n        data = data.map(t => JSON.stringify(t).toLowerCase())\n        return data.every(d => tgt_data.includes(d)) && data.length > 0;\n      });\n      // var ids = target.related_targets.filter(obj => obj.id).map(obj => obj.id); \n      // console.log(`target id: ${target.id}, related ids: ${ids.join(\", \")}`);\n    });\n\n    state.fullTargetList.forEach(target => {\n      var keyword = null;\n      if (target.text != null) {\n        keyword = target.text.toLowerCase().trim();\n      } else if (target.data != null) {\n        if (target.type.includes('symbol') || target.type.includes('sector-line')) {\n          if (typeof target.data === 'object' && target.data.name != undefined) {\n            keyword = target.data.name.toLowerCase().trim();\n          } else if (typeof target.data === 'string' || target.data instanceof String) {\n            keyword = target.data.toLowerCase().trim();\n          }\n        }\n      }\n      target.keyword = keyword;\n    });\n\n    state.fullTargetList.forEach(target => {\n      if (target.keyword === null || target.keyword === undefined) {\n        return;\n      }\n      if (!state.groupedTargetsMap.has(target.keyword)) {\n        state.groupedTargetsMap.set(target.keyword, new Set());\n      }\n      var tmp = state.groupedTargetsMap.get(target.keyword);\n      tmp.add(target.id);\n      if (target.related_targets != null) {\n        target.related_targets.forEach(t => tmp.add(t.id));\n      }\n      state.groupedTargetsMap.set(target.keyword, tmp);\n    });\n    console.log(\"groupedTargetsMap:\", state.groupedTargetsMap)\n\n    this.commit('target/changeFullTargetLoadSign');\n    this.commit('target/changeTableSelectionSign');\n    // console.log(\"fullTargetList:\", state.fullTargetList)\n\n  },\n  updateDataGroup(state, { targets, keyword, oldkeyword }) {\n    state.groupedTargetsMap.set(keyword, new Set(targets));\n    this.commit('target/changeDataGroupSign');\n    if (oldkeyword)\n      this.commit('target/changeDataGroupKeyword', keyword);\n  },\n  changeFullTargetLoadSign(state) {\n    state.fullTargetLoadSign ^= 1;\n  },\n  changeSelectedTargets(state, selectedTargets) {\n    state.selectedTargets = selectedTargets;\n  },\n  changeSelectedTargetsById(state, targetIds) {\n    const idSet = new Set(targetIds)\n    state.selectedTargets = state.fullTargetList.filter(t => idSet.has(t.id));\n  },\n  changeSelectedTargetsByIcon(state, iconObj) {\n    if (typeof iconObj.target === \"string\") {\n      const idSet = new Set(iconObj.target.replace(/[#,]/g, \"\").split(/[\\s\\n]/));\n      state.selectedTargets = state.fullTargetList.filter(t => idSet.has(t.id));\n    }\n    else if (Array.isArray(iconObj.target)) {\n      const idSet = new Set(iconObj.target);\n      state.selectedTargets = state.fullTargetList.filter(t => idSet.has(t.id));\n    }\n  },\n  changeActiveFilters(state, activeFilters) {\n    state.activeFilters = activeFilters;\n  },\n  changeTableSelectionSign(state) {\n    state.tableSelectionChangeSign ^= 1;\n  },\n  changeDataGroupSign(state) {\n    state.dataGroupChangeSign ^= 1;\n  },\n  changeDataGroupKeyword(state, keyword) {\n    state.dataGroupUpdateKeyword = keyword;\n  },\n  resetDataGroupKeyword(state) {\n    state.dataGroupUpdateKeyword = null;\n  },\n  changeSvgSelectionChangeSign(state) {\n    state.svgSelectionChangeSign ^= 1;\n  },\n  changeVisibilityChangeSign(state) {\n    state.visibilityChangeSign ^= 1;\n  },\n  changeDragDropSVG(state, svg) {\n    state.dragDropSVG = svg;\n  },\n  changeCursorPosition(state, { x, y }) {\n    state.clientX = x;\n    state.clientY = y;\n  },\n  setTargetType(state, { targetIdList, targetNode }) {\n    const idSet = new Set(targetIdList);\n    const targets = state.fullTargetList.filter(target => idSet.has(target.id));\n    const chartId = this.state.editor.scene.chartId;\n    targets.forEach(target => {\n      target.clazz = chartId + ' ' + targetNode.fullClasses;\n      target.classList = targetNode.fullClasses.split(' ').reverse();\n      target.type = targetNode.type;\n\n      const mainClass = target.classList.find(cls => mainClassSet.has(cls));\n      target.mainClass = mainClass ?? null;\n    });\n\n    state.fullTargetList = [...state.fullTargetList];   // self-assign to trigger the setter function\n    this.commit('target/changeTableSelectionSign');\n  },\n  setTargetClass(state, { targetIdList, targetClass }) {\n    const idSet = new Set(targetIdList);\n    state.fullTargetList.forEach((target, index) => {\n      if (idSet.has(target.id)) {\n        target.mainClass = targetClass;\n        state.fullTargetList[index] = target;\n      }\n    });\n    state.fullTargetList = [...state.fullTargetList];\n  },\n  changeVisibility(state, { showIdList, hideIdList }) {\n    const showIdSet = new Set(showIdList);\n    const hideIdSet = new Set(hideIdList);\n    for (let i = 0; i < state.fullTargetList.length; i++) {\n      const t = state.fullTargetList[i];\n      if (showIdSet.has(t.id)) {\n        t.visibility = true;\n        state.fullTargetList[i] = t;    // self-assign\n      } else if (hideIdSet.has(t.id)) {\n        t.visibility = false;\n        state.fullTargetList[i] = t;    // self-assign\n      }\n    }\n    this.commit('target/changeVisibilityChangeSign');\n  },\n}\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import {computeUUID} from \"@/utils/common/uuid\";\n\nexport class Scene {\n  id\n  spec\n\n  chartId\n\n  svgStr\n  audioStr\n  transcript\n  targetModel\n\n  sceneEl\n\n  audioDuration\n\n  constructor() {\n    this.id = computeUUID();\n    this.spec = {\n      charts: [],\n      templates: [],\n      animation: null,\n    };\n  }\n}","function formatInsightsFromGPT(JSONFromGPTSrc, spec) {\n    const JSONFromGPT = JSON.parse(JSON.stringify(JSONFromGPTSrc))\n    let formatInsights = []\n    const description = JSONFromGPT['d1'] + ' ' + JSONFromGPT['d2'] + ' ' + JSONFromGPT['insight1']['insightSentence'] + ' ' + JSONFromGPT['insight2']['insightSentence'] + ' ' + JSONFromGPT['insight3']['insightSentence']\n    console.log(description)\n\n    let currentPos = 0\n    const titleDesc = JSONFromGPT['d1'] + ' '\n    // console.log(titleDesc.length)\n    // title\n    formatInsights.push({\n        insightType: 'title',\n        subType: 'title',\n        insightWords: titleDesc,\n        pos: [currentPos, currentPos + titleDesc.length],\n        insightData: []\n    })\n    currentPos += titleDesc.length\n\n    // axis\n    const axisDesc = JSONFromGPT['d2'] + ' '\n    if(spec.type === 'pie'){\n        formatInsights.push({\n            insightType: 'axis',\n            subType: 'arc',\n            insightWords: axisDesc,\n            pos: [currentPos, currentPos + axisDesc.length],\n            insightData: []\n        })\n        currentPos += axisDesc.length\n    }\n    else {\n        // spilt y axis\n        let axis = axisDesc.split('y-axis')\n        let xAxisDesc = axis[0]\n\n        // split legend\n        let legend = axis[1].split('legend')\n        let legendDesc = \"legend\" + legend[1]\n        if(legend.length === 1){\n            legend = axis[1].split('color')\n            legendDesc = \"color\" + legend[1]\n        }\n        let yAxisDesc = 'y-axis' + legend[0]\n        // console.log(JSONFromGPT['description2'], axis, yAxisDesc)\n\n        // x-axis\n        formatInsights.push({\n            insightType: 'axis',\n            subType: 'x',\n            insightWords: axis[0],\n            pos: [currentPos, currentPos + xAxisDesc.length],\n            insightData: []\n        })\n        currentPos += xAxisDesc.length\n        // y-axis\n        if(spec.row > 1){\n            formatInsights.push({\n                insightType: 'axis',\n                subType: 'y',\n                insightWords: description.slice(currentPos, currentPos  + yAxisDesc.length),\n                pos: [currentPos, currentPos + yAxisDesc.length],\n                insightData: []\n            })\n            currentPos += yAxisDesc.length\n        }\n        // legend\n        formatInsights.push({\n            insightType: 'axis',\n            subType: 'legend',\n            insightWords: description.slice(currentPos, currentPos + legendDesc.length),\n            pos: [currentPos, currentPos + legendDesc.length],\n            insightData: []\n        })\n        currentPos += legendDesc.length\n\n\n        // const showPos = parseInt(yAxisDesc.length/2)\n        // console.log(showPos)\n        // formatInsights.push({\n        //     insightType: 'axis',\n        //     subType: 'y',\n        //     insightWords: description.slice(currentPos, currentPos + showPos),\n        //     pos: [currentPos, currentPos + showPos],\n        //     insightData: []\n        // })\n        // // show line/bar/pie\n        // formatInsights.push({\n        //     insightType: 'show',\n        //     subType: 'show',\n        //     insightWords: description.slice(currentPos + showPos, currentPos+yAxisDesc.length),\n        //     pos: [currentPos + showPos, currentPos+yAxisDesc.length],\n        //     insightData: []\n        // })\n        // currentPos += yAxisDesc.length\n    }\n\n\n    let sortedInsights = [JSONFromGPT['insight1'], JSONFromGPT['insight2'], JSONFromGPT['insight3']]\n    // sortedInsights.sort(\n    //     (a, b) => {\n    //         return isInsightExistInDescription(description, a, false) - isInsightExistInDescription(description, b, false)\n    //     })\n    // console.log(sortedInsights)\n\n    // insights\n    sortedInsights.forEach((insight) => {\n        insight['subInsights'].forEach((subInsight) => {\n            let words = subInsight['phrases']\n            let insightPos = isInsightExistInDescription(description, subInsight, true, currentPos)\n            if(insightPos === -1){\n                return\n            }\n            if (currentPos < insightPos) {\n                formatInsights.push({\n                    insightType: \"none\",\n                    subType: 'none',\n                    insightWords: description.slice(currentPos, insightPos),\n                    pos: [currentPos, insightPos],\n                    insightData: [],\n                    value: \"\"\n                })\n            }\n            formatInsights.push({\n                insightType: insight['insightType'],\n                subType: subInsight['type'],\n                pos: [insightPos, insightPos + words.length],\n                insightWords: description.slice(insightPos, insightPos + words.length),\n                insightData: csv2JSON(subInsight['data'], spec),\n                value: subInsight['value'] ? subInsight['value'] : \"\"\n            })\n            currentPos = insightPos + words.length\n        })\n\n    });\n\n    if (currentPos < description.length) {\n        formatInsights.push({\n            insightType: \"none\",\n            subType: 'none',\n            insightWords: description.slice(currentPos, description.length),\n            pos: [currentPos, description.length],\n            insightData: []\n        })\n    }\n    console.log(formatInsights)\n    return formatInsights\n}\n\nfunction csv2JSON(data, spec) {\n    let res = []\n    console.log(data)\n    for (const d of data) {\n        let values = d.split(\", \");\n        if(values.length === 1) {\n            values = d.split(\",\");\n        }\n        // console.log(values)\n        let result = {};\n        if(spec.type === 'pie'){\n            console.log(values)\n            result[spec.y] = parseFloat(values[1])\n            result[spec.legend] = values[0]\n            result[\"idx\"] = spec.data.findIndex(p => {\n                // console.log(parseFloat(p[spec.y]) === parseFloat(values[0]) && p[spec.legend] === values[1])\n                return parseFloat(p[spec.y]) === parseFloat(values[1]) && p[spec.legend] === values[0]})\n        }\n        else if(values.length ===2){\n            // console.log(values)\n            result[spec.x] = values[0]\n            result[spec.y] = parseFloat(values[1])\n            result[\"idx\"] = spec.data.findIndex(p => {\n                // console.log(parseFloat(p[spec.y]) === parseFloat(values[1]) && p[spec.x] === values[0])\n                return parseFloat(p[spec.y]) === parseFloat(values[1]) && p[spec.x] === values[0]})\n        }\n        else {\n            result[spec.x] = values[0]\n            result[spec.y] = parseFloat(values[1])\n            result[spec.legend] = values[2]\n            result[\"idx\"] = spec.data.findIndex(p => {\n                // console.log(p[spec.x] === values[0] && parseFloat(p[spec.y]) === parseFloat(values[1]) && p[spec.legend] === values[2])\n                return p[spec.x] === values[0] && parseFloat(p[spec.y]) === parseFloat(values[1]) && p[spec.legend] === values[2]})\n        }\n        res.push(result)\n    }\n    console.log(res)\n    return res; //JSON\n}\n\nfunction isInsightExistInDescription(description, insight, isSub, currentPos) {\n    let pos = -1\n    if(isSub) {\n        pos = description.toLowerCase().indexOf(insight['phrases'].toLowerCase(), currentPos)\n    }else {\n        console.log(insight['subInsights'][0]['phrases'].toLowerCase())\n        pos = description.toLowerCase().indexOf(insight['subInsights'][0]['phrases'].toLowerCase())\n    }\n    // console.log(pos)\n    return pos\n}\n\nfunction getsSVGSpec(svgStr, chartType) {\n    const svg = (new DOMParser())\n        .parseFromString(svgStr, 'image/svg+xml')\n        .querySelector('svg');\n    let all_data = []\n    let title = ''\n    const domElList = Array.from(svg.querySelectorAll('*:not(g,svg,defs,defs *)')).filter(domEl => domEl.ariaHidden != \"true\");\n    // console.log(domElList)\n    let maxDataLen = 0\n    domElList.forEach(domEl => {\n        if (domEl.attributes.getNamedItem('ac-data') !== null) {\n            const cur_data = JSON.parse(domEl.attributes.getNamedItem('ac-data').value.replace(/(&quot;)/g, \"\\\"\"))\n            // console.log(cur_data.length)\n            all_data.push(cur_data)\n            maxDataLen = Math.max(Object.keys(cur_data).length, maxDataLen)\n        }\n        // console.log(domEl.classList.contains('chart_title'))\n        else if (domEl.classList.contains('title')) {\n            title = domEl.textContent\n        }\n    })\n    console.log(maxDataLen)\n\n    // filter other data (e.g., line)\n    const filteredData = all_data.filter(item => Object.keys(item).length === maxDataLen);\n\n    let spec = {}\n    spec['data'] = filteredData\n    spec['title'] = title\n    spec['type'] = chartType\n    let legend = []\n    if(chartType === 'pie') {\n        spec['y'] = Object.keys(filteredData[0])[0]\n        spec['legend'] = Object.keys(filteredData[0])[1]\n    }\n    else if(title.includes('Deaths')){\n        spec['x'] = Object.keys(filteredData[0])[0]\n        spec['y'] = Object.keys(filteredData[0])[1]\n        legend = []\n    }\n    else {\n        spec['x'] = Object.keys(filteredData[0])[0]\n        spec['y'] = Object.keys(filteredData[0])[1]\n        spec['legend'] = Object.keys(filteredData[0])[2]\n\n        for (const d of filteredData) {\n            let curLegend = d[spec.legend]\n            if (!legend.includes(curLegend)) {\n                legend.push(curLegend)\n            }\n        }\n    }\n\n\n\n    spec['column'] = filteredData.length / legend.length\n    spec['row'] = legend.length\n    console.log(spec);\n    return spec\n}\n\nexport const InsightUtils = {\n    formatInsightsFromGPT,\n    // generateAnimationJSONfromInsights,\n    getsSVGSpec\n}","import { SVG } from '@svgdotjs/svg.js'\n\nfunction addCircleLineAnno(svg, insight, pattern) {\n    const point = svg.find('.mark-symbol path')\n    const title = svg.find('.titled')\n    console.log(svg, title, point)\n    const anno_point = point[pattern.index]\n    const annoCircleRadius = svg.bbox().height * 0.2\n    const point_group = svg.find('.layer_1_marks')[0]\n    console.log(point_group.x())\n\n    console.log(anno_point.attr())\n\n    let annoCenter = [anno_point.x() + anno_point.width() / 2, anno_point.y() + anno_point.height() / 2]\n\n    console.log(annoCircleRadius, annoCenter)\n    let anno_dy = svg.bbox().height * 0.2\n    let direction = 1\n\n    // direction\n    if (annoCenter[1] - svg.bbox().height / 2 > 0) {\n        direction = -1\n    }\n    const anno_group = svg.group({\"aria-roledescription\": 'annotation'})\n    // anno_circle\n    anno_group.circle(annoCircleRadius).stroke({ color: '#f06', opacity: 0.5, width: 5 }).fill('none').cx(annoCenter[0]).cy(annoCenter[1] + anno_dy * direction).attr({\"aria-roledescription\": 'annotation'})\n    // anno_text\n    anno_group.text(\"0.5\").x(annoCenter[0]).y(annoCenter[1] + anno_dy * direction)\n        .font({ size: title.attr()[0]['font-size'], opacity: 0.5, fill: '#f06', family: title.attr()[0]['font'], anchor: 'middle' }).attr({\"aria-roledescription\": 'annotation'})\n    // anno_line\n    anno_group.line(annoCenter[0], annoCenter[1] + (anno_dy - annoCircleRadius * 0.5) * direction, annoCenter[0], annoCenter[1]).stroke({ color: '#f06', opacity: 0.5, width: 5, linecap: 'round' }).attr({\"aria-roledescription\": 'annotation'})\n}\n\nfunction addArrowAnno(svg, data, spec, insight) {\n\n    for(const d of data){\n        const elementID = findElement(svg, d, spec)\n        if(elementID === ''){\n            continue\n        }\n        const element = svg.find('#' + elementID)[0]\n        let textUp = 1\n        // console.log(element.y(), svg.bbox().height/2)\n        if(element.y() > svg.bbox().height/2){\n            textUp = -1.5*textUp\n        }\n        const originArrowWidth = 20\n        svg.path(\"M12 4V20M12 4L15.5 7.5M12 4L8.5 7.5M12 20L8.5 16.5M12 20L15.5 16.5\")\n            .scale(1.5, element.x(), element.y())\n            .stroke({ color: '#f06', width: 1 })\n            .fill('none')\n            .move(element.x() - originArrowWidth*0.1,\n                  element.y() + textUp*originArrowWidth*(textUp > 0 ? 0.5 : 1))\n            .attr({\"class\": `${insight['insightType'].toLowerCase().replace(' ', '-')} annotation arrow`, \"stroke-linecap\": \"round\"})\n\n        const textContent = spec.data[getIDNum(elementID)][spec.y]\n        const textLength = textContent.toString().length\n        // console.log(textLength)\n        svg.text(textContent)\n            .x(element.x()-textLength*svg.width()*0.002)\n            .y(element.y()+textUp*svg.height()*0.08)\n            .font({ size: svg.height()/40, fill: '#f06', family: 'Inconsolata' })\n            .attr({\"class\": `${insight['insightType'].toLowerCase().replace(' ', '-')} annotation text`})\n    }\n\n}\n\nfunction addTrendArrowAnno(svg, data, spec, insight, hasShow) {\n\n    // check the order of points\n    const pointID = findElement(svg, data[0], spec)\n    console.log(pointID)\n    let lineID = 'mark-line-' + Math.floor(getIDNum(pointID)/spec.column)\n    if(spec.row === 1){\n        lineID = 'mark-line-0'\n    }\n    console.log(lineID, pointID)\n\n    let line = svg.find('#' + lineID)[0]\n\n    // add marker using dom\n    // let size = 3\n    // let marker = document.createElementNS(\"http://www.w3.org/2000/svg\", \"marker\");\n    // marker.setAttribute(\"id\", \"arrow\");\n    // marker.setAttribute(\"viewBox\", `0 0 ${10*size} ${10*size}`);\n    // marker.setAttribute(\"refX\", 3*size);\n    // marker.setAttribute(\"refY\", 3*size);\n    // marker.setAttribute(\"markerUnits\", \"strokeWidth\");\n    // marker.setAttribute(\"markerWidth\", 4*size);\n    // marker.setAttribute(\"markerHeight\", 3*size);\n    // marker.setAttribute(\"orient\", \"auto\");\n    // console.log(marker)\n    // // console.log(svg.element())\n    // let path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n    // path.setAttribute(\"d\", `M0,0 L0,${6*size} L${9*size},${3*size}`);\n    // path.setAttribute(\"fill\", line.attr('stroke'));\n    // marker.appendChild(path);\n    // // document.getElementsByClassName(\"scene\")[1].appendChild(marker);\n    // console.log(domElToString(marker))\n    // svg.svg(domElToString(marker))\n\n    // let arrow_marker = svg.marker(5, 4, function (add) {\n    //     add.path('M0,0 V4 L5,2 Z').fill('#ccc')\n    // }).id(\"arrow\")\n    // console.log(arrow_marker)\n    // line.marker('end', arrow_marker)\n\n    // aside arrow\n\n    const point = svg.find('.point')\n    const pointStartNum = parseInt(getIDNum(pointID))\n    const lastPoint = point[pointStartNum + spec.column-1]\n    line.addClass('trend')\n    console.log(point)\n    for(let i = pointStartNum; i < pointStartNum + spec.column; i++){\n        // console.log(point[i])\n        point[i].addClass('trend')\n    }\n    const scale = 2.5\n    const originWidth = 20\n    const pos = [lastPoint.x()-scale*originWidth/2, lastPoint.y()-originWidth*scale*1.5]\n    if(insight['insightWords'].toLowerCase().includes('increas')) {\n        // increase\n        line.addClass('increase')\n        svg.path('M20.5 7.5L13 15l-4-4-6 6M16 7h4.95v5')\n        .move(pos[0], pos[1])\n        .scale(scale, pos[0], pos[1])\n        .fill('none')\n        .stroke({ color: line.attr('stroke'), width: 2})\n        .addClass('trend-annotation')\n    }\n    else if(insight['insightWords'].toLowerCase().includes('decreas')){\n        line.addClass('decrease')\n        svg.path('M20.5 17L13 9.5l-4 4-6-6m13 10h4.95v-5')\n        .move(pos[0], pos[1])\n        .scale(scale, pos[0], pos[1])\n        .fill('none')\n        .stroke({ color: line.attr('stroke'), width: 2})\n        .addClass('trend-annotation')\n    }\n    else {\n        svg.path('M3 12h4l3-9 4 18 3-9h4')\n        .move(pos[0], pos[1])\n        .scale(scale, pos[0], pos[1])\n        .fill('none')\n        .stroke({ color: line.attr('stroke'), width: 2})\n        .addClass('trend-annotation')\n        line.addClass('fluctuate')\n    }\n    console.log(hasShow)\n    if(hasShow){\n        let lineCopy = line.clone()\n        lineCopy.removeClass('trend').addClass('destory')\n        line.removeClass('line').removeClass('mark')\n        svg.add(lineCopy)\n    }\n\n\n    // segment + arrow\n    // line.remove()\n    // const point = svg.find('.point')\n    // const first_point = point[getIDNum(pointID)]\n    // let point_r = 0\n    // if (point.length > 0) {\n    //     point_r = first_point.bbox().width / 2\n    // }\n    // let annoCircleRadius = 0\n    // let anno_dy = 200\n    // let arrow_marker = svg.marker(5, 4, function (add) {\n    //     add.path('M0,0 V4 L5,2 Z').fill('#ccc')\n    // }).ref(4.5, 2)\n\n    // const lastPoint = point[pointID + spec.column]\n    // for (s of segmentPath(line, point_r, svg, arrow_marker)) {\n    //     s.marker('end', arrow_marker)\n    // }\n}\n\nfunction getIDNum(id) {\n    let idSplit = id.split('-')\n    return parseInt(idSplit[idSplit.length-1])\n}\n\nfunction findElement(svg, data, spec) {\n    let childID = ''\n    svg.each(function(i, children) {\n        const child = children[i]\n        if(Object.keys(child.attr()).includes('ac-data')){\n            // eslint-disable-next-line\n            const childData = JSON.parse(child.attr('ac-data').replace(/(&quot\\;)/g,\"\\\"\"))\n            console.log(data[spec['x']]===childData[spec['x']], childData[spec['y']] === data[spec['y']], childData[spec['legend']] === data[spec['legend']])\n            if(childData[spec['x']] === data[spec['x']] &&\n            childData[spec['y']] === data[spec['y']] && childData[spec['legend']] === data[spec['legend']]){\n                childID = child.attr('id')\n                console.log(childID)\n            }\n        }\n    })\n    return childID\n}\n\nfunction annotateSVGUsingInsights(formatInsights, spec, svgStr) {\n    const svgJs = SVG().svg(svgStr).children()[0]\n    console.log(formatInsights)\n    let hasShow = false\n    for(let i = 0; i < formatInsights.length; i++) {\n        const insight = formatInsights[i]\n        if(['extreme', 'outlier', 'turning point', \"proportion\"].includes(insight['insightType'].toLowerCase())){\n            // add circle\n            // addCircleAnno(svgJs, insight['insightData'], spec, insight)\n            // add arrow\n            addArrowAnno(svgJs, insight['insightData'], spec, insight)\n        }\n        if(['trend'].includes(insight['insightType'].toLowerCase())){\n            // add arrow\n            addTrendArrowAnno(svgJs, insight['insightData'], spec, insight, hasShow)\n        }\n        if(insight['insightType'] === 'show') {\n            hasShow = true\n        }\n    }\n    const res = toSVGStr(svgJs)\n    return res\n}\n\nfunction toSVGStr(svgJs) {\n    return svgJs.width(svgJs.bbox().width).height(svgJs.bbox().height).svg()\n}\n\n\nexport const SVGUtils = {\n    addArrowAnno,\n    addCircleLineAnno,\n    annotateSVGUsingInsights\n}\n","import { SVG } from '@svgdotjs/svg.js'\nfunction annotateSVGUsingInsights(formatInsights, spec, svgStr) {\n  const svg = (new DOMParser())\n    .parseFromString(svgStr, 'image/svg+xml')\n    .querySelector('svg');\n\n\n  // const domElList = Array.from(svg.querySelectorAll('*:not(g,svg,defs,defs *)')).filter(domEl => domEl.ariaHidden != \"true\");\n\n  var parentElList = Array.from(svg.querySelectorAll('*')).filter(domEl => domEl.ariaRoleDescription != null);\n\n  const insightDict = {}\n  const LineDict = {}\n  // eslint-disable-next-line no-unused-vars\n  var hasShow = false\n\n  // add annotation\n  formatInsights.forEach((insight) => {\n    if (['extreme', 'outlier', \"proportion\", \"difference\", \"rank\", 'association', \"distribution\", 'value'].includes(insight['insightType'].toLowerCase())) {\n      insight.insightData.forEach((d) => {\n        if (insightDict[d.idx]) {\n          insightDict[d.idx].push(insight.subType)\n        }\n        else {\n          insightDict[d.idx] = [insight.subType]\n        }\n      })\n      if(spec.title.includes('elephone') || spec.title.includes('etaverse')){\n        svg.appendChild(addDistributionCircleAnno(svgStr, insight.subType, spec.title))\n      }\n    }\n    else if(insight['insightType'].toLowerCase() === 'trend'){\n      // annotate\n      if(spec.type === 'bar'){\n        var refBar = parentElList[parentElList.findIndex(p => p.id === `bar-${insight.insightData[0].idx}`)]\n        svg.appendChild(addTrendArrowAnno(insight.subType, refBar, spec.title))\n      }\n      else if(spec.type === 'line'){\n        var refPoint = parentElList[parentElList.findIndex(p => p.id === `point-${insight.insightData[insight.insightData.length-1].idx}`)]\n        console.log(refPoint)\n        svg.appendChild(addTrendArrowAnno(insight.subType, refPoint, spec.title))\n        insight.insightData.forEach((d) => {\n          if (insightDict[d.idx]) {\n              insightDict[d.idx].push(insight.subType)\n          }\n          else {\n            insightDict[d.idx] = [insight.subType]\n          }\n          if(LineDict[Math.floor(d.idx/spec.column)]){\n            LineDict[Math.floor(d.idx/spec.column)].push(insight.subType)\n          }\n          else {\n            LineDict[Math.floor(d.idx/spec.column)]= [insight.subType]\n          }\n        })\n      }\n    }\n    else if(insight['insightType'].toLowerCase() === 'aggregation'){\n      // annotate text\n      if(spec.type === 'pie'){\n        var refSec = parentElList[parentElList.findIndex(p => p.id === 'sector-0')]\n        refSec.parentNode.appendChild(addTextAnno(insight))\n      }\n    }\n    if(insight['insightType'].toLowerCase() === 'distribution' && insight.subType.toLowerCase() !== 'none' && spec.type === 'bar' || insight['insightType'].toLowerCase() === 'difference' && spec.type === 'line' && spec.title.includes('merica') ){\n      // annotate\n      svg.appendChild(addDistributionCircleAnno(svgStr, insight.subType, spec.title))\n    }\n    if (insight['insightType'] === 'show') {\n      hasShow = true\n    }\n  })\n  console.log(insightDict)\n\n  parentElList.forEach(domEl => {\n    var idx = getIDIdx(domEl.id);\n    switch (domEl.classList[domEl.classList.length - 1]) {\n      case 'bar':\n      case 'bar-label':\n        // console.log(domEl.id)\n        if (insightDict[idx] && spec.type === 'bar') {\n          insightDict[idx].forEach((subType) => {\n            domEl.classList.add(subType.toLowerCase());\n          })\n        }\n        // console.log(domEl.classList)\n        break;\n      case 'sector':\n        // console.log(getSvgFanCenter(domEl))\n        if (insightDict[idx]) {\n          insightDict[idx].forEach((subType) => {\n            domEl.classList.add(`${subType.toLowerCase()}`);\n          })\n        }\n        // console.log(domEl.classList)\n        break;\n      case 'sector-label':\n        // console.log(domEl.id)\n        if (insightDict[idx]) {\n          insightDict[idx].forEach((subType) => {\n            domEl.classList.add(`${subType.toLowerCase()}`);\n          })\n        }\n        // console.log(domEl.classList)\n        break;\n      case 'contour':\n        if (insightDict[idx]) {\n          insightDict[idx].forEach((subType) => {\n            domEl.classList.add(subType.toLowerCase());\n          })\n        }\n        // console.log(domEl.classList)\n        break;\n      case 'point':\n        if (insightDict[idx]) {\n          insightDict[idx].forEach((subType) => {\n            domEl.classList.add(subType.toLowerCase());\n          })\n        }\n        // console.log(domEl.classList)\n        break;\n      case 'line':\n        if (LineDict[idx]) {\n          LineDict[idx].forEach((subType) => {\n            domEl.classList.add(subType.toLowerCase());\n          })\n        }\n        break;\n    }\n  })\n  const newSvgStr = domElToString(svg);\n  return {svgstr: newSvgStr, dict: insightDict}\n}\n\nfunction addTrendArrowAnno(subtype, ref, title){\n  let posIncrease = [100, 220]\n  let posDecrease = [300, 200]\n  let posFluctuate = [400, 100]\n  if(title.includes('elephone')) {\n    posIncrease = [450, 120]\n    posDecrease = [450, 220]\n  }\n  else if(title.includes('Nuclear')) {\n    posIncrease = [100, 100]\n    posDecrease = [300, 200]\n  }\n  else if(title.includes('etaverse')) {\n    posIncrease = [680, 120]\n  }\n  else if(title.includes('airports')) {\n    posIncrease = [680, 120]\n    posDecrease = [680, 220]\n  }\n  else if(title.includes('Qatar')) {\n    posIncrease = [750, 80]\n    posDecrease = [750, 150]\n  }\n  else if(title.includes('merica')) {\n    posIncrease = [100, 230]\n    posFluctuate = [400, 100]\n  }\n  else if(title.includes('eath')) {\n    posIncrease = [600, 50]\n  }\n  if(subtype === 'increase' || subtype === 'fluctuate_increase' ) {\n    const increaseAnno = SVG().path('M20.5 7.5L13 15l-4-4-6 6M16 7h4.95v5')\n        .move(posIncrease[0], posIncrease[1])\n        .scale(2, posIncrease[0], posIncrease[1])\n        .fill('none')\n        .stroke({ color: ref.getAttribute('fill'), width: 2})\n        .addClass(`${subtype}-annotation`)\n        .attr('stroke-linejoin', 'round')\n    return (new DOMParser()).parseFromString(increaseAnno.svg(), 'image/svg+xml').firstChild\n  }\n  else if(subtype === 'decrease' || subtype === 'fluctuate_decrease' ) {\n    const decreaseAnno = SVG().path('M20.5 17L13 9.5l-4 4-6-6m13 10h4.95v-5')\n        .move(posDecrease[0], posDecrease[1])\n        .scale(2, posDecrease[0], posDecrease[1])\n        .fill('none')\n        .stroke({ color: ref.getAttribute('fill'), width: 2})\n        .addClass(`${subtype}-annotation`)\n        .attr('stroke-linejoin', 'round')\n    return (new DOMParser()).parseFromString(decreaseAnno.svg(), 'image/svg+xml').firstChild\n  }\n  else if(subtype === 'fluctuate') {\n    const fluctuateAnno = SVG().path('M3 12h4l3-9 4 18 3-9h4')\n        .move(posFluctuate[0], posFluctuate[1])\n        .scale(2, posFluctuate[0], posFluctuate[1])\n        .fill('none')\n        .stroke({ color: ref.getAttribute('fill'), width: 2})\n        .addClass(`${subtype}-annotation`)\n        .attr('stroke-linejoin', 'round')\n    return (new DOMParser()).parseFromString(fluctuateAnno.svg(), 'image/svg+xml').firstChild\n  }\n}\n\nfunction addTextAnno(insight) {\n  const pos = [58, 100]\n  const text = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n  text.setAttribute(\"x\", pos[0]);\n  text.setAttribute(\"y\", pos[1]);\n  text.setAttribute(\"font-size\", \"14\");\n  text.setAttribute(\"fill\", \"#ff0066\");\n  text.setAttribute(\"font-family\", \"Inconsolata\");\n  text.setAttribute(\"class\", insight.subType);\n  text.textContent = insight.subType + \": \" + insight.value;\n  return text\n}\n\nfunction addDistributionCircleAnno(svgStr, subtype, title) {\n  const svgJs = SVG().svg(svgStr).children()[0]\n  const pos = [svgJs.bbox().w/2, svgJs.bbox().h/2]\n  console.log(pos, svgJs.bbox())\n  var distributionAnno = SVG()\n        .rect(pos[0]*1.5, 1.5*pos[1])\n        .radius(50)\n        .move(pos[0]*0.25, pos[1]*0.5)\n        .fill('none')\n        .stroke({ color: \"#f06\", width: 5})\n        .addClass(`${subtype}-annotation`)\n  if(title.includes('elephone')){\n    distributionAnno = SVG()\n        .rect(pos[0]*1.5, 1.5*pos[1])\n        .radius(50)\n        .move(pos[0]*0.1, pos[1]*0.4)\n        .fill('none')\n        .stroke({ color: \"#f06\", width: 5})\n        .addClass(`${subtype}-annotation`)\n  }\n  else if(title.includes('etaverse')){\n    distributionAnno = SVG()\n        .rect(pos[0]*1.5, 1.5*pos[1])\n        .radius(50)\n        .move(pos[0]*0.28, pos[1]*0.2)\n        .fill('none')\n        .stroke({ color: \"#f06\", width: 5})\n        .addClass(`${subtype}-annotation`)\n  }\n  else if(title.includes('merica')){\n    distributionAnno = SVG()\n        .rect(pos[0]*1.8, 1.5*pos[1])\n        .radius(50)\n        .move(pos[0]*0.15, pos[1]*0.3)\n        .fill('none')\n        .stroke({ color: \"#f06\", width: 5})\n        .addClass(`${subtype}-annotation`)\n  }\n  return (new DOMParser()).parseFromString(distributionAnno.svg(), 'image/svg+xml').firstChild\n}\n\nfunction getIDIdx(id) {\n  let split = id.split('-')\n  return parseInt(split[split.length - 1])\n}\n\nfunction domElToString(domEl) {\n  const tmp = document.createElement(\"div\");\n  tmp.appendChild(domEl);\n  return tmp.innerHTML;\n}\n\nexport const VegaSVGUtils = {\n  annotateSVGUsingInsights\n}\n","// import JSON5 from 'json5';\n\n// initial state\nimport {Scene} from \"@/utils/common/Scene\";\nimport {aniChart} from \"@/core\";\nimport {Notification} from \"element-ui\";\nimport {deepCopy} from \"@/utils/common/copy\";\nimport {AudioUtils} from \"@/utils/audio/AudioUtils\";\nimport {TargetUtils} from \"@/utils/target/TargetUtils\";\nimport {VegaTargetUtils} from \"@/utils/target/VegaTargetUtils\";\nimport {InsightUtils} from \"@/utils/insight/InsightUtils.js\";\nimport { SVGUtils } from \"../../utils/svg/SVGUtils\";\nimport { VegaSVGUtils } from \"../../utils/svg/VegaSVGUtils\";\n\n\nconst state = () => ({\n  isInitialized: false,\n\n  scenes: [],\n  selectedScene: null,\n  canvasHeight: 500,\n  canvasWidth: 800,\n\n  canvasRenderSign: 0,\n\n  sceneEl: null,\n\n  animationJSON: null,\n  timeline: null,\n  running: false,\n\n  useAudio: true,\n  audioSrc: '',\n  audioEl: null,\n  audioReady: false,\n})\n\n// getters\nconst getters = {\n}\n\n// actions\nconst actions = {\n  async compile({commit, dispatch}) {\n    await dispatch('createAudioSrc');\n    commit('createAnimationJSON');\n    commit('createTimeline');\n  },\n  createAudioSrc({state, commit}) {\n    if (state.scenes.some(s => !s.audioSrc)) {\n      console.warn('Missing audio resources');\n      commit('setAudioSrc', '');\n    }\n    const audioBlobList = state.scenes\n        .map(scene => scene.audioStr)\n        .map(dataURI => AudioUtils.dataURItoBlob(dataURI))\n\n    const promiseList = audioBlobList.map(blob => AudioUtils.blobToAudioBuffer(blob));\n    return Promise.all(promiseList)\n        .then(audioBufferList => {\n          console.log(audioBufferList);\n\n          // set audio duration\n          audioBufferList.map((ab, i) => {\n            const duration = AudioUtils.computeAudioDuration(ab)\n            commit('setSceneAudioDuration', {sceneIndex: i, duration});\n          });\n\n          const extendTimes = audioBufferList.map(() => 1);\n          const newAudioBuffer = AudioUtils.concatAudio(audioBufferList, extendTimes);\n          const newAudioBlob = AudioUtils.audioBufferToBlob(newAudioBuffer);\n          const audioSrc = window.URL.createObjectURL(newAudioBlob);\n          commit('setAudioSrc', audioSrc);\n        });\n  },\n}\n\n// mutations\nconst mutations = {\n  initProjectView(state) {\n    state.scenes = [];\n    this.state.resource.projectSpec.scenes.forEach(sceneSpec => {\n      const scene = new Scene();\n      Object.assign(scene.spec, sceneSpec);\n      const chartId = sceneSpec.charts[0].source.replace('./', '').replace('.svg', '');   // temp version\n      scene.chartId = chartId;\n\n      scene.initialSvgStr = this.state.resource.svgStrMap.get(chartId);\n      scene.svgStr = this.state.resource.svgStrMap.get(chartId);\n      scene.audioStr = this.state.resource.audioStrMap.get(chartId);\n      scene.transcript = this.state.resource.transcriptMap.get(chartId);\n      scene.targetModel = this.state.resource.targetModelMap.get(chartId);\n      scene.linking = this.state.resource.linkingMap.get(chartId);\n      if(chartId.includes('line') || chartId.includes('bar') || chartId.includes('pie')) {\n        scene.insights = this.state.resource.insightsMap.get(chartId);\n      }\n\n      if (!scene.targetModel) {\n        // if live charts or not\n        // console.log(chartId.includes('line') || chartId.includes('bar') || chartId.includes('pie'))\n        if(chartId.includes('line') || chartId.includes('bar') || chartId.includes('pie')) {\n          const {svgStr, targetModel} = scene.chartId.includes(\"vega\") ?\n            VegaTargetUtils.updateSVGModel(scene.initialSvgStr, scene.chartId):\n            TargetUtils.updateSVGModel(scene.initialSvgStr, scene.chartId);\n          const spec = InsightUtils.getsSVGSpec(svgStr, chartId.split('-')[0])\n          scene.description = InsightUtils.formatInsightsFromGPT(scene.insights, spec)\n          if(scene.chartId.includes(\"vega\")){\n            scene.svgStr = VegaSVGUtils.annotateSVGUsingInsights(scene.description, spec, svgStr).svgstr\n            scene.insightDict = VegaSVGUtils.annotateSVGUsingInsights(scene.description, spec, svgStr).dict\n          }\n          else{\n            SVGUtils.annotateSVGUsingInsights(scene.description, spec, svgStr);\n          }\n          if(scene.chartId.includes(\"vega\")) {\n            scene.targetModel = targetModel;\n          }\n          this.commit('resource/updateSVGModel', {chartId, svgStr, targetModel: deepCopy(targetModel)}, {root: true});\n        }\n        else {\n          // TODO: classify normal svg and vega lite svg\n          const {svgStr, targetModel} = VegaTargetUtils.updateSVGModel(scene.svgStr, scene.chartId);\n          // const {svgStr, targetModel} = scene.chartId.includes(\"vega\") ?\n          // VegaTargetUtils.updateSVGModel(scene.initialSvgStr, scene.chartId):\n          // TargetUtils.updateSVGModel(scene.initialSvgStr, scene.chartId);\n          scene.svgStr = svgStr;\n          scene.targetModel = targetModel;\n          this.commit('resource/updateSVGModel', {chartId, svgStr, targetModel: deepCopy(targetModel)}, {root: true});\n        }\n      }\n\n      state.scenes.push(scene);\n    });\n    state.selectedScene = state.scenes[0];\n\n    state.isInitialized = true;\n    this.commit('project/changeCanvasRenderSign');\n  },\n  changeSelectedScene(state, scene) {\n    state.selectedScene = scene;\n  },\n\n  addScene(state, {charts}) {\n    const newScene = new Scene();\n    state.scenes.push(newScene);\n\n    if (charts) {\n      newScene.spec.charts = charts;\n    }\n  },\n\n  mountSceneElement(state, sceneEl) {\n    state.sceneEl = sceneEl;\n  },\n\n  createTimeline(state) {\n    // reset template lib\n    aniChart.resetTemplateLib();\n    state.scenes.map(s => s.spec.templates).forEach(templates => {\n      if (!templates) {\n        return;\n      }\n      aniChart.registerTemplates(...templates);\n    });\n\n    if (state.timeline) {\n      state.timeline.kill();\n      state.timeline.clear();\n      state.timeline = null;\n    }\n\n    try {\n      state.timeline = aniChart.render(state.sceneEl, state.animationJSON, {});\n\n      const onCompleteFunc = function() {\n        state.running = false;\n        state.timeline.pause();\n      };\n      state.timeline.eventCallback('onComplete', onCompleteFunc);\n\n      // Notification({title: `Compile finished`,\n      //   message: 'Play the animation!', type: 'success'});\n    } catch (exception) {\n      alert(exception)\n      console.error(exception)\n      Notification({title: `Compile failed`,\n        message: exception.message, type: 'warning'});\n    }\n  },\n\n  createAnimationJSON(state) {\n    const sceneSVGList = [...state.sceneEl.querySelectorAll(':scope > svg')].reverse();\n    const concat = [];\n\n    state.scenes.forEach((scene, sceneIndex) => {\n      const sceneContainerId = sceneSVGList[sceneIndex].id;\n\n      concat.push({\n        target: `#scene-cover-${sceneIndex}`,\n        use: 'fade-out',\n        timing: {duration: 0.5, offset: sceneIndex === 0 ? 0 : -0.5},\n      });\n\n      let animation;\n      if (scene.spec.animation.sequence.sync.length !== 0) {\n        animation = deepCopy(scene.spec.animation);\n      } else {\n        animation = {\n          use: 'empty',\n          timing: {duration: 2},\n        }\n      }\n      animation.target = '.' + scene.chartId;\n      const subSync = {\n        sequence: {\n          sync: [\n            animation,\n            {\n              use: \"empty\",\n              timing: {duration: scene.audioDuration},\n            }\n          ]\n        }\n      }\n      concat.push(subSync);\n\n      concat.push({\n        target: `#${sceneContainerId}`,\n        use: 'fade-out',\n        timing: {duration: 0.5, offset: 1},\n      });\n    });\n\n    state.animationJSON = {\n      sequence: {concat},\n    };\n  },\n\n  changeCanvasRenderSign(state) {\n    state.canvasRenderSign ^= 1;\n  },\n\n  // audio\n  mountAudioElement(state, audioEl) {\n    state.audioEl = audioEl;\n  },\n  setAudioSrc(state, audioSrc) {\n    state.audioSrc = audioSrc\n    if (state.setAudioReadyFunc) {\n      state.audioEl.removeEventListener(\"canplaythrough\", state.setAudioReadyFunc, false)\n    } else {\n      state.setAudioReadyFunc = function() {\n        state.audioReady = true\n      }\n    }\n    state.audioReady = false;\n    state.audioEl.addEventListener(\"canplaythrough\", state.setAudioReadyFunc, false);\n  },\n  changeUseAudio(state, useAudio) {\n    state.useAudio = useAudio;\n  },\n  changeAudioReady(state, isReady) {\n    state.audioReady = isReady\n  },\n  setSceneAudioDuration(state, {sceneIndex, duration}) {\n    state.scenes[sceneIndex].audioDuration = duration;\n  },\n\n  // timeline\n  playAnimation(state) {\n    state.running = true;\n    state.timeline.resume();\n\n    if (state.audioReady && state.useAudio) {\n      state.audioEl.play()\n    }\n  },\n  pauseAnimation(state) {\n    state.running = false;\n    state.timeline.pause();\n\n    if (state.audioReady && state.useAudio) {\n      state.audioEl.pause()\n    }\n  },\n  restartAnimation(state) {\n    state.running = true;\n    state.timeline.restart();\n\n    if (state.audioReady && state.useAudio) {\n      state.audioEl.pause()\n      state.audioEl.currentTime = 0\n      state.audioEl.play()\n    }\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport generator from \"@/store/modules/generator\";\nimport editor from \"@/store/modules/editor\";\nimport resource from \"@/store/modules/resource\";\nimport target from \"@/store/modules/target\";\nimport project from \"@/store/modules/project\";\n\nVue.use(Vuex)\n\n// const debug = process.env.NODE_ENV !== 'production'\n\nexport default new Vuex.Store({\n  modules: {\n    generator, editor, resource, target, project,\n  },\n  // strict: debug,\n  strict: false,\n})\n","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport App from './App.vue'\nimport router from '@/router'\nimport store from '@/store'\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport locale from 'element-ui/lib/locale/lang/en'\nimport {saveAs} from 'file-saver';\nimport VueCodeMirror from 'vue-codemirror'\nimport 'codemirror/lib/codemirror.css'\n\nexport const eventBus = new Vue();\n\nVue.config.productionTip = false\n\nVue.use(VueRouter)\nVue.use(ElementUI, {locale})\nVue.use(VueCodeMirror)\n\nVue.prototype.$saveAs = saveAs\n\nnew Vue({\n  render: h => h(App),\n  router,\n  store,\n}).$mount('#app')\n","import {BaseTemplate} from \"@/core/entities/spec/BaseTemplate\";\n\nexport class NativeTemplate extends BaseTemplate {\n  constructor() {\n    super();\n    this.type = 'native';\n  }\n}\n","import {NativeTemplate} from \"@/core/entities/spec/template/NativeTemplate\";\nimport {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\nimport {ParamDefinition} from \"@/core/entities/spec/parameter/ParamDefinition\";\nimport {NativeAnimation} from \"@/core/entities/spec/animation/NativeAnimation\";\nimport gsap from \"gsap\";\nimport * as d3 from 'd3';\nimport {computeUUID} from \"@/core/utils/uuid\";\nimport {CLIP_PATH_CLASS} from \"@/core/const/Element\";\n\nexport class SectorWheelTemplate extends NativeTemplate {\n  constructor() {\n    super();\n    this.templateName = 'sector-wheel';\n    this.parameters = [\n      new ParamDefinition('enterOrExit', ParamType.STRING, false, 'enter'),\n      new ParamDefinition('duration', ParamType.NUMBER, false, 1),\n      new ParamDefinition('ease', ParamType.STRING, false, 'power1.out'),\n      new ParamDefinition('stagger', ParamType.NUMBER, false, 0),\n      new ParamDefinition('valueMapper', ParamType.STRING, false, '@datum.value'),\n      new ParamDefinition('extraDegree', ParamType.NUMBER, false, 5),\n    ];\n  }\n\n  createAnimation() {\n    const animation = new SectorWheelAnimation();\n    // transfer template settings to this native animation instance\n    // as their parameters are the same\n    animation.updateSettings(this.getParamValues());\n    return animation;\n  }\n}\n\nclass SectorWheelAnimation extends NativeAnimation {\n  x\n  y\n  width\n  height\n\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  create(context) {\n    const glyphs = context.getGlyphs(this.target);\n    const defs = context.getDefsSel();\n    const tl = gsap.timeline()\n    const {stagger, valueMapper, extraDegree} = this.settings;\n\n    let x = Infinity, y = Infinity, width = 0, height = 0;\n    glyphs.forEach(glyph => {\n      const bbox = glyph.getBBox();\n      x = Math.min(x, bbox.x);\n      y = Math.min(y ,bbox.y);\n      width = Math.max(width, bbox.x + bbox.width - x);\n      height = Math.max(height, bbox.y + bbox.height - y);\n    });\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    console.log('sector', x, y, width, height);\n\n    const expr = valueMapper\n        .replaceAll('@classList', '__node__.classList')\n        .replaceAll('@id', '__node__.getAttribute(\"id\")')\n        .replaceAll('@index', '__index__')\n        .replaceAll('@datum', '(JSON.parse(__node__.getAttribute(\"ac-data\")) ?? {})')\n        .replaceAll('@el', '__node__');\n    console.log('sector mapper expr', expr)\n    // eslint-disable-next-line no-unused-vars\n    const values = glyphs.map((__node__, __index__) => {\n      // console.log(__node__, eval(expr));\n      return eval(expr);\n    });\n    const tot = values.reduce((sum, v) => sum + v, 0);\n    const sums = [0];\n    values.forEach((v, i) => sums.push(sums[i] + v));\n    const startDegrees = values.map((v, i) => sums[i] / tot * 360),\n          endDegrees = values.map((v, i) => (sums[i + 1]) / tot * 360);\n    console.log({values, startDegrees, endDegrees})\n\n    glyphs.forEach((glyph, i) => {\n      const clip = this.addClipPathToGlyph(defs, glyph);\n      const tw = this.createTwForClip(clip, glyph, startDegrees[i] - extraDegree, endDegrees[i] + extraDegree);\n      const position = i === 0 ? 0 : ('<' + stagger);\n      tl.add(tw, position);\n    });\n\n    return tl;\n  }\n\n  /**\n   * @param {d3.Selection} defs\n   * @param {SVGGraphicsElement} glyph\n   * @returns {SVGGraphicsElement} the clip path of glyph\n   */\n  addClipPathToGlyph(defs, glyph) {\n    if (!glyph.getAttribute('id')) {\n      glyph.setAttribute('id', computeUUID());\n    }\n    const clipId = 'clip-path-' + glyph.getAttribute('id');\n    let clip = defs.select(`#${clipId}`);\n    if (clip.empty()) {\n      clip = defs.append('clipPath')\n          .attr('id', clipId)\n          .classed(CLIP_PATH_CLASS, true);\n      glyph.setAttribute('clip-path', `url(#${clipId})`);\n    }\n    const wheelPathSel = clip.select('.sector-wheel');\n    if (!wheelPathSel.empty()) {\n      return wheelPathSel.node();\n    }\n\n    let strokeWidth = parseFloat(glyph.getAttribute('stroke-width') ?? '0');\n    d3.select(glyph).selectAll('*').each(function () {\n      const tempWidth = parseFloat(this.getAttribute('stroke-width') ?? '0');\n      strokeWidth = Math.max(tempWidth, strokeWidth);\n    });\n\n    const newClipPath = clip.append('path')\n        .attr('class', 'sector-wheel')\n        .attr('d', '')\n\n    return newClipPath.node();\n  }\n\n  /**\n   * Same as Grow effect, but applied on mark\n   * @param {SVGGraphicsElement} clip\n   * @param {SVGGraphicsElement} glyph\n   * @param startDegree\n   * @param endDegree\n   * @returns {gsap.core.Tween|null}\n   */\n  createTwForClip(clip, glyph, startDegree, endDegree) {\n    const {ease, duration} = this.settings;\n    const startAngle = startDegree, sweepAngle = endDegree - startDegree;\n\n    let arc, finalSweepAngle;\n    arc = {\n      startAngle: startAngle ?? 0,\n      sweepAngle: 0,\n      cx: this.x + this.width / 2,\n      cy: this.y + this.height / 2,\n      rx: Math.max(this.width, this.height),\n      ry: Math.max(this.width, this.height),\n    };\n    console.log(arc.cx, arc.cy, arc)\n    finalSweepAngle = sweepAngle;\n\n    const updatePath = function updatePath() {\n      const path = getArcPath(\n          arc.cx,\n          arc.cy,\n          arc.rx,\n          arc.ry,\n          arc.startAngle,\n          arc.sweepAngle\n      );\n      clip.setAttribute('d', path);\n    };\n\n    updatePath();\n\n    // set animation\n    return gsap.to(arc, {\n      sweepAngle: finalSweepAngle,\n      ease,\n      onUpdate: updatePath,\n      duration,\n    });\n  }\n}\n\n/* cite: https://greensock.com/forums/topic/17566-create-a-radial-wipe/?tab=comments#comment-79421 */\nfunction getArcPath(cx, cy, rx, ry, startAngle, sweepAngle) {\n  // 0 degrees, no path\n  if (!sweepAngle) return `M${cx} ${cy}`;\n\n  // mod angles to 360 degrees\n  startAngle %= 360;\n  sweepAngle %= 360;\n\n  // If arc is 360 degrees, the sweep angle is 0 due to mod\n  const isClosed = sweepAngle === 0;\n\n  // If closed, we'll need to use 2 arcs with an angle of 180 degrees\n  if (isClosed) {\n    sweepAngle = 180;\n  }\n\n  // Make angle positive to simplify large arc flag\n  if (sweepAngle < 0) {\n    sweepAngle += 360;\n  }\n\n  const largeArc = sweepAngle > 180 ? 1 : 0;\n\n  // Convert degrees to radians\n  const a1 = (startAngle * Math.PI) / 180;\n  const a2 = ((startAngle + sweepAngle) * Math.PI) / 180;\n\n  // Calculate start and end coords for arc. Starts at 12 o'clock\n  const x1 = cx + rx * Math.sin(a1);\n  const y1 = cy - ry * Math.cos(a1);\n\n  const x2 = cx + rx * Math.sin(a2);\n  const y2 = cy - ry * Math.cos(a2);\n\n  /*\n  NOTE: To orient the starting point to 3 o'clock instead of 12 o'clock,\n  add 90 degrees to the start angle, or change the code above to this...\n\n  var x1 = cx + rx * Math.cos(a1);\n  var y1 = cy + ry * Math.sin(a1);\n\n  var x2 = cx + rx * Math.cos(a2);\n  var y2 = cy + ry * Math.sin(a2);\n  */\n\n  // Related demo using arc path\n  // https://codepen.io/osublake/pen/VbWKMj/\n  if (isClosed) {\n    return `\n      M ${x1} ${y1}\n      A ${rx} ${ry} 0 1 1 ${x2} ${y2}\n      A ${rx} ${ry} 0 1 1 ${x1} ${y1}z`;\n  }\n\n  return `\n    M ${x1} ${y1}\n    A ${rx} ${ry} 0 ${largeArc} 1 ${x2} ${y2}\n    L ${cx} ${cy}z`;\n}\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=299fb35c&prod&lang=css\"","import JSON5 from 'json5';\n\n/**\n * @typedef Target\n * @type {NormalTarget | AnonymousTarget}\n */\n\nexport class Target {\n  /** @type {Object | Parameter | (Object | Parameter)[]} */\n  transform\n\n  static getDefaultTarget() {\n    return new NormalTarget();\n  }\n\n  static simplifyJSON(json) {\n    if (typeof json !== 'object') {\n      return json;\n    }\n    const result = {};\n    // convert to normal form\n    if ('selector' in json && json.selector !== '*' && json.selector.trim() !== '') {\n      result.selector = json.selector;\n    }\n    if ('transform' in json) {\n      let trans = json.transform;\n      if (typeof trans === 'string' && trans.trim() !== '') {\n        trans = JSON5.parse(trans);\n      }\n      if (typeof trans === 'object' && !Array.isArray(trans)) {\n        result.transform = trans;\n      }\n      if (Array.isArray(trans) && trans.length !== 0) {\n        for (let i = 0; i < trans.length; i++) {\n          if (typeof trans[i] === 'string') {\n            trans[i] = JSON5.parse(trans[i]);\n          }\n        }\n        result.transform = trans;\n      }\n    }\n    // simplify\n    if (Object.keys(result).length === 0) {\n      return undefined;   // use default\n    }\n    if (Object.keys(result).length === 1 && 'selector' in result) {\n      return result.selector;\n    }\n    return result;\n  }\n}\n\nexport class AnonymousTarget {\n  /** @type {string} */\n  originalSelector\n  /** @type {string | string[]} */\n  subTags\n}\n\nexport class NormalTarget extends Target {\n  /** @type {string} */\n  selector\n\n  constructor(selector='*', transform=[]) {\n    super();\n    this.selector = selector;\n    this.transform = transform;\n  }\n}\n\n/**\n * @type TargetDefinition\n * @type {TargetCreation | TargetRedefinition | TargetRemoval}\n */\n\nexport class TargetCreation {\n  /** @type {'new'} */\n  operation\n  /** @type {string} */\n  tagName\n  /** @type {string} */\n  selector\n  /** @type {string | Target[]} */\n  subTags\n}\n\nexport class TargetRedefinition {\n}\n\nexport class TargetRemoval {\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExampleView.vue?vue&type=style&index=0&id=412f16fc&prod&scoped=true&lang=css\"","// cite: https://blog.csdn.net/Dream_Weave/article/details/102616459\nfunction computeUUID() {\n  let s = [];\n  let hexDigits = \"0123456789abcdef\";\n  for (let i = 0; i < 36; i++) {\n    s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n  }\n  s[14] = \"4\";  // bits 12-15 of the time_hi_and_version field to 0010\n  s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);  // bits 6-7 of the clock_seq_hi_and_reserved to 01\n  s[8] = s[13] = s[18] = s[23] = \"-\";\n\n  let uuid = s.join(\"\");\n  return uuid;\n}\n\nexport {\n  computeUUID\n}","// cite: https://blog.csdn.net/Dream_Weave/article/details/102616459\nfunction computeUUID() {\n  let s = [];\n  let hexDigits = \"0123456789abcdef\";\n  for (let i = 0; i < 36; i++) {\n    s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n  }\n  s[14] = \"4\";  // bits 12-15 of the time_hi_and_version field to 0010\n  s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);  // bits 6-7 of the clock_seq_hi_and_reserved to 01\n  s[8] = s[13] = s[18] = s[23] = \"-\";\n\n  let uuid = s.join(\"\");\n  return uuid;\n}\n\nexport {\n  computeUUID\n}","import {BaseTransform} from \"@/core/entities/spec/BaseTransform\";\nimport * as d3 from 'd3';\n\nexport class SortTransform extends BaseTransform {\n  /** @type {string} */\n  type\n  /** @type {string} */\n  data\n  /** @type {string} */\n  attr\n  /** @type {string} */\n  expr\n  /** @type {string} */\n  order\n\n  // /** @type {Target} */\n  // target\n  // /** @type {import('@/core/entities/context/Context').Context} */\n  // context\n\n  constructor() {\n    super();\n    this.type = 'sort';\n    this.expr = '0';\n  }\n\n  /**\n   * @param {d3.Selection} selection\n   * @returns {d3.Selection}\n   */\n  execute(selection) {\n    const reverse = this.order === 'dec';\n    const nodes = selection.nodes();\n\n    let expr;\n    if (this.data) {\n      expr = `__node__.__data__.${this.data}`\n    } else if (this.attr) {\n      expr = `__node__.getAttribute(\"${this.attr}\")`;\n    } else if (this.expr) {\n      expr = this.expr\n          .replaceAll('@classList', '__node__.classList')\n          .replaceAll('@id', '__node__.getAttribute(\"id\")')\n          .replaceAll('@index', '__index__')\n          .replaceAll('@datum', '__node__.__data__')\n          .replaceAll('@el', '__node__');\n    } else {\n      expr = '0';\n    }\n    console.log('sort expr', expr);\n    const compareFunc = (node, index) => {\n      let __expr__ = expr, __order__ = this.order;\n      if (node.getAttribute('ac-data') !== '' && this.data) {\n        __expr__ = '(JSON.parse(__node__.getAttribute(\"ac-data\")) ?? {}).' + this.data;\n      }\n      // eslint-disable-next-line no-unused-vars\n      const func = function (__node__, __index__) {\n        if (Array.isArray(__order__)) {\n          return __order__.indexOf(eval(__expr__));\n        }\n        return eval(__expr__)\n      };\n      return func(node, index);\n    };\n\n    const indexMap = new Map();\n    nodes.forEach((n, i) => indexMap.set(n, i));\n    nodes.sort((n1, n2) => {\n      const num = compareFunc(n1, indexMap.get(n1)) - compareFunc(n2, indexMap.get(n1));\n      return reverse ? -num : num;\n    })\n    return d3.selectAll(nodes);\n  }\n\n}\n\n","import {ParamType} from \"@/core/entities/spec/parameter/ParamType\";\n\nexport class ParamDefinition {\n  /** @type {string} */\n  paramName\n  /** @type {ParamType} */\n  paramType\n  /** @type {boolean} */\n  required\n  /** @type {*} */\n  defaultValue\n\n  /**\n   * @param {string} paramName\n   * @param {ParamType} paramType\n   * @param {boolean} required\n   * @param {*} defaultValue\n   */\n  constructor(\n      paramName='param',\n      paramType=ParamType.ANY,\n      required=true,\n      defaultValue=undefined,\n  ) {\n    this.paramName = paramName;\n    this.paramType = /** @type {ParamType} */ paramType.toLowerCase();\n    this.required = required;\n    this.defaultValue = defaultValue;\n  }\n\n  /**\n   * @param {*} value\n   * @returns {boolean}\n   */\n  isAcceptable(value) {\n    if (value === undefined && this.required) {\n      return false;\n    }\n    switch (this.paramType) {\n      case ParamType.NUMBER: return typeof value === \"number\";\n      case ParamType.STRING: return typeof value === \"string\";\n      case ParamType.OBJECT: return typeof value === 'object';\n      case ParamType.ARRAY: return Array.isArray(value);\n      case ParamType.ANY: return true;\n      case ParamType.BOOLEAN: return typeof value === 'boolean';\n      case ParamType.NUMBER_OR_ARRAY: return typeof value === 'number' || Array.isArray(value);\n      case ParamType.STRING_OR_ARRAY: return typeof value === 'string' || Array.isArray(value);\n    }\n    return false;\n  }\n}","export const CLASS_PREFIX = 'ani-chart-';\n\nexport const MASK_CLASS = 'ani-chart-mask';\nexport const ANNOTATION_CLASS = 'ani-chart-annotation';\nexport const CLIP_PATH_CLASS = 'ani-chart-clip-path';","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageHeader.vue?vue&type=style&index=0&id=41a0ba36&prod&scoped=true&lang=css\"","/**\n * @enum {string}\n * @readonly\n */\nexport const ParamType = {\n  NUMBER: 'number',\n  STRING: 'string',\n  OBJECT: 'object',\n  ARRAY: 'array',\n  ANY: 'any',\n  BOOLEAN: 'boolean',\n  NUMBER_OR_ARRAY: 'number-or-array',\n  STRING_OR_ARRAY: 'string-or-array',\n}","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiveView.vue?vue&type=style&index=0&id=4d510832&prod&scoped=true&lang=css\"","export class BaseTransform {\n  /** @type {string} */\n  type\n\n  // /** @type {Target} */\n  // target\n  // /** @type {import('@/core/entities/context/Context').Context} */\n  // context\n\n  constructor() {\n    this.type = 'unknown';\n  }\n\n  /**\n   * @param {d3.Selection} selection\n   * @returns {d3.Selection}\n   */\n  // eslint-disable-next-line no-unused-vars\n  execute(selection) {\n    throw 'This transform object is abstract.'\n  }\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadView.vue?vue&type=style&index=0&id=7907a5c4&prod&scoped=true&lang=css\"","import {Timing} from \"@/core/entities/spec/Timing\";\nimport {NormalTarget, Target} from \"@/core/entities/spec/Target\";\n\nexport class BaseAnimation {\n  /** @type {Target} */\n  target\n  /** @type {Timing} */\n  timing\n\n  /** @type {string} */\n  type\n  /** @type {Object<string, any>} */\n  settings\n\n  /**\n   * @param {Object<string, any>} settings\n   */\n  constructor(settings={}) {\n    this.target = Target.getDefaultTarget();\n    this.timing = new Timing();\n    this.type = 'unknown';\n    const defaultSettings = this.getDefaultSettings();\n    this.settings = Object.assign(defaultSettings, settings);\n  }\n\n  /**\n   * @param {Target | string} target\n   * @returns {BaseAnimation} this\n   */\n  setTarget(target) {\n    if (typeof target === 'string') {\n      this.target = new NormalTarget(target);\n    } else {\n      this.target = target;\n    }\n    return this;\n  }\n\n  /**\n   * @param {Object} target\n   * @returns {BaseAnimation} this\n   */\n  updateTarget(target) {\n    Object.assign(this.target, target);\n    return this;\n  }\n\n  /**\n   * @param {Timing} timing\n   * @returns {BaseAnimation} this\n   */\n  setTiming(timing) {\n    this.timing = timing;\n    return this;\n  }\n\n  /**\n   * @param {Timing | Object} timing\n   * @returns {BaseAnimation} this\n   */\n  updateTiming(timing) {\n    Object.keys(timing).forEach(key => {\n      if (timing[key] !== undefined) {\n        this.timing[key] = timing[key];\n      }\n    })\n    return this;\n  }\n\n  /**\n   * @returns {Object<string, any>}\n   */\n  getDefaultSettings() {\n    return {};\n  }\n\n  /**\n   * @param {Object<string, any>} settings\n   * @returns {BaseAnimation} this\n   */\n  updateSettings(settings) {\n    Object.assign(this.settings, settings);\n    return this;\n  }\n\n  /**\n   * @param {String} key\n   * @param {*} value\n   * @returns {BaseAnimation} this\n   */\n  set(key, value) {\n    this.settings[key] = value;\n    return this;\n  }\n\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {number}\n   */\n  // eslint-disable-next-line no-unused-vars\n  computeDuration(context) {\n    throw 'Animation is not implemented';\n  }\n\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {Set<HTMLElement>}\n   */\n  // eslint-disable-next-line no-unused-vars\n  computePossibleElements(context) {\n    throw 'Animation is not implemented';\n  }\n\n  /**\n   * @param {import('@/core/entities/context/Context').Context} context\n   * @returns {gsap.core.Timeline | gsap.core.Tween}\n   */\n  // eslint-disable-next-line no-unused-vars\n  create(context) {\n    throw 'Animation is not implemented';\n  }\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectColumnPanel.vue?vue&type=style&index=0&id=27202780&prod&scoped=true&lang=css\""],"sourceRoot":""}