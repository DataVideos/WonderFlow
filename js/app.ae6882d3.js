(function(e){function t(t){for(var i,s,n=t[0],l=t[1],c=t[2],p=0,u=[];p<n.length;p++)s=n[p],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&u.push(r[s][0]),r[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(u.length)u.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],i=!0,n=1;n<a.length;n++){var l=a[n];0!==r[l]&&(i=!1)}i&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var i={},r={app:0},o=[];function s(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=i,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(a,i,function(t){return e[t]}.bind(null,i));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1084:function(e,t,a){"use strict";a("428f")},"2f6e":function(e,t,a){},"30aa":function(e,t,a){},"39ec":function(e,t,a){},"428f":function(e,t,a){},"462f":function(e,t,a){"use strict";a("5bc0")},"4c89":function(e,t,a){},"4cb6":function(e,t,a){"use strict";a("30aa")},"56d7":function(e,t,a){"use strict";a.r(t),a.d(t,"eventBus",(function(){return He}));var i=a("2b0e"),r=a("8c4f"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],n={name:"App"},l=n,c=(a("6e8a"),a("2877")),d=Object(c["a"])(l,o,s,!1,null,null,null),p=d.exports,u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"homepage-view"},[a("el-header",[a("PageHeader")],1),a("el-main",[a("el-col",{attrs:{span:12,offset:6}},[a("el-row",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[a("h1",{staticClass:"title-text"},[e._v("WonderFlow: Easy Creation of Narration-Enriched Data Videos")])]),a("el-row",{staticStyle:{"margin-bottom":"20px"}},[a("h4",{staticStyle:{"text-align":"center"}},[a("p",[a("span",[e._v("Yun Wang"),a("sup",[e._v("* 1")])]),e._v("   "),a("span",[e._v("Leixian Shen"),a("sup",[e._v("* 2")])]),e._v("   "),a("span",[e._v("Zhengxin You"),a("sup",[e._v("3")])]),e._v("   "),a("span",[e._v("Xinhuan Shu"),a("sup",[e._v("4")])]),e._v("   "),a("span",[e._v("Bongshin Lee"),a("sup",[e._v("5")])]),e._v("   "),a("br"),a("span",[e._v("John Thompson"),a("sup",[e._v("6")])]),e._v("   "),a("span",[e._v("Haidong Zhang"),a("sup",[e._v("1")])]),e._v("   "),a("span",[e._v("Dongmei Zhang"),a("sup",[e._v("1")])])]),a("p",[a("span",[a("sup",[e._v("1")]),e._v("Microsoft Research")]),e._v("   "),a("span",[a("sup",[e._v("2")]),e._v("The Hong Kong University of Science and Technology")]),e._v("   "),a("br"),a("span",[a("sup",[e._v("3")]),e._v("The Hong Kong Polytechnic University")]),e._v("   "),a("span",[a("sup",[e._v("4")]),e._v("Newcastle University")]),e._v("   "),a("span",[a("sup",[e._v("5")]),e._v("Yonsei University")]),e._v("   "),a("span",[a("sup",[e._v("6")]),e._v("AutoDesk")])]),a("p",[a("sup",[e._v("*")]),e._v("Equal contribution")]),a("p",[e._v("IEEE Transactions on Visualization and Computer Graphics 2024")])])]),a("el-row",{staticStyle:{"margin-bottom":"20px"}},[a("video",{staticClass:"local-video",staticStyle:{"box-shadow":"0 0 5px #d7d7d7"},attrs:{src:"./data/video/WonderFlow_video.mp4",controls:"",width:"100%",height:"100%"}})]),a("el-row",{staticStyle:{"margin-bottom":"20px"}},[a("h3",{staticStyle:{"text-align":"center"}},[e._v("Abstract")]),a("p",[e._v("Creating an animated data video with audio narration is a time-consuming and complex task that requires expertise. It involves designing complex animations, turning written scripts into audio narrations, and synchronizing visual changes with the narrations. This paper presents WonderFlow, an interactive authoring tool, that facilitates narration-centric design of animated data videos. WonderFlow allows authors to easily specify semantic links between text and the corresponding chart elements. Then it automatically generates audio narration by leveraging text-to-speech techniques and aligns the narration with an animation. WonderFlow provides a structure-aware animation library designed to ease chart animation creation, enabling authors to apply pre-designed animation effects to common visualization components. Additionally, authors can preview and refine their data videos within the same system, without having to switch between different creation tools. A series of evaluation results confirmed that WonderFlow is easy to use and simplifies the creation of data videos with narration-animation interplay.")])])],1)],1),a("el-footer",[a("PageFooter")],1)],1)},h=[],g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-header"},[a("el-row",{staticStyle:{height:"100%"},attrs:{gutter:5,type:"flex",align:"middle"}},[a("el-col",{attrs:{span:3,offset:6}},[a("span",{staticClass:"header-text",staticStyle:{"user-select":"none",cursor:"pointer"},attrs:{title:"WonderFlow Homepage"},on:{click:e.clickHome}},[e._v("WonderFlow")])]),a("el-col",{attrs:{span:8,offset:7}},[a("el-button",{staticClass:"header-button",attrs:{type:"text"},nativeOn:{click:function(t){return e.clickHome.apply(null,arguments)}}},[e._v("Home")]),a("el-button",{staticClass:"header-button",attrs:{type:"text"},nativeOn:{click:function(t){return e.clickGallery.apply(null,arguments)}}},[e._v("Gallery")])],1)],1)],1)},v=[],m={name:"PageHeader",components:{},data(){return{}},methods:{clickHome(){console.log(this.$route),"/homepage"!==this.$route.path&&this.$router.push("homepage")},clickGallery(){"/gallery"!==this.$route.path&&this.$router.push("gallery")},clickLaunch(){"/editor"!==this.$route.path&&this.$router.push("editor")}},mounted(){},computed:{}},f=m,b=(a("c492"),Object(c["a"])(f,g,v,!1,null,"41a0ba36",null)),y=b.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-footer"},[a("el-row",{staticStyle:{height:"100%"},attrs:{gutter:5,type:"flex",align:"middle"}},[a("el-col",{attrs:{span:3,offset:6}},[a("span",{staticClass:"footer-text",staticStyle:{"user-select":"none"}},[e._v("WonderFlow")])]),a("el-col",{attrs:{span:12,offset:3}},[e._v(" Make it easy to create narration-enriched data videos ")])],1)],1)},w=[],x={name:"PageFooter",components:{},data(){return{}},methods:{},mounted(){},computed:{}},C=x,_=(a("462f"),Object(c["a"])(C,S,w,!1,null,"598dec7d",null)),j=_.exports,k={name:"HomepageView",components:{PageFooter:j,PageHeader:y},data(){return{}},methods:{},mounted(){},computed:{}},M=k,V=(a("4cb6"),Object(c["a"])(M,u,h,!1,null,"43a8d848",null)),L=V.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"gallery-view"},[a("el-header",[a("PageHeader")],1),a("el-main",[a("el-col",{attrs:{span:12,offset:6}},[a("el-row",[a("span",{staticClass:"page-text"},[e._v("Gallery")])]),a("el-row",[a("div",{staticClass:"svg-group"},[e._l(e.presetCharts,(function(t){return a("el-card",{key:t.id,staticClass:"svg-item clickable",attrs:{shadow:"hover","body-style":{padding:"0px"}},nativeOn:{click:function(a){return e.handleProjectClick(t)}}},[a("SvgPreviewer",{attrs:{project:t,height:180,width:290}}),a("div",{staticClass:"item-text-container"},[a("div",[e._v(e._s(t.label))]),a("div",{staticStyle:{color:"gray","font-size":"0.9rem"}},[e._v(e._s(t.chartType))])])],1)})),e._l([].concat(Array((3-e.presetCharts.length%3)%3).keys()),(function(e){return a("div",{key:"empty-block-"+e,staticClass:"svg-item"})}))],2)])],1)],1),a("el-footer",[a("PageFooter")],1)],1)},P=[],T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"svg-previewer",style:{height:e.height+"px",width:e.width+"px"}},[a("svg",{ref:"svg",attrs:{height:e.height,width:e.width}},[a("g",{staticClass:"scene"})])])},A=[],$=a("2f62"),O={name:"SvgPreviewer",props:["project","width","height"],data(){return{svg:null,scene:null,created:!1}},methods:{loadSVG(){if(this.created)return;const e=this.staticSvgMap.get(this.project.id);e&&(this.created=!0,this.scene.innerHTML=e,this.$nextTick(()=>{const e=this.scene.querySelector("svg");e.setAttribute("width",this.width),e.setAttribute("height",this.height);let t=e.getAttribute("viewBox");if(!t||!t.match(/\d+ \d+ \d+ \d+/)){const{width:e,height:a}=this.scene.getBoundingClientRect();t=`0 0 ${e} ${a}`}const a=t.split(" "),i=parseInt(a[2]),r=parseInt(a[3]);if(i/r>this.width/this.height){const e=Math.floor(this.width/this.height*r),a=Math.ceil((i-e)/2);t=`${a} 0 ${e} ${r}`}else{const e=Math.round(this.height/this.width*i),a=Math.ceil((r-e)/2);t=`0 ${a} ${i} ${e}`}e.setAttribute("viewBox",t)}))}},mounted(){this.svg=this.$refs.svg,this.scene=this.svg.querySelector(".scene")},watch:{staticSvgMapSign(){this.loadSVG()}},computed:{...Object($["b"])("resource",{staticSvgMap:e=>e.staticSvgMap,staticSvgMapSign:e=>e.staticSvgMapSign})}},G=O,q=Object(c["a"])(G,T,A,!1,null,"1bdfccbf",null),E=q.exports,F={name:"GalleryView",components:{SvgPreviewer:E,PageFooter:j,PageHeader:y},data(){return{}},mounted(){this.$store.dispatch("resource/queryAllSvg").then(()=>{this.$store.commit("resource/changeStaticSvgMapSign")})},methods:{handleProjectClick(e){this.$router.push({path:"example",query:{"example-index":this.projectList.indexOf(e)}})}},computed:{...Object($["b"])("resource",{projectList:e=>e.projectList}),projectGroupMap(){const e=new Map;return e.set("Single chart",[]),e.set("Custom chart",[]),e.set("Vega Line Chart",[]),this.projectList.forEach(t=>{const a=t.group;"Single chart"!==a&&"Custom chart"!==a&&"Vega Line Chart"!==a||e.get(a).push(t)}),e},presetCharts(){var e,t;const a=null!==(e=this.projectGroupMap.get("Single chart"))&&void 0!==e?e:[],i=null!==(t=this.projectGroupMap.get("Vega Line Chart"))&&void 0!==t?t:[];return a.concat(...i)},customCharts(){var e;return null!==(e=this.projectGroupMap.get("Custom chart"))&&void 0!==e?e:[]}}},W=F,H=(a("1084"),Object(c["a"])(W,I,P,!1,null,"55118168",null)),D=H.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"example-view"},[a("el-header",[a("PageHeader")],1),a("el-main",[a("el-col",{attrs:{span:12,offset:6}},[a("el-row",[a("div",{staticStyle:{width:"100%",display:"flex"}},[a("span",{staticClass:"page-text"},[e._v(e._s(e.project.label))]),a("el-button",{staticClass:"back-button",attrs:{type:"text"},nativeOn:{click:function(t){return e.clickBack.apply(null,arguments)}}},[e._v("< Back to gallery")])],1),a("span",{staticClass:"page-text-small"},[e._v(e._s(e.project.chartType))])]),a("el-row",{staticStyle:{display:"flex","flex-wrap":"wrap","margin-top":"20px"}},[a("SvgPreviewer",{staticStyle:{border:"1px solid #cecece","border-radius":"4px"},attrs:{project:e.project,height:320,width:500}}),a("div")],1),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"title-text"},[e._v("Link to Original Video")]),a("a",{staticClass:"content-text",attrs:{href:e.galleryInfo.link}},[e._v(e._s(e.galleryInfo.videoName))])]),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"title-text"},[e._v("Narration")]),a("div",{staticClass:"content-text"},[e._v(e._s(e.galleryInfo.transcript))])]),a("el-row",[a("div",{staticClass:"title-text"},[e._v("Creation Process")]),a("video",{staticClass:"local-video",attrs:{src:"./data/video/V"+(e.projectIndex+1)+"_1.mp4",controls:"",width:"100%",height:"100%"}})]),a("el-row",[a("div",{staticClass:"title-text"},[e._v("Final Version")]),a("video",{staticClass:"local-video",attrs:{src:"./data/video/V"+(e.projectIndex+1)+"_2.mp4",controls:"",width:"100%",height:"100%"}})])],1)],1),a("el-footer",[a("PageFooter")],1)],1)},B=[],R={name:"ExampleView",components:{SvgPreviewer:E,PageFooter:j,PageHeader:y},data(){return{projectIndex:-1,project:{}}},mounted(){let e=1;try{var t;e=parseInt(null!==(t=this.$route.query["example-index"])&&void 0!==t?t:""+e)}catch(a){console.log(a)}this.projectIndex=e,this.project=this.projectList[this.projectIndex],this.$store.dispatch("resource/queryAllSvg").then(()=>{this.$store.commit("resource/changeStaticSvgMapSign")})},methods:{clickBack(){this.$router.push("gallery")},clickLaunch(){this.$router.push({path:"editor",query:{"example-index":this.projectIndex}})}},watch:{},computed:{...Object($["b"])("resource",{projectList:e=>e.projectList,galleryList:e=>e.galleryList}),galleryInfo(){var e;return this.project&&null!==(e=this.galleryList.find(e=>e.id===this.project.id))&&void 0!==e?e:{}}}},U=R,z=(a("7bc9"),Object(c["a"])(U,N,B,!1,null,"412f16fc",null)),Z=z.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"live-view"},[e._m(0),a("el-row",{staticClass:"main-container"},[a("el-col",{staticClass:"upload-container"},[a("div",{staticClass:"title-text-container"},[a("span",{staticClass:"title-text"},[e._v("Data Upload")])]),a("SelectColumnPanel")],1),a("el-col",{staticClass:"generation-container"},[a("div",{staticClass:"title-text-container",staticStyle:{background:"#FEF7F2"}},[a("span",{staticClass:"title-text",staticStyle:{color:"#F5590D"}},[e._v("Generation")])]),a("el-button",{staticClass:"upload-btn",attrs:{plain:""}},[e._v("Live")])],1)],1)],1)},J=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"head-container"},[a("span",{staticClass:"header-text",attrs:{title:"Live Chart"}},[e._v("Live Chart")])])}],Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"select-container"},[a("span",[e._v("Select Columns")]),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{property:"date",label:"日期",width:"120"}}),a("el-table-column",{attrs:{property:"name",label:"姓名",width:"120"}}),a("el-table-column",{attrs:{property:"address",label:"地址"}})],1),a("el-button",{staticClass:"upload-btn",attrs:{plain:""}},[e._v("Live")])],1)},Q=[],X={name:"SelectColumnPanel",data(){return{tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}],currentRow:null}},methods:{},mounted(){},watch:{},computed:{}},ee=X,te=(a("fef3"),Object(c["a"])(ee,Y,Q,!1,null,"27202780",null)),ae=te.exports,ie={name:"LiveView",components:{SelectColumnPanel:ae},data(){return{}},methods:{},mounted(){},computed:{}},re=ie,oe=(a("e13f"),Object(c["a"])(re,K,J,!1,null,"4d510832",null)),se=oe.exports,ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload-view"},[a("el-header",{staticClass:"head-container"},[a("span",{staticClass:"header-text",attrs:{title:"Live Chart"}},[e._v("Live Chart")])]),a("el-main",{staticClass:"main-container"},[a("el-col",{staticClass:"upload"},[a("el-upload",{staticClass:"upload-data",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,multiple:"",limit:1,"on-exceed":e.handleExceed,"file-list":e.fileList}},[a("el-button",{staticClass:"upload-btn",attrs:{plain:""}},[e._v("Data Upload")])],1),a("span",{staticClass:"main-text"},[e._v("Don't have data? Try any of the files below.")]),a("el-row",[a("el-button",{staticClass:"data-btn",attrs:{size:"mini"},nativeOn:{click:function(t){return e.clickLive.apply(null,arguments)}}},[e._v("a.csv")]),a("el-button",{staticClass:"data-btn",attrs:{size:"mini"}},[e._v("b.csv")]),a("el-button",{staticClass:"data-btn",attrs:{size:"mini"}},[e._v("c.csv")]),a("el-button",{staticClass:"data-btn",attrs:{size:"mini"}},[e._v("d.csv")])],1)],1)],1)],1)},le=[],ce={name:"UploadView",components:{},data(){return{}},methods:{clickLive(){console.log(this.$route),"/live"!==this.$route.path&&this.$router.push("live")}},mounted(){},computed:{}},de=ce,pe=(a("f3ca"),Object(c["a"])(de,ne,le,!1,null,"7907a5c4",null)),ue=pe.exports;const he=[{path:"/homepage",component:L},{path:"/gallery",component:D},{path:"/example",component:Z},{path:"/upload",component:ue},{path:"/live",component:se},{path:"/",redirect:"/homepage"}];var ge=new r["a"]({mode:"hash",routes:he}),ve=a("5c96"),me=a.n(ve),fe=a("bc3a"),be=a.n(fe);function ye(e,t,a){let i="./data/project/"+e;be.a.get(i).then(e=>{t(e)}).catch(e=>{a(e)})}function Se(e,t,a){let i="./data/svg/"+e;return be.a.get(i).then(e=>{t(e)}).catch(e=>{a(e)})}function we(e,t,a){let i="./data/transcript/"+e;return be.a.get(i).then(e=>{t(e)}).catch(e=>{a(e)})}function xe(e,t,a){let i="./data/audio/"+e;return be.a.get(i).then(e=>{t(e)}).catch(e=>{a(e)})}function Ce(e,t,a){let i="./data/target-v2/"+e;return be.a.get(i).then(e=>{t(e)}).catch(e=>{a(e)})}function _e(e,t,a){let i="./data/linking/"+e;return be.a.get(i).then(e=>{t(e)}).catch(e=>{a(e)})}function je(e,t,a){let i="./data/insight/"+e;return be.a.get(i).then(e=>{t(e)}).catch(e=>{a(e)})}var ke=a("5e48"),Me=a.n(ke),Ve=[{id:"travel",label:"Travel",group:"Single chart"},{id:"parallel_coord",label:"parallel_coord",group:"Single chart"},{id:"living",label:"Living",group:"Single chart"},{id:"hunger",label:"Hunger",group:"Single chart"},{id:"radar",label:"Radar",group:"Single chart"},{id:"phone",label:"Phone",group:"Single chart"},{id:"radar2",label:"Radar2",group:"Single chart"},{id:"river",label:"River",group:"Single chart"},{id:"vega-lite-GDP-comparison",label:"GDP comparison",group:"Single chart"},{id:"vega-lite-GDP-comparison1",label:"GDP comparison1",group:"Single chart"},{id:"australia-fire-example1",label:"Australia Fire",group:"Single chart"},{id:"accounting-of-pirates-example1",label:"Accounting of Pirates",group:"Single chart"},{id:"commute-mode-example1",label:"Commute Mode",group:"Single chart"},{id:"house-prices-example1",label:"House Prices",group:"Single chart"},{id:"army-military-comparison-example1",label:"GDP Comparison",group:"Single chart"},{id:"sat-score-example1",label:"SAT Score",group:"Single chart"},{id:"scottish-independence-referendum-example1",label:"Scottish Independence Referendum",group:"Single chart"},{id:"share-of-profits-example1",label:"Share of Profits",group:"Single chart"},{id:"shortage-of-water-example1",label:"Shortage of Water",group:"Single chart"},{id:"transportation-mode-example1",label:"Transportation Mode",group:"Single chart"},{id:"wealth-inequality-example1",label:"Wealth Inequality",group:"Single chart"},{id:"tax-payment",label:"Tax-Payment",group:"WonderFlow2"},{id:"characteristics-of-mushrooms",label:"characteristics-of-mushrooms",group:"WonderFlow2"},{id:"chinese-tourists",label:"chinese-tourists",group:"WonderFlow2"},{id:"vega-lite-driving-shifts-into-reverse",label:"Driving Shifts Into Reverse",group:"Vega-Lite Chart"},{id:"vega-lite-PM25",label:"PM2.5",group:"Vega-Lite Chart"},{id:"vega-lite-5-point-Likert",label:"5-point Likert",group:"Vega-Lite Chart"},{id:"vega-lite-body-mass-of-penguins",label:"body-mass-of-penguins",group:"Vega-Lite Chart"},{id:"vega-lite-monthly-profit-and-loss",label:"monthly-profit-and-loss",group:"Vega-Lite Chart"},{id:"vega-lite-movie-ratings",label:"vega-lite-movie-ratings",group:"Vega-Lite Chart"},{id:"vega-lite-stock-prices",label:"vega-lite-stock-prices",group:"Vega-Lite Chart"},{id:"vega-lite-stock-prices2",label:"vega-lite-stock-prices2",group:"Vega-Lite Chart"},{id:"vega-lite-weather",label:"vega-lite-weather",group:"Vega-Lite Chart"},{id:"vega-lite-london-tube-lines",label:"vega-lite-london-tube-lines",group:"Vega-Lite Chart"},{id:"vega-lite-unemployment",label:"vega-lite-unemployment",group:"Vega-Lite Chart"},{id:"vega-lite-parallel-coordinate",label:"vega-lite-parallel-coordinate",group:"Vega-Lite Chart"},{id:"vega-lite-cars",label:"vega-lite-cars",group:"Vega-Lite Chart"},{id:"vega-lite-CO2",label:"vega-lite-CO2",group:"Vega-Lite Chart"},{id:"vega-lite-tourism",label:"vega-lite-tourism",group:"Vega-Lite Chart"},{id:"vega-lite1",label:"Vega-lite Test1",group:"Vega-Lite Chart"},{id:"vega-lite2",label:"Vega-lite Test2",group:"Vega-Lite Chart"},{id:"vega-lite5",label:"Vega-lite Test5",group:"Vega-Lite Chart"},{id:"vega-lite7",label:"Vega-lite Test7",group:"Vega-Lite Chart"},{id:"vega-lite4",label:"Vega-lite Test4",group:"Vega-Lite Chart"},{id:"vega-lite6",label:"Vega-lite Test6",group:"Vega-Lite Chart"},{id:"vega-lite8",label:"Vega-lite Test8",group:"Vega-Lite Chart"},{id:"vega-lite3",label:"Vega-lite Test3 (Improper)",group:"Vega-Lite Chart"},{id:"vega-lite15",label:"Vega-lite Test15",group:"Vega-Lite Chart"},{id:"vega-lite9",label:"Vega-lite Test9",group:"Vega-Lite Chart"},{id:"vega-lite10",label:"Vega-lite Test10",group:"Vega-Lite Chart"},{id:"vega-lite11",label:"Vega-lite Test11",group:"Vega-Lite Chart"},{id:"vega-lite12",label:"Vega-lite Test12",group:"Vega-Lite Chart"},{id:"vega-lite14",label:"Vega-lite Test14 (Hard)",group:"Vega-Lite Chart"},{id:"vega-lite16",label:"Vega-lite Test16",group:"Vega-Lite Chart"},{id:"vega-lite17",label:"Vega-lite Test17",group:"Vega-Lite Chart"},{id:"vega-lite18",label:"Vega-lite Test18",group:"Vega-Lite Chart"},{id:"vega-lite19",label:"Vega-lite Test19",group:"Vega-Lite Chart"},{id:"vega-lite20",label:"Vega-lite Test20",group:"Vega-Lite Chart"},{id:"figma-test",label:"Figma Test",group:"WonderFlow2"},{id:"pie-vega-HIV-example1",label:"pie-vega-HIV",group:"Single chart"},{id:"bar-vega-plan-timeline-example1",label:"bar-vega-plan-timeline",group:"Single chart"},{id:"pie-vega-mine-production-example1",label:"pie-vega-mine-production",group:"Single chart"},{id:"pie-vega-gas-emission-example1",label:"pie-vega-gas-emission",group:"Single chart"},{id:"pie-vega-covid-19-patient-example1",label:"pie-vega-covid-19-patient",group:"Single chart"},{id:"pie-vega-coffee-example1",label:"pie-vega-coffee",group:"Single chart"},{id:"pie-vega-woman-poverty-example1",label:"pie-vega-woman-poverty",group:"Single chart"},{id:"bar-vega-crime-example1",label:"bar-vega-crime",group:"Single chart"},{id:"bar-vega-food-emission-example1",label:"bar-vega-food-emission",group:"Single chart"},{id:"bar-vega-social-media-platform-example1",label:"bar-vega-social-media-platform",group:"Single chart"},{id:"bar-vega-co2-emission-example1",label:"bar-vega-co2-emission",group:"Single chart"},{id:"line-annual-box-office-earnings-example1",label:"line-annual-box-office-earnings",group:"Single chart"},{id:"line-3619-example1",label:"Line 3619",group:"Single chart"},{id:"vega-average-price-example1",label:"Average Price",group:"Single chart"}],Le=[{id:"australia-fire-example1",videoName:"Why does climate change make wildfires worse?",link:"https://youtu.be/mypEs1SBAUg?t=197",transcript:"In 2019, human-caused and out-of-control fires burned 976200 hectares of the Amazon rainforest. That's the third-highest increase in the rate of deforestation in the Amazon's history. At a 30% jump from the prior year, second only to 1995, which was 95% and 1998 which was 31%."},{id:"accounting-of-pirates-example1",videoName:"How Somalia’s Pirates Make Money",link:"https://youtu.be/dZh0B8AYxac?t=389",transcript:"First, investors get their guaranteed cut of at least 30%. The port, who looked the other way while they parked the ship, gets 5-10%. And the rest is split between the attackers, with a bonus of around $10,000 for being first to board the ship."},{id:"commute-mode-example1",videoName:"Why American public transit is so bad | 2020 Election",link:"https://youtu.be/-ZDZtBRTyeI?t=80",transcript:"The most common American commute is actually from suburb to suburb; routes that public transit in the US usually doesn’t serve. It’s one reason that the overwhelming majority of Americans get to work by driving alone. Most Americans don’t rely on public transit, making it better is rarely a top political priority, which makes things even harder for the people who do rely on neglected transit systems."},{id:"house-prices-example1",videoName:"Why are houses so expensive?",link:"https://youtu.be/vhAXp0xzMFg?t=189",transcript:"Here is a line chart."},{id:"army-military-comparison-example1",videoName:"China vs Japan - Who Would Win - Army / Military Comparison",link:"https://youtu.be/eBV4GmK4kO4?t=33",transcript:"The USA has the world's highest GDP of around 18.5 trillion dollars. It's followed by China with a nominal GDP of 11.8 trillion dollars, and then Japan with a GDP of around 4.8 trillion dollars. The European Union would take second place, but the EU is a combination of 28 states."},{id:"sat-score-example1",videoName:"The problem with America's college entrance exam",link:"https://youtu.be/WjVVwMGJ9S8?t=334",transcript:"Here's a chart of the average SAT scores by family income. Students whose families earn less than $20,000 score around 890 -- way below average. And as we move up the income brackets, students score higher and higher. The wealthiest students -- whose parents earn more than $200,000 -- score an average of 1150."},{id:"scottish-independence-referendum-example1",videoName:"Scottish independence referendum 2014 explained | Guardian Animations",link:"https://youtu.be/zIeVmqVB9pQ?t=29",transcript:"Didn't you just call Scotland a country? Isn't Scotland already a country? The definitive answer to that question is: sort of. Technically Scotland is a country within a country known as the United Kingdom. Scotland may have its own church, its own legal system, its own professional soccer league and its own dietary idiosyncrasies, but it’s still part of the UK, which also includes the countries of England, Wales and Northern Ireland."},{id:"share-of-profits-example1",videoName:"How American CEOs got so rich",link:"https://youtu.be/ylLTMYt24lA?t=299",transcript:"General Motor, Volkswagen and Toyota are three of the biggest motor corporations in the world. In this chart, you can see how much of their profits three companies spend on buybacks. GM has the highest buyback during this period, except 2016. Volkswagen hasn’t done any since 2012, and Toyota’s biggest buyback years are roughly the size of GM’s smallest."},{id:"shortage-of-water-example1",videoName:"Dubai's Plan to Outlive Oil",link:"https://youtu.be/-dsM8zPGqa0?t=159",transcript:"In the Middle East, the entire 3.2 million square kilometer peninsula lacks a single natural river. The United States, in comparison, has 250,000. 98.8% of Dubai’s water has to be pumped from the Persian Gulf and desalinated."},{id:"transportation-mode-example1",videoName:"Why American public transit is so bad | 2020 Election",link:"https://youtu.be/-ZDZtBRTyeI?t=243",transcript:"The people who live in these places are less likely than the national average to drive, and more likely to walk, bike, or take transit."},{id:"wealth-inequality-example1",videoName:"Wealth Inequality in America",link:"https://youtu.be/QPKKQnijnsM?t=161",transcript:"Here's that idea we asked everyone about something like this curve. This isn't too bad we've got some incentive as the wealthiest folks are now about 10 to 20 times better off than the poorest Americans. But hey even the poor folks aren't actually poor since the poverty line has stayed almost entirely off the chart. We have a super healthy middle class with a smooth transition into wealth, and yes Republicans and Democrats alike chose this curve."}];const Ie=()=>({projectList:Ve,galleryList:Le,staticSvgMap:new Map,staticSvgMapSign:!1,projectId:null,projectSpec:null,svgStrMap:new Map,audioStrMap:new Map,transcriptMap:new Map,targetModelMap:new Map,extraProjectSpecMap:new Map,linkingMap:new Map,insightsMap:new Map,audioEl:null}),Pe={},Te={async queryProjectSpec({commit:e,dispatch:t},a){e("changeProjectId",a),e("initResources");const i=a+".json5";function r(e){const a=[];for(const i of e){const e=i.charts[0].source;if(""!==e){const i=e.trim().replace("./","").replace(".svg","");a.push(t("queryStaticSVG",i)),a.push(t("queryTranscript",i)),a.push(t("queryStaticAudio",i)),a.push(t("queryTargetModel",i)),a.push(t("queryLinking",i))}}return Promise.all(a)}ye(i,t=>{const a="string"===typeof t.data?Me.a.parse(t.data):t.data;e("changeProjectSpec",a),r(a.scenes).then(()=>{e("project/initProjectView",null,{root:!0})})},e=>{Object(ve["Notification"])({title:"Fail to get sample file.",message:e.message,type:"error"}),console.error(e)})},async queryProjectSpec2({state:e,commit:t,dispatch:a},i){function r(e){const t=[];for(const i of e){const e=i.charts[0].source;if(""!==e){const i=e.trim().replace("./","").replace(".svg","");t.push(a("queryStaticSVG",i)),t.push(a("queryTranscript",i)),t.push(a("queryStaticAudio",i)),t.push(a("queryTargetModel",i)),t.push(a("queryLinking",i)),t.push(a("queryInsights",i))}}return Promise.all(t)}if(e.extraProjectSpecMap.has(i)){const a=i;t("changeProjectId",i),t("initResources");const{svgStr:r,targetModel:o,transcript:s,insights:n,audioStr:l,fakeProjectSpec:c}=e.extraProjectSpecMap.get(i);t("changeProjectSpec",c),t("addSVGStr",{srcId:a,svgStr:r}),t("addStaticSVGStr",{srcId:a,svgStr:r}),t("addTargetModel",{srcId:a,targetModel:o}),t("addTranscript",{srcId:a,transcript:s}),t("addAudioStr",{srcId:a,audioStr:l}),t("addInsights",{srcId:a,insights:n}),t("project/initProjectView",null,{root:!0}),t("editor/changeSceneById",0,{root:!0}),t("editor/initWorkspace",null,{root:!0})}else{t("changeProjectId",i),t("initResources");const e=i+".json5";ye(e,e=>{const a="string"===typeof e.data?Me.a.parse(e.data):e.data;t("changeProjectSpec",a),r(a.scenes).then(()=>{t("project/initProjectView",null,{root:!0}),t("editor/changeSceneById",0,{root:!0}),t("editor/initWorkspace",!0,{root:!0})})},e=>{Object(ve["Notification"])({title:"Fail to get sample file.",message:e.message,type:"error"}),console.error(e)})}},async queryAllSvg({state:e,commit:t}){e.projectList.forEach(a=>{const i=a.id;if(e.staticSvgMap.has(i))return;const r=i+".json5";ye(r,e=>{const a="string"===typeof e.data?Me.a.parse(e.data):e.data,r=a.scenes[0],o=r.charts[0].source;if(""!==o){const e=o.trim().replace("./","").replace(".svg",""),a=e+".svg";Se(a,e=>{t("addStaticSVGStr",{projectId:i,svgStr:e.data})},e=>{t("addStaticSVGStr",{projectId:i,svgStr:""}),console.error(e)})}},e=>{console.error(e)})})},queryStaticSVG({commit:e},t){const a=t+".svg";return Se(a,a=>{e("addSVGStr",{srcId:t,svgStr:a.data})},i=>{e("addSVGStr",{srcId:t,svgStr:""}),Object(ve["Notification"])({title:`Chart resource ${a} not found.`,message:i.message,type:"warning"}),console.error(i)})},queryInsights({commit:e},t){const a=t+".json";return je(a,a=>{e("addInsights",{srcId:t,insights:a.data})},i=>{e("addInsights",{srcId:t,insights:{}}),Object(ve["Notification"])({title:`Insights resource ${a} not found.`,message:i.message,type:"warning"}),console.error(i)})},queryStaticAudio({commit:e},t){const a=t+".txt";return xe(a,a=>{e("addAudioStr",{srcId:t,audioStr:a.data})},a=>{e("addAudioStr",{srcId:t,audioStr:""}),Object(ve["Notification"])({title:"Fail to get static audio.",message:a.message,type:"error"}),console.log(a)})},queryTranscript({commit:e},t){const a=t+".json";return we(a,a=>{e("addTranscript",{srcId:t,transcript:a.data})},i=>{e("addTranscript",{srcId:t,transcript:{}}),Object(ve["Notification"])({title:`Transcript resource ${a} not found.`,message:i.message,type:"warning"}),console.error(i)})},queryTargetModel({commit:e},t){const a=t+".json";return Ce(a,a=>{e("addTargetModel",{srcId:t,targetModel:a.data})},i=>{e("addTargetModel",{srcId:t,targetModel:null}),a.includes("vega")||console.log(i)})},queryLinking({commit:e},t){const a=t+".json";return _e(a,a=>{e("addLinking",{srcId:t,linking:a.data})},i=>{e("addLinking",{srcId:t,linking:null}),a.includes("vega")||(Object(ve["Notification"])({title:`Linking ${a} not found.`,message:i.message,type:"warning"}),console.log(i))})}},Ae={changeProjectId(e,t){e.projectId=t},initResources(e){e.projectSpec=null,e.svgStrMap=new Map,e.audioStrMap=new Map,e.transcriptMap=new Map,e.targetModelMap=new Map,e.insightsMap=new Map},changeProjectSpec(e,t){e.projectSpec=t},addSVGStr(e,{srcId:t,svgStr:a}){e.svgStrMap.set(t,a)},addStaticSVGStr(e,{projectId:t,svgStr:a}){e.staticSvgMap.set(t,a),setTimeout(()=>this.commit("resource/changeStaticSvgMapSign"),0)},changeStaticSvgMapSign(e){e.staticSvgMapSign^=!0},addInsights(e,{srcId:t,insights:a}){e.insightsMap.set(t,a)},addAudioStr(e,{srcId:t,audioStr:a}){e.audioStrMap.set(t,a)},addTranscript(e,{srcId:t,transcript:a}){e.transcriptMap.set(t,a)},addTargetModel(e,{srcId:t,targetModel:a}){e.targetModelMap.set(t,a)},addLinking(e,{srcId:t,linking:a}){e.linkingMap.set(t,a)},updateSVGModel(e,{chartId:t,svgStr:a,targetModel:i}){e.svgStrMap.set(t,a),e.targetModelMap.set(t,i)},registerAudioEl(e,t){e.audioEl=t}};var $e={namespaced:!0,state:Ie,getters:Pe,actions:Te,mutations:Ae};i["default"].use($["a"]);var Oe=new $["a"].Store({modules:{resource:$e},strict:!1}),Ge=(a("0fae"),a("b2d6")),qe=a.n(Ge),Ee=a("21a6"),Fe=a("8f94"),We=a.n(Fe);a("a7be");const He=new i["default"];i["default"].config.productionTip=!1,i["default"].use(r["a"]),i["default"].use(me.a,{locale:qe.a}),i["default"].use(We.a),i["default"].prototype.$saveAs=Ee["saveAs"],new i["default"]({render:e=>e(p),router:ge,store:Oe}).$mount("#app")},"5bc0":function(e,t,a){},"6e8a":function(e,t,a){"use strict";a("b24d")},"7bc9":function(e,t,a){"use strict";a("db27")},"8f35":function(e,t,a){},b24d:function(e,t,a){},c492:function(e,t,a){"use strict";a("39ec")},db27:function(e,t,a){},e13f:function(e,t,a){"use strict";a("4c89")},f3ca:function(e,t,a){"use strict";a("8f35")},fef3:function(e,t,a){"use strict";a("2f6e")}});
//# sourceMappingURL=app.ae6882d3.js.map